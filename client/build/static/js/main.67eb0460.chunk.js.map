{"version":3,"sources":["Components/CounterNav/CounterStyle.js","GlobalStyles.js","Components/TopNav/NavStyle.js","Components/TopNav/TopNav.js","Components/CounterNav/CounterNav.js","Components/HeatMap/HeatMap.js","Components/HeatMap/HeatMapData.js","Components/Oncoprint/Oncoprint.js","Components/Oncoprint/OncoprintData.js","Components/Footer/Footer.js","Components/Dataset/Dataset.js","Components/DonutChart/DonutChart.js","Components/Dataset/DatasetDonut.js","Components/Documentation/Documentation.js","Components/Drug/DrugTableStyle.js","Components/Drug/DrugTable.js","Components/Drug/DonutDrug.js","Components/DonutChart/DonutPatient.js","Components/Tissue/DonutTissue.js","Components/Search/SearchStyle.js","Components/Search/GeneList.js","Components/Search/Search.js","Components/Home/HomeStyle.js","Components/Home/Home.js","Components/Login/LoginStyle.js","Components/Login/Login.js","Components/Search/SearchResultOncoprint.js","Components/Search/SearchResultHeatMap.js","Components/Search/SearchResult.js","Components/TumorGrowthCurve/TumorGrowthCurve.js","App.js","index.js","images/logo.png","images/bgImg7.png","images/pclogo_220.gif"],"names":["DonutNav","styled","div","_templateObject","GlobalStyles","createGlobalStyle","GlobalStyles_templateObject","bgImg","HeaderStyle","header","NavStyle_templateObject","LinkStyle","_templateObject2","LogoStyle","img","_templateObject3","TopNav","react_default","a","createElement","react_router_dom","to","src","logo","alt","React","Component","CounterNav","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","drugs","patients","datasets","tissues","_this2","axios","get","then","response","setState","data","react","Components_TopNav_TopNav","src_GlobalStyles","CounterStyle","build_default","start","end","duration","useEasing","HeatMap","bind","assertThisInitialized","makeHeatmap","node","drug","drug_id","patient_id","dimensions","margin","patient","plotId","rect_height","height","rect_width","width","length","target_eval","value","color","target_color","drug_use","drug_index","patient_use","max_drug","drug_evaluations","i","CR","PR","SD","PD","NA","empty","patient_evaluations","j","total","calculate_evaluations","d","drug_alt","current_max_drug","_i","_keys","keys","entries","key","querystring_value","concat","rectKeys","yScale","d3","domain","rangeRound","xScale","yAxis","scale","tickSize","tickPadding","xAxis","svg","append","attr","bottom","top","left","right","skeleton","gskeleton","selectAll","enter","values","map","p_count","drug_class","replace","style","on","split","lines","temp","slice","push","text","target_rect","drug_eval","drug_Scale","range","x_axis","ticks","tickFormat","drug_height_Scale","drugEvaluationRectangle","iterator","x_range","forEach","type","max_patientid_total","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","next","done","curent_max","err","return","patient_eval","patient_Scale","patient_scales","y_axis","patientEvaluationRectangle","y_range","ref","className","HeatMapData","dataset_param","parseData","result","dataset","pop","element","data_object","Drug","fontSize","Components_HeatMap_HeatMap","Oncoprint","threshold","hmap_patients","data_mut","data_rna","genes_mut","genes_rna","patient_mut","patient_rna","makeOncoprint","Array","prototype","unique","splice","genes","rect_alterations_mut","rect_alterations_rna","rect_alterations","toConsumableArray","geneNames","_loop","geneAxis","alterations","highlight","gene_alterations","patient_alterations","mut","amp","del","diff","filter","x","includes","colorReactangles","rect","colorNotSequenced","indexOf","z","Number","maxPAmp","maxPMut","maxPHomdel","maxGAmp","maxGMut","maxGHomdel","max_width_arr","max_width","xrange_gene","gene_alter","geneAlterationReactangle","stroke_width","xrange_scale","select","max_height_arr","max_height","patient_alter","yrange_patient","patientAlterationReactangle","yrange_axis","nice","each","remove","_loop2","OncoprintData","updateResults","onco","val","substring","toLowerCase","return_value","gene_id","mutation_data","rnaseq_data","Promise","all","Components_Oncoprint_Oncoprint","styles","textAlign","paddingTop","minHeight","display","flexDirection","position","minWidth","backgroundColor","fontFamily","Footer","Dataset","match","params","id","HeatMap_HeatMapData","Oncoprint_OncoprintData","Components_Footer_Footer","DonutChart","makeDonutChart","chartId","tooltip","arc","outerRadius","innerRadius","labelArc","pie","sort","arcs","parameter","piearc","transition","ease","attrTween","b","startAngle","endAngle","t","mouseover","selection","mousemove","pageX","pageY","mouseout","centroid","donut_rect","Wrapper","DatasetDonut_templateObject","DatasetDonut","dataset_name","dataset_id","Components_DonutChart_DonutChart","Documentation","TableWrapper","DrugTableStyle_templateObject","h1Style","DrugTable","pubchem","columns","Header","accessor","sortable","Cell","original","DrugTableStyle","es","defaultPageSize","filterable","DonutDrug_templateObject","DonutDrug","new_values","class_name","model_ids","DonutDrug_Wrapper","Drug_DrugTable","DonutTissue_templateObject","DonutTissue","tissue_name","DonutTissue_Wrapper","StyleBar","SearchStyle_templateObject","StyleButton","button","SearchStyle_templateObject2","customStyles","placeholder","provided","objectSpread","fontWeight","control","&:hover","borderColor","border","boxShadow","padding","borderRadius","background","indicatorSeparator","dropdownIndicator","cursor","option","singleValue","input","clearIndicator","GeneList","Search","axiosConfig","headers","Content-Type","Accept","handleDrugChange","selectedOption","action","selectedDrugs","allDrugs","label","handleDatasetChange","selectedDataset","initial","post","item","handleGeneListChange","selectedGeneSearch","handleGeneSearchChange","event","target","handleExpressionChange","genomics_value","selectedGenomics","toggleRNA","handleThreshold","handleKeyPress","redirectUser","history","genomics","genomic","onKeyPress","react_select_browser_esm","options","onChange","isMulti","isSearchable","isClearable","name","onClick","withRouter","Container","HomeStyle_templateObject","Home","HomeStyle","Components_Search_Search","Components_CounterNav_CounterNav","Paper","LoginStyle_templateObject","PaperGradient","LoginStyle_templateObject2","FormStyle","form","LoginStyle_templateObject3","SubmitStyle","_templateObject4","_templateObject5","LogoBack","_templateObject6","Login","handleUserChange","username","handlePasswordChange","password","handleSubmit","preventDefault","LoginStyle_LogoStyle","Container_Container","component","maxWidth","Typography","variant","marginTop","onSubmit","TextField","required","fullWidth","autoFocus","autoComplete","Button","Grid","container","xs","href","SearchResultOncoprint","genomics_param","gene_param","query_data","SearchResultHeatMap","drug_data","patient_id_drug","drug_param","class","SearchResult","URLSearchParams","location","search","gene","Search_SearchResultHeatMap","Search_SearchResultOncoprint","TumorGrowthCurve","getParams","norm","dataParse","makeTumorGrowthCurve","batchToggle","patient_param","drugid_param","first","batch_select","data_formatted","batches","String","replaceAll","s","r","RegExp","new_datapt","exp_type","batch","model","pdx_points","times","parseInt","volumes","parseFloat","volume_normals","pdx_json","time","volume","volume_normal","console","log","property","index","self","plotBatch","graph","xrange","yrange","dots","paths","linepath","y","timeUnion","minControl","minTreatment","treatment","getUnionOfTimepoints","exp_types","shift","ypoint_arr","all_ypoint","n","exp","_groups","temp_ycoord","path","ycoord","findY","invert","mean","mean_svg","tooltips","html","mean_dots","mean_path","plotMeans","arr","pathLength","getTotalLength","Math","max","getPointAtLength","min","pos","abs","maxTimeArray","minVolArray","maxVolArray","maxVolNormArray","maxTime","apply","maxVolume","maxVolNorm","legend","yAxisAdd","volumeToggle","tumorCurve","_this3","Merge","App","react_router","exact","render","ReactDOM","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.67eb0460.chunk.js","sourcesContent":["import styled from 'styled-components'\n\n\nconst DonutNav = styled.div`\n    display: flex;\n    background-color: rgb(255,255,255,0.8);\n    min-height: 70px;\n    max-height: 70px;\n    position: fixed;\n    bottom:0;\n    left:0;\n    width: 100%;\n    align-items: flex-end;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    font-family: 'Montserrat', sans-serif;\n    font-weight:500;\n    font-size: 1.4em;\n    padding-bottom:5px;\n    a{\n        padding: 10px;\n        color: #3453b0;\n        letter-spacing: 2px;\n        font-weight: bold;\n        font-size: 20px;\n        text-decoration: none;\n        &:hover {\n            color: #e5ac11;\n        }\n        text-align:center;\n    }\n    h4 {\n        margin-top: 3px;\n        margin-bottom: 0px;\n    }\n\n    @media screen and (max-width: 1500px) {\n        a {\n            font-size: 18px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 100px;\n        }\n    }\n\n    @media screen and (max-width: 1300px) {\n        a {\n            font-size: 18px;\n        }\n        \n        a:nth-child(1) {\n            margin-left : 10px;\n        }\n    }\n\n    @media screen and (max-width: 1000px) {\n        a {\n           font-size: 14px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n\n    @media screen and (max-width: 700px) {\n        a {\n           font-size: 10px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n`;\n\n\nexport default DonutNav","import bgImg from './images/bgImg7.png';\nimport { createGlobalStyle } from 'styled-components';\n\n\n\nconst GlobalStyles = createGlobalStyle`\n\n  body {\n    background: linear-gradient(\n      to right top,\n      rgba(255, 255, 255, 0.3), \n      rgba(255, 255, 255, 0.3)\n    ),url('${bgImg}');\n    background-size: cover;\n    background-attachment: fixed;\n    background-position: center;\n    margin: auto;\n    width:100%;\n  }\n\n  #root {\n    display: flex;\n    min-height: 100vh;\n    flex-direction: column;\n    \n    min-width:100vw;\n    width:auto;\n    position:relative;\n    margin:0px;\n  }\n\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    h1 {\n      font-family:'Raleway', sans-serif;\n      font-weight:700;\n      text-align:center;\n      color: #3453b0;\n    }\n  }\n\n  .heatmap-wrapper, .doc-wrapper {\n    margin-top: 200px;\n  }\n\n  .oprint-wrapper {\n    margin-bottom:100px;\n  }\n\n  .heatmap-wrapper, .oprint-wrapper {\n    min-width:1000px;\n  }\n  .heatmap-wrapper, .oprint-wrapper, .curve-wrapper,\n  .donut-wrapper, .doc-wrapper { //put all wrappers here and wrap them with wrapper\n    background:white;\n    font-family:Arial;\n  }\n\n  .donut-wrapper {\n    margin-bottom:20px;\n    min-width:1300px;\n  }\n\n  .heatmap, .oprint {\n    height:700px;\n    overflow:auto;\n  }\n\n  .curve-wrapper {\n    min-width:1300px;\n    display:flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    a {\n      text-decoration:none;\n      font-size:16px;\n      padding:20px;\n      font-family: 'Raleway', sans-serif;\n      color: #3453b0;\n    }\n\n    .no-graph {\n      padding:50px;\n    }\n  }\n`\n\n\nexport default GlobalStyles;","import styled from 'styled-components'\n\nconst HeaderStyle = styled.header`\n    *{\n        margin: 0px;\n        padding: 0px;\n        box-sizing: border-box;\n    }\n\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    min-height: 80px;\n    max-height: 100px;\n    font-family: 'Raleway', sans-serif;\n    background-color: rgb(255,255,255,0.8);\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n`;\n\nconst LinkStyle = styled.div`\n    display: flex;\n    justify-content: space-around;\n    width: 60%;\n\n    a {\n        color: #3453b0;\n        text-decoration: none;\n        letter-spacing:1px;\n        font-family: 'Raleway', sans-serif;\n        font-weight:700;\n        font-size: 24px;\n        &:hover {\n            color: #e5ac11;\n            cursor:pointer;\n        }\n    }\n\n    a:nth-child(1) {\n        margin-left : 200px;\n    }\n\n    @media screen and (max-width: 1700px) {\n        a {\n            font-size: 20px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 100px;\n        }\n    }\n\n    @media screen and (max-width: 1300px) {\n        a {\n            font-size: 18px;\n        }\n        \n        a:nth-child(1) {\n            margin-left : 10px;\n        }\n    }\n\n    @media screen and (max-width: 1000px) {\n        a {\n           font-size: 14px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n\n    @media screen and (max-width: 700px) {\n        a {\n           font-size: 10px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n`\n\nconst LogoStyle = styled.img`\n    width:calc(5em + 2vw);\n    margin-top:2px;\n    z-index:999;\n`;\n\n\nexport {\n    HeaderStyle,\n    LogoStyle,\n    LinkStyle\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {HeaderStyle, LogoStyle, LinkStyle} from './NavStyle'\nimport logo from '../../images/logo.png';\n\nclass TopNav extends React.Component {\n    render() {\n        return (\n            <HeaderStyle>\n                <Link to='/'>\n                    <LogoStyle src={logo} alt='logo' />\n                </Link>\n                <LinkStyle>\n                    <Link to='/'> Home </Link>\n                    <Link to='/datasets'> Datasets </Link>\n                    <Link to='/drugs'> Drugs </Link>\n                    <Link to='/tissues'> Tissues </Link>\n                    <Link to='/doc'> Documentation </Link>\n                </LinkStyle>         \n            </HeaderStyle>\n        )\n    }\n}\n\n\n\nexport default TopNav","import React, { Fragment } from 'react'\nimport CountUp from 'react-countup'\nimport { Link } from 'react-router-dom'\nimport DonutNav from './CounterStyle'\nimport axios from 'axios'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nclass CounterNav extends React.Component {\n\n    constructor(props) {\n        super(props)\n        // setting states for all the variables.\n        this.state = {\n            drugs: 0,\n            patients: 0,\n            datasets: 8,\n            tissues: 0\n        }\n    }\n\n    componentDidMount() {\n        axios.get(`/api/v1/counter`)\n            .then(response => {\n                this.setState({\n                    tissues: response.data.data[0][0]['tissues'],\n                    drugs: response.data.data[1][0]['drugs'],\n                    patients: response.data.data[2][0]['patients']\n                })\n            })\n    }\n\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <DonutNav>\n\n                    <Link>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.datasets} \n                            duration = {3}\n                            useEasing={true}\n                        />\n                        <h4> DATASETS </h4>\n                    </Link>\n\n\n                    <Link to='/tissues'>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.tissues} \n                            duration = {3}\n                            useEasing={true}\n                        />\n                        <h4> TISSUES </h4>\n                    </Link>\n\n\n                    <Link>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.patients} \n                            duration = {3}\n                            useEasing={true}\n                        />\n                        <h4> PATIENTS </h4> \n                    </Link>\n\n\n                    <Link to='/drugs'>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.drugs}\n                            duration = {3}\n                            useEasing={true}\n                        /> \n                        <h4> DRUGS </h4>\n                    </Link>\n                </DonutNav>\n            </Fragment>\n        )\n    }\n\n}\n\nexport default CounterNav","import React from 'react'\nimport * as d3 from 'd3'\nimport PropTypes from 'prop-types'\n\nclass HeatMap extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.HeatMap = this.HeatMap.bind(this);\n        this.makeHeatmap = this.makeHeatmap.bind(this);\n    }\n\n    componentDidMount() {\n        //this.HeatMap()\n    }\n\n    componentDidUpdate() {\n        this.HeatMap()\n    }\n\n    HeatMap() {\n        const node = this.node;\n        let data = this.props.data;\n        let drug = this.props.drug_id;\n        let patient_id = this.props.patient_id;\n        let dimensions = this.props.dimensions;\n        let margin = this.props.margin;\n        let plotId = 'plots';\n        this.makeHeatmap(data, patient_id, drug, plotId, dimensions, margin, node)\n    }\n\n// main heatmap function taking parameters as data, all the patient ids and drugs.\n   makeHeatmap(data, patient, drug, plotId, dimensions, margin, node) {\n    this.node = node\n\n    // height and width for the SVG based on the number of drugs and patient/sample ids.\n    // height and width of the rectangles in the main skeleton.\n    let rect_height = dimensions.height;\n    let rect_width = dimensions.width;\n\n    // this height and width is used for setting the body.\n    let height = drug.length * rect_height + 100;\n    let width = patient.length * rect_width + 100;\n\n    let target_eval = [\n                            { value : 'CR', color: '#0033CC' },\n                            { value: 'PR', color: '#1a9850' },\n                            { value : 'SD', color: '#fed976' },\n                            { value: 'PD', color: '#e41a1c'}\n    ]\n    let target_color = ['#0033CC', '#1a9850', '#fed976', '#e41a1c', 'lightgray']\n\n    //setting the query strings\n    let drug_use = '' \n    let drug_index = 0\n    let patient_use = patient\n\n    // drug evaluations\n    let max_drug = 0;\n    let drug_evaluations = {}\n    for(let i=0; i<drug.length; i++) {\n        drug_evaluations[drug[i]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0}\n    }\n\n    // patient evaluations\n    let patient_evaluations = {}\n    for(let j=0; j<patient.length; j++) {\n        patient_evaluations[patient[j]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0, 'total':0}\n    }\n\n    /* this code will add to the drug_evaluations and \n      patient_evaluations object the values for PD,SD,PR,CR \n      and also sets the value of the letiable max_drug. */\n    function calculate_evaluations(d,i) {\n        let drug_alt = drug[i];\n            keys = Object.entries(d);\n            let current_max_drug = 0;\n            for(const key of keys) {\n                if(key[1] === '') {key[1] = 'empty'}\n                drug_evaluations[drug_alt][key[1]]++\n                patient_evaluations[key[0]][key[1]]++\n                if(key[1] !== 'NA' || key[1] !== 'empty') { \n                    current_max_drug++;\n                    patient_evaluations[key[0]].total++;\n                }\n            }\n            if (current_max_drug > max_drug) { max_drug = current_max_drug }\n    }\n\n\n    /* This code is used to produce the query strings */\n    function querystring_value(d,i) {\n        if(i === 0) {\n            drug_use = drug[drug_index]\n            drug_index++\n        }\n        if (d.length === 2 || d.length === 'empty') {\n            return `/curve?patient=${patient_use[i]}&drug_id=${drug_use}` \n        }\n    }\n    \n\n                                    /** SCALE FOR MAIN SKELETON **/\n\n    //defining the scale that we will use for our x-axis and y-axis for the skeleton.\n    let yScale = d3.scaleBand()\n                   .domain(drug)\n                   .rangeRound([rect_height, drug.length * rect_height + rect_height])\n\n    let xScale = d3.scaleBand()\n                   .domain(patient)\n                   .rangeRound([0, patient.length * rect_width])\n\n    // defining the x-axis for the main skeleton and setting tick size to zero will remove the ticks.\n    let yAxis = d3.axisLeft()\n                  .scale(yScale)\n                  .tickSize(0)\n                  .tickPadding(15)\n                  \n    \n    let xAxis = d3.axisTop()\n                  .scale(xScale)\n                  .tickSize(5)\n                  \n                                    /** SETTING SVG ATTRIBUTES **/\n\n    // make the SVG element.\n    let svg = d3.select(node)\n                .append('svg')\n                .attr('id', 'heatmap-' + plotId)\n                .attr('xmlns', 'http://wwww.w3.org/2000/svg')\n                .attr('xmlns:xlink', 'http://wwww.w3.org/1999/xlink')\n                .attr('height',height + margin.bottom + margin.top) \n                .attr('width', width + margin.left + margin.right)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n                \n                \n    \n\n                                    /** HEATMAP SKELETON **/\n\n    // structure of the heatmap\n    let skeleton = svg.append('g')\n                       .attr('id', 'skeleton')\n    \n                       \n    // this will create g element for each of data row (equivalent to total number of row)\n    let drug_response = skeleton.append('g')\n                                .attr('id', 'targ_rect')\n\n    \n    let gskeleton =  drug_response.selectAll('g')\n                                  .data(data)\n                                  .enter()\n                                  .append('g')\n                                  .attr('transform', function(d,i) {\n                                        return `translate(0,${i * rect_height})`\n                                  })\n\n\n    let rectKeys;\n    // this will append rect equivalent to number of patient ids.\n    let drawrectangle = gskeleton.selectAll('rect.hmap-rect')\n                                .data(function(d,i) {  \n                                    //calling the function and passing the data d as parameter.\n                                    calculate_evaluations(d,i);\n                                    //this returns the object values to next chaining method.\n                                    rectKeys = Object.keys(d);\n                                    const rectValue = Object.values(d,i)\n                                                            .map((value) => {\n                                                                // console.log(value, 'length is' ,value.length)                                \n                                                                if (value.length === 2) {\n                                                                    return value\n                                                                } else if (value.length === 0) {\n                                                                    return value = 'empty'\n                                                                }\n                                                            })\n                                    return rectValue;\n                                    })\n                                .enter()\n                                .append('a')\n                                .attr('xlink:href', function(d,i) {\n                                    return querystring_value(d,i)\n                                })\n                                .append('rect')\n                                .attr('class', function(d,i) {\n                                    return 'hmap-rect heatmap-' + rectKeys[i]\n                                })\n                                .attr('width', rect_width - 2)\n                                .attr('height', rect_height - 2)\n                                .attr('x', function(d,i) {\n                                    return i * rect_width ;  \n                                })\n                                .attr('y', rect_height)\n\n\n                                 \n    // this will fill the rectangles with different color based on the data. \n            drawrectangle.attr('fill', function(d) {\n                                    if (d === 'CR') {\n                                        return target_color[0]\n                                    } else if (d === 'PR') {\n                                        return target_color[1]\n                                    } else if (d === 'SD') {\n                                        return target_color[2]\n                                    } else if (d === 'PD') {\n                                        return target_color[3]\n                                    } else {\n                                        return target_color[4]\n                                    }\n                                })     \n                                \n    //reset \n    drug_evaluations = {}\n    for(let i=0; i<drug.length; i++) {\n        drug_evaluations[drug[i]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0}\n    }\n\n    // patient evaluations\n    patient_evaluations = {}\n    for(let j=0; j<patient.length; j++) {\n        patient_evaluations[patient[j]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0, 'total':0}\n    }\n    let p_count = 0;\n    drug_index = 0;\n\n    //let highlight = \n    gskeleton.selectAll('rect.hmap-hlight')\n                        .data(function(d,i) {  \n                            //console.log(d)\n                            //calling the function and passing the data d as parameter.\n                            calculate_evaluations(d,i);\n                            //this returns the object values to next chaining method.\n                            rectKeys = Object.keys(d);\n                            const rectValue = Object.values(d,i)\n                                                    .map((value) => {\n                                                        // console.log(value, 'length is' ,value.length)                                \n                                                        if (value.length === 2) {\n                                                            return value\n                                                        } else if (value.length === 0) {\n                                                            return value = 'empty'\n                                                        }\n                                                    })\n                            return rectValue;\n                            })\n                        .enter()\n                        .append('a')\n                        .attr('xlink:href', function(d,i) {\n                            return querystring_value(d,i)\n                        })\n                        .append('rect')\n                        .attr('class', function(d, i) {\n                            let drug_class = drug[p_count].replace(/\\s/g,'').replace(/[+]/,'-')\n                            if (i === (patient.length - 1)) {\n                                p_count++\n                            }\n                            return 'hmap-hlight-' + rectKeys[i] + ' hmap-hlight-' + drug_class\n                        })\n                        .attr('width', rect_width - 2)\n                        .attr('height', rect_height - 2)\n                        .attr('x', function(d,i) {\n                            return i * rect_width ;  \n                        })\n                        .attr('fill', 'rgb(0,0,0)')\n                        .attr('y', rect_height)\n                        .style('opacity', 0)\n                        .on('mouseover', function(d,i) {\n                            let drug_class = d3.select(this).attr('class').split(' ')[1]\n                            d3.selectAll('.hmap-hlight-' + rectKeys[i])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.oprint-hlight-' + rectKeys[i])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.hlight-space-' + rectKeys[i])\n                                .style('opacity', 0.2)\n                        \n                        })\n                        .on('mouseout', function(d,i) {\n                            let drug_class = d3.select(this).attr('class').split(' ')[1]\n                            d3.selectAll('.hmap-hlight-' + rectKeys[i])\n                                .style('opacity', 0)\n                            d3.selectAll('.oprint-hlight-' + rectKeys[i])\n                                .style('opacity', 0)\n                            d3.selectAll('.hlight-space-' + rectKeys[i])\n                                .style('opacity', 0)\n                        })\n\n    //Creating lines.\n    let lines = svg.append('g')\n                    .attr('id', 'lines')\n                    .attr('transform', function(d,i) {\n                        return `translate(2,${height-62})`\n                    })\n\n    const temp = patient.slice(0)\n    temp.push(\"\")\n\n                lines.selectAll('line.dashed-line')\n                        .data(temp)\n                        .enter()\n                            .append('line')\n                            .attr('class', 'dashed-line')\n                            .attr('x1', function(d,i) {\n                                return i * (rect_width) - 3;  \n                            })\n                            .attr('x2', function(d,i) {\n                                return i * (rect_width) - 3;  \n                            })\n                            .attr('y1', 2)\n                            .attr('y2', 200)\n                            .attr('stroke', 'black')\n                            .attr('stroke-width', 1)\n                            .style('stroke-dasharray', '3 2')\n                            .style('opacity', .2)\n\n                lines.selectAll('rect.hlight-space')\n                        .data(patient)\n                        .enter()\n                        .append('rect')\n                        .attr('class', function(d) {\n                            return 'hlight-space-' + d\n                        })\n                        .attr('width', rect_width - 2)\n                        .attr('height', 200)\n                        .attr('x', function(d,i) {\n                            return i * rect_width - 2;  \n                        })\n                        .attr('fill', 'rgb(0,0,0)')\n                        .attr('y', 0)\n                        .style('opacity', 0)    \n\n                            /** X-AXIS AND Y-AXIS FOR THE SKELETON **/\n                                                                        \n    // calling the y-axis and removing the stroke.\n    let drug_name = skeleton.append('g')\n                    .attr('id', 'drug_name')\n\n                    drug_name.attr('stroke-width', '0')\n                            .style('font-size', '12px')\n                            .attr('font-weight', '500')\n                            .call(yAxis)\n                            .selectAll('text')\n                            .attr('fill', function(d) {\n                                if(d === 'untreated') {return '#3453b0'}\n                                else return 'black'\n                            })\n                            .on('mouseover', function() {\n                            let drug_class = d3.select(this).text().replace(/\\s/g,'').replace(/[+]/,'-')\n                            d3.selectAll('.hmap-hlight-' + drug_class)\n                                        .style('opacity', 0.2)    \n                            })\n                            .on('mouseout', function() {\n                            let drug_class = d3.select(this).text().replace(/\\s/g,'').replace(/[+]/,'-')\n                            d3.selectAll('.hmap-hlight-' + drug_class)\n                                        .style('opacity', 0)\n                            });\n\n    // calling the x-axis to set the axis and we have also transformed the text.\n    let patient_id = skeleton.append('g')\n                             .attr('id', 'patient_id')\n    \n    patient_id.attr('stroke-width', '0')\n              .style('font-size', '13px')\n              .call(xAxis)\n              .selectAll('text')\n              .attr('transform', 'rotate(-90)')\n              .attr('font-weight', '500')\n              .attr('x','0.5em')\n              .attr('y','.15em')\n\n\n                                    /** SMALL RECTANGLES ON RIGHT SIDE OF HEATMAP **/\n\n    // This will create four rectangles on right side for the Evaluation of target lesions.\n    let target_rect = skeleton.append('g')\n                              .attr('id', 'small_rect')\n\n                      target_rect.selectAll('rect')\n                                 .data(target_eval)\n                                 .enter()\n                                 .append('rect')\n                                 .attr('x', (patient.length * rect_width + 120))\n                                 .attr('y', function(d, i) {\n                                    return (drug.length * 10) + i * 25;\n                                 })\n                                 .attr('height', '15')\n                                 .attr('width', '15')\n                                 .attr('fill', function(d) {\n                                     return d.color;\n                                 })\n                        \n                      target_rect.selectAll('text')\n                                 .data(target_eval)\n                                 .enter()\n                                 .append('text')\n                                 .attr('x', (patient.length * rect_width + 140))\n                                 .attr('y', function(d,i) {\n                                     return (drug.length * 10 + 12) + i * 25;\n                                 })\n                                 .text(function(d) {\n                                     return d.value;\n                                 })\n                                 .attr('font-size', '14px')\n\n\n                                            /** VERTICAL GRAPH ON RIGHT SIDE OF HEATMAP **/\n\n    let stroke_width = 0.75;\n    \n    // This will make a right side vertical graph.\n    let drug_eval = svg.append('g')\n                      .attr('id', 'drug_eval')\n\n    let drug_Scale = d3.scaleLinear()\n                       .domain([0,max_drug])\n                       .range([0,80])\n\n    // This will set an x-axis for the vertical graph.\n    let x_axis = d3.axisTop()\n                    .scale(drug_Scale)\n                    .ticks(4)\n                    .tickSize(3)\n                    .tickFormat(d3.format('.0f'));\n\n                svg.append('g')\n                    .attr('transform', 'translate(' + (patient.length * rect_width + 20) + ',' + 35 + ')')\n                    .call(x_axis)\n                    .selectAll('text')\n                    .attr('fill', 'black')\n                    .style('font-size', 8)\n                    .attr('stroke', 'none');\n            \n\n    let  drug_height_Scale = d3.scaleLinear()\n                               .domain([0, (44 + (drug.length - 1) * 40)])\n                               .range([0, (rect_height * drug.length) + 10])\n\n                            drug_eval.append('rect')\n                               .attr('class', 'drug_eval_rect')\n                               .attr('x', patient.length * rect_width + 20)\n                               .attr('y', 35)\n                               .attr('height', rect_height * drug.length)\n                               .attr('width', drug_Scale(max_drug))\n                               .attr('fill', 'white')\n                               .style('stroke', 'black')\n                               .style('stroke-width', 1)\n\n\n    //rectangle for vertical graph. \n    let drugEvaluationRectangle = (iterator) => {\n        let response_eval_types = ['CR', 'PR', 'SD', 'PD']\n        let x_range = patient.length * rect_width + 20\n        let width = 0 \n        response_eval_types.forEach((type, j) => {\n            // x range for the rectangles.\n            x_range = x_range + width\n            width = drug_Scale(drug_evaluations[drug[iterator]][type])\n            drug_eval.append('rect')\n                    .attr('class', `drug_eval_${type}`)\n                    .attr('height', 26)\n                    .attr('width', width)\n                    .attr('x', x_range)\n                    .attr('y', drug_height_Scale(42 + iterator * 40))\n                    .attr('fill', target_color[j])\n                    .style('stroke', 'black')\n                    .style('stroke-width', stroke_width)\n        })\n    }\n\n    for(let i=0; i < drug.length; i++) {\n        drugEvaluationRectangle(i)\n    }\n\n\n                                        /** HORIZONTAL GRAPH AT THE TOP OF HEATMAP **/\n\n    let max_patientid_total = 0;\n    let box_height = 80;\n\n    // This will set the maximum number of total letiants.\n    let keys = Object.entries(patient_evaluations);\n    for(const key of keys) {\n        let curent_max = key[1].total;\n        if(curent_max > max_patientid_total) {\n            max_patientid_total = curent_max;\n        }\n    }\n\n    // This will only run if the length of the drug array is greater than 1 (it has more than one drug)\n    if(drug.length > 1) {\n        // appending 'g' element to the SVG.\n        let patient_eval = svg.append('g')\n                                .attr('id', 'patient_eval')\n\n\n        // setting the outer rectangle.\n        patient_eval.append('rect')\n                    .attr('class', 'patient_eval_rect')\n                    .attr('x', 0)\n                    .attr('y', -130)\n                    .attr('height', box_height)\n                    .attr('width', patient.length * 20)\n                    .attr('fill', 'white')\n                    .style('stroke', 'black')\n                    .style('stroke-width', 1)\n\n        // setting scale to map max patient_id value to range (height of the box.)\n        let patient_Scale = d3.scaleLinear()\n                                .domain([0,max_patientid_total])\n                                .range([0,box_height])\n\n        // This code will set y-axis of the graph at top\n        if(max_patientid_total !== 0) {\n\n            let patient_scales = d3.scaleLinear()\n                                    .domain([0,max_patientid_total])\n                                    .range([box_height,0]);\n                \n            let y_axis = d3.axisLeft()\n                            .scale(patient_scales)\n                            .ticks(2)\n                            .tickSize(0)\n                            .tickFormat(d3.format('.0f'));\n\n            svg.append('g')\n                .attr('transform', 'translate(0,-130.5)')\n                .call(y_axis)\n        }\n\n        // function to calculate patient evaluations.\n        let patientEvaluationRectangle = (iterator) => {\n            let response_eval_types = ['CR', 'PR', 'SD', 'PD']\n            let height = 0\n            let y_range = -130 + box_height \n\n            response_eval_types.forEach((type, j) => {\n                height = patient_Scale(patient_evaluations[patient[iterator]][type])\n                y_range = y_range - height\n                patient_eval.append('rect')\n                            .attr('class', 'patient_eval_cr')\n                            .attr('height', height)\n                            .attr('width', 16)\n                            .attr('x', iterator * 20)\n                            .attr('y', y_range)\n                            .attr('fill', target_color[j])\n                            .style('stroke', 'black')\n                            .style('stroke-width', stroke_width)\n            })\n        }\n      \n        for(let i=0; i<patient.length; i++) {\n            patientEvaluationRectangle(i)\n        }\n    }\n\n}\n\n    render() {\n        return (\n            <div ref = {node => this.node = node} className='heatmap-wrapper'>\n            </div>\n        )\n    }\n}\n\n\n\nHeatMap.propTypes = {\n    drug_id: PropTypes.array.isRequired,\n    patient_id: PropTypes.array.isRequired,\n    data: PropTypes.array.isRequired,\n    dimensions: PropTypes.object.isRequired,\n    margin: PropTypes.object.isRequired\n}\n\n\nexport default HeatMap","import React, {Fragment} from 'react'\nimport HeatMap from './HeatMap'\nimport axios from 'axios'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nclass HeatMapData extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting the states for the data.\n        this.state = {\n            data : [],\n            patient_id : [],\n            drug_id : [],\n            dataset_param : 0\n        };\n        //binding the functions declared.\n        this.parseData = this.parseData.bind(this);\n    }\n\n    // this function takes the parsed result and set the states.\n    parseData(result) {\n        let dataset = []\n        let patient = []\n        let drug = []\n\n        //patient array.\n        patient = result.pop()\n        \n        // this function will loop through the elements and\n        // assign empty values in case model information is not available.\n        result.forEach(element => {\n            let data_object = {}\n            drug.push(element.Drug)\n            patient.forEach((patient) => {\n                if(!element[patient]) {\n                    data_object[patient] = ''\n                } else {\n                    data_object[patient] = element[patient]\n                }\n            })\n            dataset.push(data_object)\n        });\n\n        this.setState({\n            drug_id : drug,\n            patient_id : patient,\n            data: dataset\n        })\n    }\n\n    componentWillMount() {\n        this.setState ({\n            dataset_param : this.props.dataset\n        })\n    }\n\n    componentDidMount() {\n        if(this.state.dataset_param > 0) {\n            axios.get(`/api/v1/response/${this.state.dataset_param}`)\n             .then(response => {\n                 this.parseData(response.data);\n             })\n        } else {\n            axios.get(`/api/v1/respeval`)\n            .then(response => {\n                this.parseData(response.data);\n            })\n        }\n    }\n\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 200,\n        right: 200,\n        bottom: 20,\n        left: 250\n    }\n\n    \n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <div className='wrapper' style={{margin:'auto', fontSize:'0'}}>\n                    <HeatMap\n                        data = {this.state.data} \n                        drug_id = {this.state.drug_id} \n                        className = 'heatmap'\n                        patient_id = {this.state.patient_id} \n                        dimensions = {this.dimensions}\n                        margin = {this.margin}\n                    />\n                </div>\n            </Fragment>\n        )\n    }\n}\n\nexport default HeatMapData","import React from 'react'\nimport * as d3 from 'd3'\nimport PropTypes from 'prop-types'\n\nclass Oncoprint extends React.Component {\n    constructor(props) {\n        super(props)\n        this.Oncoprint = this.Oncoprint.bind(this);\n    }\n\n    componentDidMount() {\n        //this.Oncoprint()\n    }\n\n    componentDidUpdate() {\n        this.Oncoprint()\n    }\n\n    Oncoprint() {\n        const node = this.node;\n        let plotId = 'plots';\n        let dimensions = this.props.dimensions;\n        let margin = this.props.margin;\n        let threshold = this.props.threshold;\n        let hmap_patients = this.props.hmap_patients;\n        let data_mut = this.props.data_mut;\n        let data_rna = this.props.data_rna\n        let genes_mut = this.props.genes_mut;\n        let genes_rna = this.props.genes_rna;\n        let patient_mut = this.props.patient_mut;\n        let patient_rna = this.props.patient_rna;\n\n        this.makeOncoprint(node, plotId, dimensions, margin, threshold, hmap_patients, data_mut, data_rna, genes_mut, genes_rna, patient_mut, patient_rna)\n    }\n\n\n    makeOncoprint(node, plotId, dimensions, margin, threshold, hmap_patients, data_mut, data_rna, genes_mut, genes_rna, patient_mut, patient_rna) {\n\n        // to merge two arrays and give the unique values.\n        // eslint-disable-next-line no-extend-native\n        Array.prototype.unique = function() {\n            let a = this.concat();\n            for(let i=0; i<a.length; ++i) {\n                for(let j=i+1; j<a.length; ++j) {\n                    if(a[i] === a[j])\n                        a.splice(j--, 1);\n                }\n            }\n            return a;\n        };\n        let genes = genes_mut.concat(genes_rna).unique(); \n        \n        this.node = node\n\n        // height and width for the SVG based on the number of genes_mut and patient/sample ids.\n        // height and width of the rectangles in the main skeleton.\n        let rect_height = dimensions.height;\n        let rect_width = dimensions.width;\n\n        // this height and width is used for setting the body.\n        let height = genes.length * rect_height + 100;\n        let width = hmap_patients.length * rect_width + 100;\n\n        // adding this for rectangles on right side of oncoprint.\n        // only if the mutation data is present.\n        let rect_alterations_mut = []\n        if(data_mut.length > 0) {\n            rect_alterations_mut = [\n                { value: 'Mutation', color: '#e41a1c'},\n                { value : 'Deep Deletion', color: '#0033CC' },\n                { value: 'Amplification', color: '#1a9850' },\n            ]\n        }\n        // only if rnaseq data is available.\n        let rect_alterations_rna = []\n        if(data_rna.length > 0) {\n            rect_alterations_rna = [\n                { value: 'mRNA High', color: 'none'},\n                { value: 'mRNA Low', color: 'none'},\n            ]\n        }\n        \n        let rect_alterations = [\n            ...rect_alterations_mut,\n            ...rect_alterations_rna,\n            { value: 'Wild Type', color: 'lightgray'},\n            { value: 'Not Available', color: 'none'}\n        ]\n       \n\n                                                    /** SETTING SVG ATTRIBUTES and Oncoprint SKELETON **/\n        const settingAttributes = () => {\n                // make the svg element\n                return svg = d3.select(node)\n                                .append('svg')\n                                .attr('id', 'oncoprint-' + plotId) // set an id so that I can remove+replace on refresh\n                                .attr('xmlns', 'http://www.w3.org/2000/svg')\n                                .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink') \n                                .attr('width', width + margin.left + margin.right)\n                                .attr('height', height + margin.top + margin.bottom)\n                                .append('g')\n                                .attr('transform',\n                                        'translate(' + margin.left + ',' + (margin.top) + ')')\n        }\n        let svg = settingAttributes()\n\n        // skeleton of the oncoprint\n        let skeleton = svg.append('g')\n                          .attr('id', 'skeleton')\n\n\n        \n                                                            /**  Gene Names on Y-Axis **/\n        // gene names on the y axis\n        let geneAxis = () => {\n            for (let i = 0; i < genes.length; i++) {\n                geneNames.append('text')\n                        .attr('class', genes[i])\n                        .attr('dx', -20)\n                        .style('text-anchor', 'end')\n                        .style('font-size', '13px')\n                        .attr('dy', i * (rect_height) + 23)\n                        .attr('font-weight', '500')\n                        .text(genes[i])\n                        .on('mouseover', function() {\n                            d3.selectAll('.oprint-hlight-' + genes[i])\n                            .style('opacity', 0.2)\n                        })\n                        .on('mouseout', function() {\n                            d3.selectAll('.oprint-hlight-' + genes[i])\n                            .style('opacity', 0)\n                        });\n            }\n        }\n\n        let geneNames = skeleton.append('g')\n                                .attr('id', 'gene-names')\n        \n        // create gene-name y-axis.\n        geneAxis()\n    \n        \n    \n                                                /** Setting Alterations **/\n\n        // alterations: mutations are #1a9850 and a third, AMP/del are #e41a1c/#0033CC and full respectively\n        let alterations = svg.append('g')\n                             .attr('id', 'alterations')\n\n        let highlight = svg.append('g')\n                           .attr('id', 'highlight')\n    \n\n        // collect info about alterations per gene/patient for plotting later\n        let gene_alterations = {}\n        let patient_alterations = []\n        if(genes_mut.length > 0) {\n            for (let i = 0; i < genes_mut.length; i++) {\n                gene_alterations[genes_mut[i]] = {'mut':0,'amp':0,'del':0}\n            } \n            \n            for (let i = 0; i < hmap_patients.length; i++) {\n                patient_alterations.push({'mut':0,'amp':0,'del':0})\n            }\n        }\n       \n        // take the difference of patient_mut from hmap_patients\n        let diff = []\n        if(patient_mut.length > 0) {\n            diff = hmap_patients.filter(x => !patient_mut.includes(x))\n        } else {\n            diff = hmap_patients.filter(x => !patient_rna.includes(x))\n        }\n        \n\n\n                                                            /** Coloring the rectangles based on mutation data **/\n\n        // this will take four parameters and color the rectangle accordingly\n        let colorReactangles = (value, color, i, j) => {\n            // setting a = 12 if value is mut\n            let a = value === 'mut' ? 12 : 0    \n            // setting the color based on value param.\n            if(value !== 'empty' && value !== 'highrna' && value !== 'lowrna') {\n                gene_alterations[genes_mut[i]][value]++;\n                patient_alterations[j][value]++;\n            }\n            // this is for mutation data and rnaseq.\n            let rect = alterations.append('rect')\n                                    .attr('class', `alter-rect ${value}`)\n                                    .attr('width', rect_width - 6)\n                                    .attr('height', rect_height - 6 - (2 * a))\n                                    .attr('fill', color)\n                                    .attr('x', j * (rect_width)) \n                                    .attr('y', i * (rect_height) + 2 * a/2)\n                                    \n            // setting the boder high-rna and low-rna.\n            if(value === 'highrna') {\n                rect.attr('stroke', 'red')   \n                    .style('opacity', 0.6)\n                   \n            } else if (value === 'lowrna') {\n                rect.attr('stroke', 'blue')\n                    .style('opacity', 0.6)\n                \n            }            \n        }\n\n\n        // stroke for not sequenced patients.\n        let colorNotSequenced = (i, j) => {\n            alterations.append('rect')\n                        .attr('class', 'alter-rect nseq')\n                        .attr('width', rect_width - 6)\n                        .attr('height', rect_height - 6)\n                        .attr('fill', 'white')\n                        .attr('stroke', 'lightgray')\n                        .attr('stroke-width', '1px')\n                        .attr('x', j * (rect_width) + 1) \n                        .attr('y', i * (rect_height) + 1)\n        }\n\n\n        // coloring the rectangles.\n        for (let i = 0; i < genes_mut.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                if (diff.indexOf(hmap_patients[j]) !== -1) {\n                    // if not sequenced, make it white with a border\n                    colorNotSequenced(i ,j)\n                } else {\n                    // complete layer of lightgrey rectangles.\n                    colorReactangles('empty', 'lightgrey', i, j)\n                    // based on the data gives different colors to the rectangle.\n                    if (data_mut[i][hmap_patients[j]].includes('Del0.8') || data_mut[i][hmap_patients[j]].includes('Deletion')) {\n                        colorReactangles('del', '#0033CC', i, j)\n                    }\n                    if (data_mut[i][hmap_patients[j]].includes('Amp') || data_mut[i][hmap_patients[j]].includes('Amplification')) {\n                        colorReactangles('amp', '#1a9850', i, j)\n                    }\n                    if (data_mut[i][hmap_patients[j]].includes('MutNovel') || data_mut[i][hmap_patients[j]].includes('mutation') || data_mut[i][hmap_patients[j]].includes('MutKnownFunctional')) {\n                        colorReactangles('mut', '#e41a1c', i, j)\n                    }\n                }\n            }\n        }   \n\n                                                          /** Coloring the rectangles borders based on rna sequencing data **/\n\n        // variable for taking care of rnaseq data sequence.\n        let z = 0;\n        for(let i = 0; i < genes.length ; i++) {\n            if (genes_rna.includes(genes[i])) {\n                for(let j = 0; j < hmap_patients.length; j++) {\n                    if (diff.indexOf(hmap_patients[j]) !== -1) {\n                        // if not sequenced, make it white with a border\n                        colorNotSequenced(i ,j)\n                    } else { //only if the element is not included \n                        // complete layer of lightgrey rectangles only if mutation data is not available.\n                        if(data_mut.length === 0) {\n                            colorReactangles('empty', 'lightgrey', i, j)\n                        }\n                        if (Number(data_rna[z][hmap_patients[j]]) > threshold) {\n                            colorReactangles('highrna', 'none', i, j)\n                        } else if (Number(data_rna[z][hmap_patients[j]]) < -threshold) {\n                            colorReactangles('lowrna', 'none', i, j)\n                        }\n                    }\n                }\n                z++;\n            }\n        }\n\n                                                    /** Setting Maxes for the alterations **/\n    \n        // getting the maxes\n        let maxPAmp = []; \n        let maxPMut = []; \n        let maxPHomdel = [];\n\n        if(genes_mut.length > 0) {\n            for (let i = 0; i < patient_alterations.length; i++) {\n                maxPAmp.push(patient_alterations[i]['amp'])\n                maxPHomdel.push(patient_alterations[i]['del'])\n                maxPMut.push(patient_alterations[i]['mut'])\n            }\n            maxPAmp = d3.max(maxPAmp)\n            maxPHomdel = d3.max(maxPHomdel)\n            maxPMut = d3.max(maxPMut)\n        }\n       \n        // getting the maxes\n        let maxGAmp = []; \n        let maxGMut = []; \n        let maxGHomdel = [];\n\n        if(genes_mut.length > 0) {\n            for (let i = 0; i < genes_mut.length; i++) {\n                maxGAmp.push(gene_alterations[genes_mut[i]]['amp'])\n                maxGHomdel.push(gene_alterations[genes_mut[i]]['del'])\n                maxGMut.push(gene_alterations[genes_mut[i]]['mut'])\n            }\n            maxGAmp = d3.max(maxGAmp)\n            maxGHomdel = d3.max(maxGHomdel)\n            maxGMut = d3.max(maxGMut)\n        }\n        \n                                                        /** ALTERATION GRAPHS **/\n        \n                                                          /** Vertical Graph **/\n\n        if(genes_mut.length > 0) {\n             // calculating max width\n            let max_width_arr = []\n            for (let i = 0; i < genes_mut.length; i++) { \n                max_width_arr.push(gene_alterations[genes_mut[i]]['mut'] + gene_alterations[genes_mut[i]]['amp'] + gene_alterations[genes_mut[i]]['del'])\n            }\n        \n            let max_width = d3.max(max_width_arr)\n\n            let xrange_gene = d3.scaleLinear()\n                                .domain([0, d3.max([maxGAmp, maxGMut, maxGHomdel])])\n                                .range([0,50]);\n\n            \n            let gene_alter = svg.append('g')\n                                .attr('id', 'gene-alter')\n                                .attr('transform', 'translate(' + (hmap_patients.length * rect_width + 20) + ',0)')\n\n            let stroke_width = 1; // this will set the stroke width of the outer rectangle \n\n            // setting the outer rectangle.\n            gene_alter.append('rect')\n                        .attr('class', 'patient_eval_rect')\n                        .attr('x', 0)\n                        .attr('y', 0)\n                        .attr('height', (rect_height) * (genes.length) - 6)\n                        .attr('width', xrange_gene(max_width))\n                        .attr('fill', 'white')\n                        .style('stroke', 'black')\n                        .style('stroke-width', stroke_width)\n\n\n            // function to caculate alterations.\n            let geneAlterationReactangle = (iterator) => {\n                // variables.\n                let gene_class = ['mut', 'amp', 'del']\n                let i = iterator\n                let x_range = stroke_width/2\n                // loops through each type for each of the genes_mut.\n                gene_class.forEach((type) => {\n                    // color setting.\n                    let color = ''\n                    if (type === 'mut') {\n                        color = '#e41a1c'\n                    } else if (type === 'amp') {\n                        color = '#1a9850'\n                        x_range = x_range + xrange_gene(gene_alterations[genes_mut[i]]['mut'])\n                    } else if (type === 'del') {\n                        color = '#0033CC'\n                        x_range = x_range + xrange_gene(gene_alterations[genes_mut[i]]['amp'])\n                    }\n                    // rectangle coloring.\n                    gene_alter.append('rect')\n                            .attr('class', `gene-rect ${type}`)\n                            .attr('height', rect_height - 6)\n                            .attr('width', xrange_gene(gene_alterations[genes_mut[i]][type]))\n                            .attr('fill', color)\n                            .attr('y', (i * (rect_height)))\n                            .attr('x', x_range)\n                })\n            }\n\n            // calculate alterations for each row.\n            for (let i = 0; i < genes_mut.length; i++) {\n                geneAlterationReactangle(i)\n            }\n                \n            // This will set the axis and scale.\n            let xrange_scale = d3.scaleLinear() \n                                .domain([0, max_width])\n                                .range([0, xrange_gene(max_width)]);\n\n            let x_axis = d3.axisTop()\n                            .scale(xrange_scale)\n                            .ticks(4)\n                            .tickSize(3)\n                            .tickFormat(d3.format('.0f'));\n\n            svg.append('g')\n                .attr('class', 'x_axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .attr('transform', 'translate(' + (hmap_patients.length * rect_width + 20) + ' -0 )')\n                .call(x_axis)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n            \n            svg.selectAll('.tick')\n                .select('text')\n                .attr('fill', 'black')\n                .attr('stroke', 'none')\n        }\n       \n\n            \n                                                         /** Horizontal Graph **/\n\n                                                         // calculating max height\n\n        if(genes_mut.length > 0) {\n\n            let max_height_arr = []\n            for (let i = 0; i < patient_alterations.length; i++) { \n                max_height_arr.push(patient_alterations[i]['mut'] + patient_alterations[i]['amp'] + patient_alterations[i]['del'])\n            }\n        \n            let max_height = d3.max(max_height_arr)\n\n            let patient_alter = svg.append('g')\n                                    .attr('id', 'patient-alter')\n        \n            let yrange_patient = d3.scaleLinear() // #TODO: scale.linear\n                                    .domain([0, d3.max([maxPAmp, maxPMut, maxPHomdel])])\n                                    .range([35, 0]);\n\n\n            // function to caculate alterations.\n            let patientAlterationReactangle = (iterator) => {\n                // variables.\n                let patient_class = ['mut', 'amp', 'del']\n                let i = iterator\n                let y_range = 0\n\n                // loops through each type for each of the genes_mut.\n                patient_class.forEach((type, j) => {\n                    // set value to 1 if j is greater than 1.\n                    j = j > 1 ? j / j : j\n                    // setting y range.\n                    y_range = (yrange_patient(patient_alterations[i][type])) - ((35 * j) - y_range)\n                    // color setting.\n                    let color = ''\n                    if (type === 'mut') {\n                        color = '#e41a1c'\n                    } else if (type === 'amp') {\n                        color = '#1a9850'\n                    } else if (type === 'del') {\n                        color = '#0033CC'\n                    }\n                    // rectangle coloring.\n                    patient_alter.append('rect')\n                            .attr('class', `patient-rect${type}`)\n                            .attr('height', 35 - yrange_patient(patient_alterations[i][type]))\n                            .attr('width', rect_width - 5)\n                            .attr('fill', color)\n                            .attr('y', y_range)\n                            .attr('x', i * 20 + 1)\n                            .attr('transform', 'translate(0,-40)')\n                })\n            }\n                            \n            for (let i = 0; i < patient_alterations.length; i++) {\n                patientAlterationReactangle(i)\n            }\n\n            let yrange_axis = d3.scaleLinear() \n                                .domain([0, max_height])\n                                .range([35 - yrange_patient(max_height), 0]).nice();\n\n            let y_axis = d3.axisLeft()\n                            .scale(yrange_axis)\n                            .ticks(4)\n                            .tickSize(3)\n                            .tickFormat(d3.format('.0f'));\n        \n            svg.append('g')\n                .attr('class', 'y_axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .attr('transform', 'translate(-10,' + (-(35 - yrange_patient(max_height))-5) + ')')\n                .call(y_axis)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n        \n            svg.selectAll('.tick')\n                    .select('text')\n                    .attr('fill', 'black')\n                    .attr('stroke', 'none')\n        \n            // removing the 0 tick\n            svg.selectAll('.y_axis .tick')\n                .each(function (d) {\n                    if ( d === 0 ) {\n                        this.remove();\n                    }\n            });\n        }    \n            // dotted lines.\n            let lines = svg.append('g')\n                            .attr('id', 'lines')\n                            .attr('transform', function(d,i) {\n                                return `translate(2,-200)`\n                            })\n            const temp = hmap_patients.slice(0)\n            temp.push('')\n\n            lines.selectAll('line.dashed-line')\n                    .data(temp)\n                    .enter()\n                        .append('line')\n                        .attr('class', 'dashed-line')\n                        .attr('x1', function(d,i) {\n                            return i * (rect_width) - 3;  \n                        })\n                        .attr('x2', function(d,i) {\n                            return i * (rect_width) - 3;  \n                        })\n                        .attr('y1', 0)\n                        .attr('y2', 200)\n                        .attr('stroke', 'black')\n                        .attr('stroke-width', 1)\n                        .style('stroke-dasharray', '3 2')\n                        .style('opacity', 0.2)\n\n            lines.selectAll('rect.hlight-space')\n                        .data(hmap_patients)\n                        .enter()\n                        .append('rect')\n                        .attr('class', function(d) {\n                            return 'hlight-space-' + d\n                        })\n                        .attr('width', rect_width - 2)\n                        .attr('height', 200)\n                        .attr('x', function(d,i) {\n                            return i * rect_width - 2;  \n                        })\n                        .attr('fill', 'rgb(0,0,0)')\n                        .attr('y', 0)\n                        .style('opacity', 0)  \n        //}\n                                                                                         /** SMALL RECTANGLES ON RIGHT SIDE OF Oncoprint **/\n                                                                                         \n        // This will create rectangles on right side for alterations.\n        // legends\n        let target_rect = skeleton.append('g')\n                                    .attr('id', 'small_rectangle')\n\n                        target_rect.selectAll('rect')\n                                    .data(rect_alterations)\n                                    .enter()\n                                    .append('rect')\n                                    .attr('x', (hmap_patients.length * rect_width + 120))\n                                    .attr('y', function(d, i) {\n                                        return (genes.length * 10) + i * 25;\n                                    })\n                                    .attr('height', '15')\n                                    .attr('width', '15')\n                                    .attr('fill', function(d) {\n                                        if (d.color === 'none') {\n                                            d3.select(this).attr('stroke','lightgray')\n                                                            .attr('transform', 'translate(1,1)')\n                                                            .attr('width', 14)\n                                                            .attr('height', 14)\n                                            return 'white'\n                                        }\n                                        return d.color;\n                                    })\n                                    .attr('stroke', d => {\n                                        if(d.value === 'mRNA High') {\n                                            return 'red'\n                                        } else if (d.value === 'mRNA Low') {\n                                            return 'blue'\n                                        } else if (d.value === 'Not Available') {\n                                            return 'lightgray'\n                                        }\n                                    })\n                                    .attr('stroke-width', '.5px')\n\n                        target_rect.selectAll('text')\n                                    .data(rect_alterations)\n                                    .enter()\n                                    .append('text')\n                                    .attr('x', (hmap_patients.length * rect_width + 140))\n                                    .attr('y', function(d,i) {\n                                        return (genes.length * 10 + 12) + i * 25;\n                                    })\n                                    .text(function(d) {\n                                        return d.value;\n                                    })\n                                    .attr('font-size', '14px')\n\n\n        // highlight\n        for (let i = 0; i < genes.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                highlight.append('rect')\n                        .attr('class', 'oprint-hlight-' + hmap_patients[j] + ' oprint-hlight-' + genes[i])\n                        .attr('width', rect_width - 2)\n                        .attr('height', rect_height - 2)\n                        .attr('fill', 'black')\n                        .attr('x', j * (rect_width))\n                        .attr('y', i * (rect_height ))\n                        .style('opacity', 0)\n                        .on('mouseover', function(d,x) {\n                            d3.selectAll('.hmap-hlight-' + hmap_patients[j])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.oprint-hlight-' + hmap_patients[j])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.hlight-space-' + hmap_patients[j])\n                                .style('opacity', 0.2)\n                        \n                        })\n                        .on('mouseout', function(d,x) {\n                            d3.selectAll('.hmap-hlight-' + hmap_patients[j])\n                                .style('opacity', 0)\n                            d3.selectAll('.oprint-hlight-' + hmap_patients[j])\n                                .style('opacity', 0)\n                            d3.selectAll('.hlight-space-' + hmap_patients[j])\n                                .style('opacity', 0)\n                        })\n            }\n        }                           \n\n    }\n\n    render() {\n        return (\n            <div ref = {node => this.node = node} className='oprint-wrapper'>\n            </div>\n        )\n    }\n}\n\n\nOncoprint.propTypes = {\n    genes_mut: PropTypes.array.isRequired,\n    patient_mut: PropTypes.array.isRequired,\n    hmap_patients: PropTypes.array.isRequired,\n    data: PropTypes.array.isRequired\n}\n\n\nexport default Oncoprint","import React from 'react'\nimport Oncoprint from './Oncoprint'\nimport axios from 'axios'\n\nclass OncoprintData extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            dataset_param : 0,\n            threshold : 2,\n            hmap_patients: [],\n            genes_mut : [],\n            genes_rna : [],\n            patient_mut : [],\n            patient_rna : [],\n            data_mut : [],\n            data_rna : []\n        };\n        this.updateResults = this.updateResults.bind(this);\n    }\n\n    updateResults(onco) {\n        // total patients.\n        const dataset = onco[0].data;\n        let hmap_patients = [];\n        // grabbing the total patients from hmap.\n        hmap_patients = dataset.pop()\n\n        //setting patients genes and data for each of mutation, cnv and rna (given they are present)\n        let patient = {}\n        let genes = {}\n        let data = {}\n        let genomics = ['Mutation', 'RNASeq']\n\n        genomics.forEach((value, i) => {\n            let val = value.substring(0,3).toLowerCase()\n\n            // setting patients\n            let patient_id = Object.keys(onco[i].data[0]).filter(value => {\n                let return_value = ''\n                if(value !== 'gene_id') {\n                    return_value = value\n                }\n                return return_value\n            });\n            \n            patient[`patient_${val}`] = patient_id\n\n            // genes\n            let gene_id = onco[i].data.map((data) => {\n                return data['gene_id']\n            })\n            genes[`genes_${val}`] = gene_id\n\n            //data\n            data[`data_${val}`] = onco[i].data\n        })\n\n\n        this.setState({\n            hmap_patients : hmap_patients,\n            patient_mut : patient['patient_mut'],\n            patient_rna : patient['patient_rna'],\n            genes_mut : genes['genes_mut'],\n            genes_rna : genes['genes_rna'],\n            data_mut : data['data_mut'],\n            data_rna : data['data_rna'],\n        })\n    }\n\n    componentWillMount() {\n        this.setState ({\n            dataset_param : this.props.dataset\n        })\n    }\n\n    componentDidMount() {\n        if(this.state.dataset_param > 0) {\n            let mutation_data = axios.get(`/api/v1/mutation/${this.state.dataset_param}`)\n            let rnaseq_data = axios.get(`/api/v1/rnaseq/${this.state.dataset_param}`)\n            \n            Promise.all([mutation_data, rnaseq_data])\n                    .then(response => {\n                        this.updateResults(response);  \n                    })\n        } else { // this is basically useless else statement.\n            axios.get(`/api/v1/mutation`)\n                .then(response => {\n                    this.updateResults(response.data);\n                })\n        }\n    }\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 100,\n        right: 200,\n        bottom: 0,\n        left: 250\n    }\n\n    render() {\n        return (\n            <div className='wrapper' style={{margin:'auto', fontSize:'0'}}>\n                <Oncoprint \n                    className = 'oprint'\n                    dimensions = {this.dimensions}\n                    margin = {this.margin}\n                    threshold = {this.state.threshold}\n                    hmap_patients = {this.state.hmap_patients}\n                    genes_mut = {this.state.genes_mut} \n                    genes_rna = {this.state.genes_rna}\n                    patient_mut = {this.state.patient_mut}\n                    patient_rna = {this.state.patient_rna}\n                    data_mut = {this.state.data_mut} \n                    data_rna = {this.state.data_rna}\n                />   \n            </div>    \n        )\n    }\n}\n\nexport default OncoprintData","import React from 'react';\n\n\nconst styles = {\n\tcolor: '#3453b0',\n\tfontSize: 18, \n\ttextAlign: 'center',\n    paddingTop: '30px',\n    minHeight: '50px',\n    bottom: '0',\n    right: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    minWidth:'100vw',\n    backgroundColor: 'rgb(255,255,255,0.8)',\n    fontFamily: 'sans-serif',\n   \n};\n\n\nclass Footer extends React.Component {\n    render() {\n        return (\n            <div style={styles}>\n                ©BHKLab 2019\n            </div>\n        )\n    }\n}\n\n\n\nexport default Footer","import React, {Fragment} from 'react'\nimport HeatMapData from '../HeatMap/HeatMapData'\nimport OncoprintData from '../Oncoprint/OncoprintData'\nimport Footer from '../Footer/Footer'\n\nclass Dataset extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            dataset : 0\n        }\n    }\n\n    componentWillMount() {\n        let dataset_param = this.props.match.params.id\n        this.setState ({\n            dataset: dataset_param\n        })\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <HeatMapData  \n                    dataset = {this.state.dataset}\n                />\n                <OncoprintData\n                    dataset = {this.state.dataset}\n                />\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\n\n\nexport default Dataset","import React from 'react'\nimport * as d3 from 'd3'\nimport PropTypes from 'prop-types'\n\n\nclass DonutChart extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.DonutChart = this.DonutChart.bind(this);\n        this.makeDonutChart = this.makeDonutChart.bind(this);\n    }\n\n    componentDidMount() {\n        //this.DonutChart()\n    }\n\n    componentDidUpdate() {\n        this.DonutChart()\n    }\n\n    DonutChart() {\n        const node = this.node\n        const data = this.props.data\n        const height = this.props.dimensions.height\n        const width = this.props.dimensions.width\n        const left = this.props.margin.left\n        const top = this.props.margin.top\n        const bottom = this.props.margin.bottom\n        const right = this.props.margin.right\n        this.makeDonutChart(node, data, height, width, left, top, bottom, right)\n    }\n\n    // data should be like => {id: 'Gastric Cancer', value: 1007}\n    makeDonutChart(node, data, height, width, left, top, bottom, right) {\n        //console.log(data)\n        let chartId = this.props.chartId\n\n                                                /** SETTING SVG ATTRIBUTES **/\n        d3.select('svg').remove()\n        // make the SVG element.\n        let svg = d3.select(node)\n                    .append('svg')\n                    .attr('id', 'donutchart-' + this.props.chartId)\n                    .attr('xmlns', 'http://wwww.w3.org/2000/svg')\n                    .attr('xmlns:xlink', 'http://wwww.w3.org/1999/xlink')\n                    .attr('height',height + top + bottom)\n                    .attr('width',width + left + right)\n                    .append('g')\n                    .attr('transform', 'translate(' + left + ',' + top + ')')\n        \n                                                /* Skeleton for the pie/donut chart */\n        // structure of the chart\n        let skeleton = svg.append('g')\n                          .attr('id', 'skeleton')\n\n                                                        /* Donut Chart */\n\n        // color scheme for the pie/donut chart using the ordinal scale.     \n        \n        let colors = ['#E64B35FF' ,'#4DBBD5FF' ,'#00A087FF' ,'#3C5488FF' ,'#F39B7FFF'  ,'#8491B4FF' ,'#91D1C2FF' ,'#B09C85FF'\n                        ,'#0073C2FF' ,'#868686FF' ,'#CD534CFF' ,'#7AA6DCFF' ,'#003C67FF' ,'#3B3B3BFF' ,'#A73030FF' ,'#4A6990FF'\n                       ,'#00468BBF' ,'#42B540BF' ,'#0099B4BF' ,'#925E9FBF' ,'#FDAF91BF' ,'#AD002ABF' ,'#ADB6B6BF'\n                     ]\n\n        let color = d3.scaleOrdinal()\n                      .domain(data)\n                      .range(colors);\n\n\n                                                        /* div element for the tooltip */\n        // create a tooltip\n        let tooltip = d3.select(node)\n                            .append('div')\n                            .style('position', 'absolute')\n                            .style('visibility', 'hidden')\n                            .style('border', 'solid')\n                            .style('border-width', '2px')\n                            .style('border-radius', '5px')\n                            .style('padding', '5px')\n                            .attr('top', 10)\n                            .attr('left', 20);\n\n\n                                                        /* Arc for the main pie chart and label arc */\n\n        // arc generator\n        let arc = d3.arc()\n                    .outerRadius(this.props.arc.outerRadius)\n                    .innerRadius(this.props.arc.innerRadius)\n\n        // this is used to set the labels\n        let labelArc = d3.arc()\n                         .outerRadius(this.props.arc.outerRadius - 20)\n                         .innerRadius(this.props.arc.innerRadius + 10)\n\n                                                             /* Pie/Donut chart layout */\n\n        // pie generator/layout\n        let pie = d3.pie()\n                    .sort(null)\n                    .value((d) => {\n                        return d.value;\n                    })\n        \n        // this will send the data to the pie generator and appending the class arc.\n        let arcs = skeleton.selectAll('.arc')\n                      .data(() => {\n                          return pie(data);\n                      })\n                      .enter()  \n                      .append('a')\n                      .attr('xlink:href', function(d,i) {\n                           if(chartId === 'donut_datasets') {\n                                return `/dataset/${data[i].parameter}`\n                           }\n                      })\n                      .append('g')\n                      .attr('class', (d) => {\n                          return (d.data.id).replace(/\\s/g,'').replace(/[(-)]/g, '') + '_Arc'\n                      })\n        \n        // here we are appending path and use of d element to create the path.\n        let piearc = arcs.append('path')\n                         .attr('d', arc)\n                         .attr('fill', (d) => {\n                            return color(d.data.value);\n                         })\n                         .attr('stroke', 'black')\n                         .style('stroke-width', '.5px')\n              \n        // transition of the arcs for the pie chart itself.\n        piearc.transition()\n                .ease(d3.easeLinear)\n                .duration(500)\n                .attrTween('d', pieTween);\n\n        function pieTween(b) {\n            b.innerRadius = 0;\n            let i = d3.interpolate({startAngle: 0, endAngle:0}, b);\n            return function(t) {\n                return arc(i(t))\n            }\n        }\n                       \n        // this is a very basic tooltip.\n                /*\n                piearc.append('title')\n                    .text((d) => {\n                        return 'value is ' + d.data.value\n                    })\n                */    \n                                                                        /* event listeners */\n\n        let mouseover = function(d) {\n            let selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')\n            d3.select('.' + selection + '_Arc')\n                .transition()\n                .duration(300)\n                .style('opacity', 0.4)\n                .style('cursor', 'pointer')\n            // tooltip on mousever setting the div to visible.\n            tooltip\n                .style('visibility', 'visible')\n        }\n\n        let mousemove = function(d) {\n            let selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')\n            d3.select('.' + selection + '_Arc')\n                .transition()\n                .duration(300)\n                .style('opacity', 0.4)\n                .style('cursor', 'pointer')\n            // tooltip grabbing event.pageX and event.pageY and set color according to the ordinal scale.\n            let value = ' (' + d.data.value + ')'\n            tooltip\n                .text([d.data.id + value])\n                .style('left', d3.event.pageX + 10 + 'px')\n                .style('top', d3.event.pageY + 10 + 'px')\n                .style('color', 'white')\n                .style('background-color', color(d.data.value))\n        }\n\n        let mouseout = function(d) {\n            let selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')\n            d3.select('.' + selection + '_Arc')\n                .transition()\n                .duration(300)\n                .style('opacity', 1)\n                .style('cursor', 'pointer')\n            // tooltip on mouseout.\n            tooltip\n                .style('visibility', 'hidden')\n                .style('background-color', 'black')\n        }\n\n        // transition while mouseover and mouseout on each slice.\n          piearc.on('mouseover', (d) => {\n                       mouseover(d)\n                    })\n                    .on('mousemove', (d,i) => {\n                        mousemove(d)\n                    })\n                    .on('mouseout', (d) => {\n                       mouseout(d)\n                    })\n    \n                                                                    /* Label with event listeners */\n\n        // append the text labels.\n        if(this.props.chartId !== 'donut_drugs' && this.props.chartId !== 'donut_datasets' && this.props.chartId !== 'donut_tissues') {\n            arcs.append('text')\n                    .attr('transform', (d) => {\n                        return 'translate(' + labelArc.centroid(d) + ')'\n                    })\n                    .attr('dy', '0.35em')\n                    .text(d => {\n                        if (d.data.id === 'Non-small Cell Lung Carcinoma') {\n                            return 'NSCLC'\n                        }\n                        else { return d.data.id }\n                    })\n                    //.attr('font-weight', 'bold')\n                    .style('text-anchor', 'middle')\n                    .style('font-size', 14)\n                    .attr('fill', 'white')\n                    .on('mouseover', (d) => {\n                        mouseover(d)\n                    })\n                    .on('mousemove', (d) => {\n                        mousemove(d)\n                    })\n                    .on('mouseout', (d) => {\n                        mouseout(d)\n                    })             \n        }\n            \n                        \n\n                                                                    /**   Legends for the Donut Chart **/\n\n        // small side rectangles or legends for the donut chart.\n            let donut_rect = svg.append('g')\n                                     .attr('id', 'donut_small_rect')\n                            \n                            \n                            donut_rect.selectAll('rect')\n                                        .data(data)\n                                        .enter()\n                                        .append('rect')\n                                        .attr('x', (width) - 240)\n                                        .attr('y', function(d, i) {\n                                            return (-20 * i + (data.length)*10) - i * 8\n                                        })\n                                        .attr('width', 20)\n                                        .attr('height', 20)\n                                        .attr('fill', (d) => {\n                                            return color(d.value);\n                                        })\n\n                            donut_rect.selectAll('text')\n                                        .data(data)\n                                        .enter()\n                                        .append('text')\n                                        .attr('x', (width) - 200)\n                                        .attr('y', function(d, i) {\n                                            return (-20 * i + (data.length)*10) - i * 8 + 15\n                                        })\n                                        .attr('fill', (d) => {\n                                            return color(d.value)\n                                        })\n                                        .text(d => {\n                                            //console.log(d)\n                                            return d.id;\n                                        })              \n    }\n\n    render() {\n        return (\n            <div \n                ref = {node => this.node = node} \n                className = 'donut-chart'\n            >\n            </div>\n        )\n    }\n}\n\n\nDonutChart.propTypes = {\n    dimensions: PropTypes.object.isRequired,\n    margin: PropTypes.object.isRequired,\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.array.isRequired,\n    arc: PropTypes.object.isRequired\n}\n\nexport default DonutChart","import React, {Fragment} from 'react'\nimport DonutChart from '../DonutChart/DonutChart'\nimport axios from 'axios';\nimport styled from 'styled-components'\nimport Footer from '../Footer/Footer'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    color: #3453b0;\n    margin-bottom: 100px;\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`\n\nclass DatasetDonut extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        axios.get(`/api/v1/dataset/patients`)\n            .then((response) => {\n                response = response.data.data.map((element) => {\n                    return ({\n                        id: element.dataset_name,\n                        value: element.patient_id,\n                        parameter: element.dataset_id\n                    })\n                })\n                this.setState({\n                    data: response\n                })\n            })\n    }\n\n    dimensions = {\n        width: 650,\n        height: 250\n    }\n\n    margin = {\n        top: 320,\n        right: 100,\n        bottom: 100,\n        left: 380\n    }\n\n    arc = {\n        outerRadius: 260,\n        innerRadius: 150\n    }\n\n    chartId = 'donut_datasets'\n\n    render() {\n        return (\n            <Fragment>\n                <GlobalStyles/>\n                <TopNav/>\n                <Wrapper>\n                    <div className='donut-wrapper'>\n                        <h1> Number of Patient IDs Per Dataset </h1>\n                        <DonutChart \n                            dimensions = {this.dimensions} \n                            margin = {this.margin} \n                            chartId = {this.chartId} \n                            data = {this.state.data}\n                            arc = {this.arc}\n                        />\n                    </div>\n                </Wrapper>\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\n\nexport default DatasetDonut","import React, {Fragment} from 'react'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\n\nclass Documentation extends React.Component {\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <div className='wrapper'>\n                    <div className='doc-wrapper'>\n                        <h1> Documentation will be added Later. </h1>\n                    </div>\n                </div>\n            </Fragment>\n        )\n    }\n}\n\n\nexport default Documentation","import styled from 'styled-components'\n\n\nconst TableWrapper = styled.div`\n    padding:10px 20px 30px 20px;\n\n    .ReactTable * {\n        box-sizing: border-box;\n    }\n\n    .ReactTable .rt-table {\n        align-items: stretch;\n        width: 100%;\n        border-collapse: collapse;\n        overflow: auto\n    }\n\n    .ReactTable .rt-thead {\n        color:  #3453b0;\n        font-size: 18px;\n        font-weight: 600;\n    }\n\n    .ReactTable .rt-thead .rt-tr {\n        text-align: center\n    }\n\n    .ReactTable .rt-tbody{\n        color:  #3453b0;\n        font-size: 16px;\n    }\n\n    .-previous, .-next, .-btn {\n      background: #3453b0;\n      color:white !important;\n    }\n\n    .ReactTable .-pagination .-pageJump input{\n        color: #3453b0;\n    }\n`\n\n\nexport default TableWrapper","import React, {Fragment} from 'react'\nimport axios from 'axios'\nimport ReactTable from 'react-table'\nimport 'react-table/react-table.css'\nimport TableWrapper from './DrugTableStyle'\nimport pubchem from '../../images/pclogo_220.gif';\n\nvar h1Style = {\n  color: '#3453b0',\n  margin: '50px'\n}\n\nclass DrugTable extends React.Component {\n\n    constructor(props) {\n      super(props) \n      //setting the states for the data.\n      this.state = {\n        data: []\n      }\n    }\n\n    componentDidMount() {\n      axios.get(`/api/v1/drugs`)\n            .then(response => {\n                this.setState ({\n                  data: response.data\n                })\n            })\n    }\n\n    render() {\n      const data = this.state.data\n\n      // adding image to each of the object in array.\n      data.map(val => {\n          val['img'] = pubchem\n      })\n\n      const columns = [\n        {\n          Header: 'Drug',\n          accessor: 'drug_name',\n          minWidth: 180,\n          //Cell: props => props.value.toUpperCase(),\n          sortable: true\n        }, \n        //{\n        //  Header: 'StandardName',\n        //  accessor: 'standard_name',\n        //  minWidth: 180,\n        //  Cell: props => props.value.toUpperCase()\n        //},\n        {\n          Header: 'Targets',\n          accessor: 'class',\n          minWidth: 150\n        },\n        {\n          Header: 'Class',\n          accessor: 'class_name',\n          minWidth: 230\n        },\n        {\n          Header: 'Source',\n          Cell: val => {\n            return (\n              <div>\n                <img height={38} src={val.original.img} />\n              </div>\n            );\n          },\n        }\n      ]\n      \n      return (\n        <Fragment>\n          <h1 style = {h1Style}> Drug Table </h1>\n          <TableWrapper className='wrap'>\n            <ReactTable\n              data = {data}\n              columns = {columns}\n              className = '-highlight'\n              defaultPageSize = {10}\n              filterable\n            /> \n          </TableWrapper>         \n        </Fragment>\n      )\n    }\n\n}\n \nexport default DrugTable","import React, {Fragment} from 'react'\nimport DonutChart from '../DonutChart/DonutChart'\nimport Footer from '../Footer/Footer'\nimport DrugTable from './DrugTable'\nimport axios from 'axios'\nimport styled from 'styled-components'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    margin-bottom: 100px;\n    color: #3453b0\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`\n\nclass DonutDrug extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        let new_values = []\n        axios.get(`/api/v1/drug/class`)\n             .then((response) => {\n                 response.data.data.forEach((data) => {\n                     let value = {}\n                     if(data.class_name !== '') {\n                        value['id'] = (data.class_name).replace('\"', '').replace(\"/\", \"_\")\n                        value['value'] = data.model_ids\n                        new_values.push(value)\n                     }\n                 })\n                 this.setState({\n                     data : new_values\n                 })\n             })\n             \n    }\n\n    dimensions = {\n        width: 600,\n        height: 250\n    }\n\n    margin = {\n        top: 320,\n        right: 100,\n        bottom: 100,\n        left: 380\n    }\n\n    arc = {\n        outerRadius: 260,\n        innerRadius: 150\n    }\n\n    chartId = 'donut_drugs'\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <Wrapper>\n                    <div className='donut-wrapper'>\n                        <h1> Number of Model IDs Per Drug class </h1>\n                        <DonutChart \n                            dimensions = {this.dimensions} \n                            margin = {this.margin} \n                            chartId = {this.chartId} \n                            data = {this.state.data}\n                            arc = {this.arc}\n                        />\n                    </div>\n                    <div className='donut-wrapper'>\n                        <DrugTable/>\n                    </div>\n                </Wrapper>\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\nexport default DonutDrug","import React from 'react'\nimport DonutChart from './DonutChart'\nimport axios from 'axios'\n\n                                                    // This code is not being used anywhere for now //\nclass DonutPatient extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        let new_values = []\n        const promise1 = axios.get(`/api/v1/getinboth`);\n        const promise2 = axios.get(`/api/v1/getonlydrug`);\n        const promise3 = axios.get(`/api/v1/getonlysequencing`);\n\n        Promise.all([promise1, promise2, promise3])\n             .then((response) => {\n                let i = 1;\n                response.forEach((data) => {\n                    if(data.data.length !== 0) {\n                        let value = {}\n                        if (i===1) {\n                            value['id'] = 'Sequence and Drug Data'\n                        } else if (i===2) {\n                            value['id'] = 'Only Drug Data'\n                        } else if (i===3) {\n                            value['id'] = 'Only Sequence Data'\n                        }\n                        i++;\n                        value['value'] = data.data.length;\n                        new_values.push(value)\n                    }\n                })\n                this.setState({\n                    data : new_values\n                })\n             })\n    }\n\n    dimensions = {\n        width: 130,\n        height: 80\n    }\n\n    margin = {\n        top: 220,\n        right: 100,\n        bottom: 100,\n        left: 250\n    }\n\n    arc = {\n        outerRadius: 160,\n        innerRadius: 70\n    }\n\n    chartId = 'donut_patient'\n\n    render() {\n        return (\n            <div className='DonutPatient'>\n                <DonutChart \n                    dimensions = {this.dimensions} \n                    margin = {this.margin} \n                    chartId = {this.chartId} \n                    data = {this.state.data}\n                    arc = {this.arc}\n                />\n            </div>\n        )\n    }\n}\n\nexport default DonutPatient","import React, {Fragment} from 'react'\nimport DonutChart from '../DonutChart/DonutChart'\nimport Footer from '../Footer/Footer'\nimport axios from 'axios'\nimport styled from 'styled-components'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    color: #3453b0;\n    margin-bottom: 100px;\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`\n\n\nclass DonutTissue extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        let new_values = []\n        axios.get(`/api/v1/tissue/patients`)\n             .then((response) => {\n                 response.data.data.forEach((data) => {\n                     let value = {}\n                     value['id'] = data.tissue_name\n                     value['value'] = data.total\n                     new_values.push(value)\n                 })\n                 this.setState({\n                     data : new_values\n                 })\n             })\n    }\n\n   \n    dimensions = {\n        width: 600,\n        height: 300\n    }\n\n    margin = {\n        top: 320,\n        right: 100,\n        bottom: 100,\n        left: 380\n    }\n\n    arc = {\n        outerRadius: 280,\n        innerRadius: 150\n    }\n\n    chartId = 'donut_tissues'\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <Wrapper>\n                    <div className='donut-wrapper'>\n                        <h1> Number of Model IDs Per Tissue Type </h1>\n                        <DonutChart \n                            dimensions={this.dimensions} margin={this.margin} \n                            chartId={this.chartId} data={this.state.data}\n                            arc={this.arc}\n                        />\n                    </div>\n                </Wrapper>\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\nexport default DonutTissue","import styled from 'styled-components'\n\nconst StyleBar = styled.div`\n    margin-top: 30vh;\n    font-family: 'Raleway', sans-serif;\n    display:flex;\n    margin:auto;\n    \n    .search-container {\n        max-width: 1000px;\n        text-align:center;\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        align-items: center;\n        border-radius:25px;\n        max-height: 700px;\n    }\n\n    .select-component {\n        background: rgb(255,255,255,0.8);\n        width: 45%;\n        min-width: 750px;\n        margin-top: 0px;\n        max-height: 550px;\n        display: flex;\n        flex-wrap: wrap;\n        margin: 35px;\n        padding: 10px 25px 50px 25px;\n        \n        justify-content: space-around;\n        border-radius: 20px;\n\n        .div-dataset, .div-drug {\n            max-width: 49%;\n            min-width: 295px;\n        }\n        .div-genomics, .div-gene {\n            margin: 10px;\n            min-width: 600px;\n            max-width: 70%;\n        }\n\n        .div-rnaseq {\n            text-align: left;\n            padding-left: 5px;\n            margin: 5px;\n            min-width: 600px;\n            max-width: 70%;\n            font-size: 15px;\n            color: #3453b0;\n            \n            input {\n                color: #3453b0;\n                font-size: 14px;\n                border: 1px solid #3453b0;\n                border-radius: 4px;\n                outline-style: none;\n                padding: 2px;\n                margin-left: 4px;\n            }\n        }\n\n        .div-gene-enter {\n            margin: 15px;\n            min-width: 620px;\n            max-height: 150px;\n            textarea {\n                min-width: 600px;\n                min-height: 120px;\n                outline-style: none;\n                border-radius: 10px;\n                color: #3453b0;\n                font-weight: 300;\n                font-size: 15px;\n                border: 1px solid #3453b0;\n                padding: 10px;\n                overflow-wrap: break-word;\n                box-sizing: border-box;\n            }\n        }\n\n    }\n\n    .two-col {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        align-items: flex-end;\n        min-width: 610px;\n        max-width: 70%;\n        margin-bottom:10px;\n    }\n\n    h1 {\n      color: #3453b0;\n      text-align: center;\n      font-size: 36px;\n    }    \n\n   @media screen and (max-width: 1700px) {\n        h1 {\n            font-size: 22px;\n        }\n        .select-component {\n            width: 55%;\n            max-height: 400px;\n            min-width: 650px;\n        }\n        .search-container {\n            max-height: 500px;\n        }\n        .div-gene-enter {\n            min-height: 100px !important;\n            margin: 10px !important;\n            textarea {\n                min-height: 100px !important;\n                max-height: 100px;\n            }\n        }\n        .div-genomics, .div-gene {\n            margin: 5px !important;\n        }\n   }\n\n   @media screen and (max-width: 650px) {\n       h1 {\n           font-size: 18px;\n       }\n   }\n`;\n\n\nconst StyleButton = styled.button`\n    background-color: #3453b0;\n    border: none;\n    border-radius: 6px;\n    color: #ffffff;\n    padding: 10px 20px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 32px;\n    font-family: 'Raleway', sans-serif; \n    font-weight:700;\n    margin: auto;\n    transition: .3s;\n    outline-style: none;\n    margin-top: 0px;\n    &:hover {\n        opacity: 1;\n        cursor: pointer;\n        color:  #3453b0;\n        background-color: #ffffff;\n        border: 1px solid #3453b0;\n    }\n`;\n\n\nconst customStyles = {\n    placeholder: (provided) => ({\n          ...provided,\n          color: '#3453b0',\n          fontWeight:'400',\n          fontSize: '15px'\n    }),\n\n    control: (provided) => ({\n        ...provided,\n        '&:hover': { borderColor: '#3453b0' },\n        border: '1px solid #3453b0',\n        boxShadow: 'none',\n        padding: '0px 5px',\n        borderRadius: '5px',\n        background: 'rgb(255,255,255,0.7)',\n    }),\n\n    indicatorSeparator: (provided) => ({\n        ...provided,\n        background: '#3453b0',\n        '&:hover': { background: '#3453b0'},\n        height: '30px'\n    }), \n    \n    dropdownIndicator: (provided ) => ({\n        ...provided,\n        color: '#3453b0',\n        '&:hover': {\n          color: '#3453b0',\n          cursor: 'pointer'\n        }\n    }),\n\n    option: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        background: '#ffffff',\n        margin: '0px 0px',\n        '&:hover': {\n          background: '#fee8c8'\n        },\n        fontSize: '14px',\n        textAlign: 'left'\n    }),\n\n    singleValue: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        fontSize: '16px'\n    }),\n\n    input: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n    }),\n\n    clearIndicator: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        '&:hover': {\n          color: '#3453b0',\n        }\n    })\n}\n\n\n\nexport {\n    StyleBar,\n    customStyles,\n    StyleButton\n}","export const GeneList = [\n            'Prostate Cancer: AR Signaling=SOX9 RAN TNK2 EP300 PXN NCOA2 AR NRIP1 NCOR1 NCOR2',\n            'Prostate Cancer: AR and steroid synthesis enzymes=AKR1C3 AR CYB5A CYP11A1 CYP11B1 CYP11B2 CYP17A1 CYP19A1 CYP21A2 HSD17B1 HSD17B10 HSD17B11 HSD17B12 HSD17B13 HSD17B14 HSD17B2 HSD17B3 HSD17B4 HSD17B6 HSD17B7 HSD17B8 HSD3B1 HSD3B2 HSD3B7 RDH5 SHBG SRD5A1 SRD5A2 SRD5A3 STAR',\n            'Prostate Cancer: Steroid inactivating genes=AKR1C1 AKR1C2 AKR1C4 CYP3A4 CYP3A43 CYP3A5 CYP3A7 UGT2B15 UGT2B17 UGT2B7',\n            'Prostate Cancer: Down-regulated by androgen=BCHE CDK8 CTBP1 ACKR3 DDC DPH1 FN1 HES6 MMP16 MYC PEG3 PIK3R3 PRKD1 SCNN1A SDC4 SERPINI1 SLC29A1 ST7 TULP4',\n            'Glioblastoma: TP53 Pathway=CDKN2A MDM2 MDM4 TP53',\n            'Glioblastoma: RTK/Ras/PI3K/AKT Signaling=EGFR ERBB2 PDGFRA MET KRAS NRAS HRAS NF1 SPRY2 FOXO1 FOXO3 AKT1 AKT2 AKT3 PIK3R1 PIK3CA PTEN',\n            'Glioblastoma: RB Pathway=CDKN2A CDKN2B CDKN2C CDK4 CDK6 CCND2 RB1',\n            'Ovarian Cancer: Oncogenes associated with epithelial ovarian cancer=RAB25 MECOM EIF5A2 PRKCI PIK3CA KIT FGF1 MYC EGFR NOTCH3 KRAS AKT1 ERBB2 PIK3R1 CCNE1 AKT2 AURKA',\n            'Ovarian Cancer: Putative tumor-suppressor genes in epithelial ovarian cancer=DIRAS3 RASSF1 DLEC1 SPARC DAB2 PLAGL1 RPS6KA2 PTEN OPCML BRCA2 ARL11 WWOX TP53 DPH1 BRCA1 PEG3',\n            'General: Cell Cycle Control=RB1 RBL1 RBL2 CCNA1 CCNB1 CDK1 CCNE1 CDK2 CDC25A CCND1 CDK4 CDK6 CCND2 CDKN2A CDKN2B MYC CDKN1A CDKN1B E2F1 E2F2 E2F3 E2F4 E2F5 E2F6 E2F7 E2F8 SRC JAK1 JAK2 STAT1 STAT2 STAT3 STAT5A STAT5B',\n            'General: p53 signaling=TP53 MDM2 MDM4 CDKN2A CDKN2B TP53BP1',\n            'General: Notch signaling=ADAM10 ADAM17 APH1A APH1B ARRDC1 CIR1 CTBP1 CTBP2 CUL1 DLL1 DLL3 DLL4 DTX1 DTX2 DTX3 DTX3L DTX4 EP300 FBXW7 HDAC1 HDAC2 HES1 HES5 HEYL ITCH JAG1 JAG2 KDM5A LFNG MAML1 MAML2 MAML3 MFNG NCOR2 NCSTN NOTCH1 NOTCH2 NOTCH3 NOTCH4 NRARP NUMB NUMBL PSEN1 PSEN2 PSENEN RBPJ RBPJL RFNG SNW1 SPEN HES2 HES4 HES7 HEY1 HEY2',\n            'General: DNA Damage Response=CHEK1 CHEK2 RAD51 BRCA1 BRCA2 MLH1 MSH2 ATM ATR MDC1 PARP1 FANCF',\n            'General: Other growth / proliferation signaling=CSF1 CSF1R IGF1 IGF1R FGF1 FGFR1 AURKA DLEC1 PLAGL1 OPCML DPH1',\n            'General: Survival / cell death regulation signaling=NFKB1 NFKB2 CHUK DIRAS3 FAS HLA-G BAD BCL2 BCL2L1 APAF1 CASP9 CASP8 CASP10 CASP3 CASP6 CASP7 GSK3B ARL11 WWOX PEG3 TGFB1 TGFBR1 TGFBR2',\n            'General: Telomere maintenance=TERC TERT',\n            'General: RTK signaling family=EGFR ERBB2 ERBB3 ERBB4 PDGFA PDGFB PDGFRA PDGFRB KIT FGF1 FGFR1 IGF1 IGF1R VEGFA VEGFB KDR',\n            'General: PI3K-AKT-mTOR signaling=PIK3CA PIK3R1 PIK3R2 PTEN PDPK1 AKT1 AKT2 FOXO1 FOXO3 MTOR RICTOR TSC1 TSC2 RHEB AKT1S1 RPTOR MLST8',\n            'General: Ras-Raf-MEK-Erk/JNK signaling=KRAS HRAS BRAF RAF1 MAP3K1 MAP3K2 MAP3K3 MAP3K4 MAP3K5 MAP2K1 MAP2K2 MAP2K3 MAP2K4 MAP2K5 MAPK1 MAPK3 MAPK4 MAPK6 MAPK7 MAPK8 MAPK9 MAPK12 MAPK14 DAB2 RASSF1 RAB25',\n            'General: Regulation of ribosomal protein synthesis and cell growth=RPS6KA1 RPS6KA2 RPS6KB1 RPS6KB2 EIF5A2 EIF4E EIF4EBP1 RPS6 HIF1A',\n            'General: Angiogenesis=VEGFA VEGFB KDR CXCL8 CXCR1 CXCR2',\n            'General: Folate transport=SLC19A1 FOLR1 FOLR2 FOLR3 IZUMO1R',\n            'General: Invasion and metastasis=MMP1 MMP2 MMP3 MMP7 MMP9 MMP10 MMP11 MMP12 MMP13 MMP14 MMP15 MMP16 MMP17 MMP19 MMP21 MMP23B MMP24 MMP25 MMP26 MMP27 MMP28 ITGB3 ITGAV PTK2 CDH1 SPARC WFDC2'\n]\n\n\nexport default {\n    GeneList\n}","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport {StyleBar, customStyles, StyleButton} from './SearchStyle'\nimport Select from 'react-select'\nimport axios from 'axios'\nimport { GeneList } from './GeneList'\n\n\n\nclass Search extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : [],\n            datasets: [],\n            genes: [],\n            selectedGeneSearch: ['Enter Gene Symbol(s)'],\n            selectedDrugs: [],\n            selectedDataset: '' ,\n            genomics: ['All', 'Mutation', 'CNV', 'RNASeq'],\n            selectedGenomics: [],\n            allDrugs: [],\n            threshold: 2,\n            toggleRNA: false\n        }\n        this.handleDrugChange = this.handleDrugChange.bind(this)\n        this.handleDatasetChange = this.handleDatasetChange.bind(this)\n        this.handleGeneListChange = this.handleGeneListChange.bind(this)\n        this.handleGeneSearchChange = this.handleGeneSearchChange.bind(this)\n        this.handleExpressionChange = this.handleExpressionChange.bind(this)\n        this.handleKeyPress = this.handleKeyPress.bind(this)\n        this.redirectUser = this.redirectUser.bind(this)\n        this.handleThreshold = this.handleThreshold.bind(this)\n    } \n\n    axiosConfig = {\n        headers: {\n            'Content-Type': 'application/json;charset=UTF-8',\n            'Accept': 'application/json'\n        }\n    };\n\n    componentWillMount() {\n        const genes = GeneList.map(item => ({\n            value: item.split('=')[1].replace(/\\s/g, ','),\n            label: `${item.split('=')[0]} (${item.split('=')[1].split(' ').length})`\n        }))\n    \n        this.setState ({\n            genes: [{value: 'user defined list', label: 'User-Defined List'}, ...genes]\n        })\n        \n        const genomic = this.state.genomics.map((item, i) => {\n            return ({\n                label: item,\n                value: i\n            })\n        })\n        this.setState({\n            genomics: [...genomic]\n        })\n    }\n\n    componentDidMount() {\n        axios.get(`/api/v1/datasets`)\n            .then((response) => {\n                const datasets = response.data.data.map(item => ({\n                        value: item.dataset_id,\n                        label: item.dataset_name\n                }))\n                this.setState ({\n                    datasets: [...datasets]\n                })\n            })\n    }\n\n\n    handleDrugChange = (selectedOption, action) => {\n        if (selectedOption !== null && selectedOption.length > 0)  {\n            if (selectedOption[0].value === 'all') {\n                this.setState ({\n                    selectedDrugs : this.state.allDrugs,\n                    //data : []\n                })\n            }\n            else {\n                const label = selectedOption.map((value) => {\n                    return (value.label).replace(/\\s/g,'').replace('+','_');\n                })\n                this.setState ({\n                    selectedDrugs : label\n                })\n            }\n        }\n    }\n\n    // handle the dataset change and sends a post request to grab drugs based on the particular dataset.\n    handleDatasetChange = selectedOption => {\n        this.setState({\n            selectedDataset: selectedOption.value\n        })\n        const label = selectedOption.value\n        let initial = 1;\n        axios.post(`/api/v1/drugpatient/dataset`, {label}, this.axiosConfig)\n             .then((response) => {\n                const data = response.data.data[0].map(item => ({\n                    value: initial++,\n                    label: item.drug\n                }))\n                this.setState ({\n                    data: [ {value: 'all', label:'All'}, ...data]\n                })\n                const drug = response.data.data[0].map(item => {\n                    return (item.drug).replace(/\\s/g,'').replace('+','_');\n                })\n                this.setState ({\n                    allDrugs: [...drug]\n                })\n             })\n    }\n\n    // sets the value of selected gene search, empty if it's user defined list else the option selected.\n    handleGeneListChange = selectedOption => {\n        \n        if(selectedOption.value === 'user defined list') {\n            this.setState({\n                selectedGeneSearch: ''\n            })\n        } else {\n            this.setState({\n                selectedGeneSearch: selectedOption.value\n            })\n        }\n    }\n\n    // sets the value on event change.\n    handleGeneSearchChange = (event) => {\n        this.setState({\n            selectedGeneSearch: event.target.value\n        })\n    }\n\n    // this adds the value either mutation or cnv or rnaseq.\n    handleExpressionChange = selectedOption => {\n        if (selectedOption !== null && selectedOption.length > 0) {\n            // map through the options in order to store the selected value.\n            const genomics_value = selectedOption.map(value => {\n                return value.label\n            })\n            // if all then everything will be passed else the selected value.\n            if(genomics_value.includes('All')) {\n                this.setState({\n                    selectedGenomics : ['Mutation', 'CNV', 'RNASeq']\n                })\n            } else {\n                this.setState({\n                    selectedGenomics : genomics_value\n                })\n            }\n            // and if it includes RNASeq or all then toggle should be true.\n            if(genomics_value.includes('RNASeq') || genomics_value.includes('All')) {\n                this.setState({\n                    toggleRNA : true\n                })\n            } else {\n                this.setState({\n                    toggleRNA : false\n                })\n            }\n        } else if (selectedOption === null || selectedOption.length === 0) {\n            this.setState({\n                toggleRNA : false\n            })\n        }\n    }\n\n    // threshold for rnaseq.\n    handleThreshold = (event) => {\n        this.setState({\n            threshold : event.target.value\n        })\n    }\n\n\n    handleKeyPress = (event) => {\n        if(event.key === 'Enter'){\n           this.redirectUser()\n        }\n    }\n\n\n    redirectUser = () => {\n        if((this.state.selectedDataset !== '') && (this.state.selectedDrugs.length > 0) && (this.state.selectedGeneSearch[0] !== 'Enter Gene Symbol(s)')) {\n            const { history } = this.props\n            history.push(`/search/?drug=${this.state.selectedDrugs}&dataset=${this.state.selectedDataset}&genes=${this.state.selectedGeneSearch}&genomics=${this.state.selectedGenomics}&threshold=${this.state.threshold}`)\n        }\n    }\n\n\n    render() {\n        return (\n            <StyleBar className='wrapper'>\n                <div className='search-container'>\n                    <div className='select-component' onKeyPress={this.handleKeyPress}>\n                        <h1> <span>XevaDB:</span> A Database For PDX Pharmacogenomic Data </h1>\n                        <div className='two-col'>\n                            <div className='div-dataset'>\n                                <Select \n                                    options={this.state.datasets} \n                                    styles={customStyles}\n                                    placeholder={'Select the datasets'}\n                                    onChange={this.handleDatasetChange}\n                                />\n                            </div>\n                            <div className='div-drug'>\n                                <Select \n                                    options={this.state.data} \n                                    styles={customStyles}\n                                    placeholder={'Search for Drug (eg. CLR457)'}\n                                    onChange={this.handleDrugChange}\n                                    isMulti\n                                    isSearchable\n                                    isClearable\n                                />\n                            </div>\n                        </div>\n                        \n                        <div className='div-genomics'> \n                            <Select \n                                options={this.state.genomics} \n                                styles={customStyles}\n                                placeholder={'Genomics'}\n                                onChange={this.handleExpressionChange}\n                                isMulti\n                                isClearable\n                            />\n                        </div>\n\n                        <div className='div-rnaseq'> \n                        {\n                            this.state.toggleRNA ? \n                                <div>\n                                    Enter a z-score threshold ±\n                                    <input \n                                        type='text' \n                                        name='title' \n                                        value={this.state.threshold} \n                                        onChange={this.handleThreshold}\n                                    />\n                                </div>\n                            : null\n                        }\n                            \n                        </div>\n\n                        <div className='div-gene'>\n                            <Select \n                                options={this.state.genes} \n                                styles={customStyles}\n                                placeholder={'User Defined List'}\n                                onChange={this.handleGeneListChange}\n                            />\n                        </div>\n\n                        <div className='div-gene-enter'>\n                            <form>\n                                <textarea\n                                    type='text' \n                                    value={this.state.selectedGeneSearch} \n                                    onChange={this.handleGeneSearchChange}\n                                />\n                            </form>\n                        </div>\n                        <div>\n                            <StyleButton onClick={this.redirectUser} type='button'> \n                                <span>\n                                    Search\n                                </span>\n                            </StyleButton>\n                        </div>       \n                    </div>\n                </div>\n            </StyleBar>\n        )\n    }\n}\n\n\nexport default withRouter(Search)\n","import styled from 'styled-components'\n\n\nconst Container = styled.div`\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n`\n\nexport default Container","import React from 'react'\nimport Search from '../Search/Search'\nimport CounterNav from '../CounterNav/CounterNav'\nimport Container from './HomeStyle'\n\n\n\nclass Home extends React.Component {\n    render() {\n        return (\n            <Container>\n                <Search/>\n                <CounterNav/>\n            </Container>\n        )\n    }\n}\n\n\nexport default Home","import styled from 'styled-components'\n\n\nconst Paper = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nheight: 300px;\nwidth: 400px;\nmargin: auto;\nmargin-top: 20vh;\n`\n\nconst PaperGradient = styled.div`\nbackground-image: linear-gradient(\n    to right,\n    #CBC5EA,\n    #EAEAEA\n);\nheight: 400px;\nwidth: 500px;\nborder-radius: 5px;\n`\n\nconst FormStyle = styled.form`\nwidth: 100%;\nmargin-top: 2.5vh;\n`\n\nconst SubmitStyle = styled.div`\nmargin-top: 2vh;\n`\n\nconst LogoStyle = styled.img`\n    width:calc(5em + 2vw);\n    margin-top:2px;\n    z-index:999;\n    position: relative;\n    margin-left: calc(100vw - (3vw + 5em))\n`;\n\nconst LogoBack = styled.div `\nbackground-image: linear-gradient(\n    to right,\n    #CBC5EA,\n    #EAEAEA\n);\n`\n\n\n\nexport {\n    Paper,\n    FormStyle,\n    SubmitStyle,\n    LogoStyle,\n    PaperGradient,\n    LogoBack\n}","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {Paper, FormStyle, SubmitStyle, LogoStyle, PaperGradient, LogoBack} from './LoginStyle'\nimport logo from '../../images/logo.png';\n\nclass Login extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username : '',\n      password : ''\n    }\n    \n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n\n  handleUserChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({\n      username: event.target.value\n    })\n  }\n\n\n  handlePasswordChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({\n      username: event.target.password\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n\n  render() {\n    return (\n      <Fragment>\n        \n        <Link to='/'>\n          <LogoBack>\n            <LogoStyle src={logo} alt='logo' />\n          </LogoBack>\n        </Link>\n\n        <Container component=\"main\" maxWidth=\"xs\">\n          <PaperGradient>\n          <Paper>\n\n            <Typography component=\"h1\" variant=\"h5\" style={{color:'#3f51b5', marginTop: '1.5vh'}}>\n              Sign in\n            </Typography>\n\n            <FormStyle>\n              <form onSubmit={this.handleSubmit}>\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Username\"\n                  name=\"username\"\n                  autoFocus\n                  onChange={this.handleUserChange}\n                />\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={this.handlePasswordChange}\n                />\n\n                <SubmitStyle>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                >\n                  Sign In\n                </Button>\n                </SubmitStyle>\n                \n                <Grid container style={{marginTop: '5px'}}>\n                  <Grid item xs>\n                    <Link href=\"#\" variant=\"body2\">\n                      Forgot password?\n                    </Link>\n                  </Grid>\n                  <Grid item>\n                    <Link href=\"#\" variant=\"body2\">\n                      {\"Don't have an account? Sign Up\"}\n                    </Link>\n                  </Grid>\n                </Grid>\n              </form>\n            </FormStyle>\n\n          </Paper>\n          </PaperGradient>\n        </Container>\n\n      </Fragment>\n    )\n  }\n\n}\n\n\nexport default Login","import React from 'react'\nimport axios from 'axios'\nimport Oncoprint from '../Oncoprint/Oncoprint'\n\n\n\nclass SearchResultOncoprint extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting the states for the data.\n        this.state = {\n            threshold : 0,\n            hmap_patients: [],\n            genes_mut : [],\n            genes_rna : [],\n            //genes_cnv: [],\n            patient_mut : [],\n            patient_rna : [],\n            //patient_cnv : []\n            data_mut : [],\n            data_rna : []\n            //data_cnv : []\n        };\n        //binding the functions declared.\n        this.updateResults = this.updateResults.bind(this);\n    }\n\n    updateResults(result, genomics_param) {\n        let genomics = genomics_param.split(',')\n   \n        // temporary solution to remove cnv if everything is selected.\n        if(genomics.includes('Mutation') && genomics.includes('CNV')) {\n            genomics = ['Mutation', 'RNASeq']\n        }\n       \n        // grab the last array(patient array) from result[0]\n        const dataset = result[0].data;\n        let hmap_patients = [];\n        // grabbing the total patients from hmap.\n        hmap_patients = dataset.pop()\n\n        //removing last element from each array element of result\n        if(result.length > 1) {\n            result.forEach((value, i) => {\n                if (i !== 0) {\n                    value.data.pop()\n                }\n            })\n        }\n\n        //setting patients genes and data for each of mutation, cnv and rna (given they are present)\n        let patient = {}\n        let genes = {}\n        let data = {}\n\n        genomics.forEach((value, i) => {\n            let val = value.substring(0,3).toLowerCase()\n\n            // setting patients\n            let patient_id = Object.keys(result[i].data[0]).filter(value => {\n                let return_value = ''\n                if(value !== 'gene_id') {\n                    return_value = value\n                }\n                return return_value\n            });\n            patient[`patient_${val}`] = patient_id\n\n            // genes\n            let gene_id = result[i].data.map((data) => {\n                return data['gene_id']\n            })\n            genes[`genes_${val}`] = gene_id\n\n            //data\n            data[`data_${val}`] = result[i].data\n        })\n\n        this.setState({\n            threshold : this.props.threshold,\n            hmap_patients : hmap_patients,\n            patient_mut : patient['patient_mut'] === undefined ? this.state.patient_mut : patient['patient_mut'],\n            patient_rna : patient['patient_rna'] === undefined ? this.state.patient_rna : patient['patient_rna'],\n            //patient_cnv : patient['patient_cnv'],\n            genes_mut : genes['genes_mut'] === undefined ? this.state.genes_mut : genes['genes_mut'],\n            genes_rna : genes['genes_rna'] === undefined ? this.state.genes_rna : genes['genes_rna'],\n            //genes_cnv : genes['genes_cnv'],\n            data_mut : data['data_mut'] === undefined ? this.state.data_mut : data['data_mut'],\n            data_rna : data['data_rna'] === undefined ? this.state.data_rna : data['data_rna'],\n        })\n    }\n\n    componentDidMount() {\n        let dataset_param = this.props.dataset_param\n        let gene_param = this.props.gene_param\n        let genomics_param = this.props.genomics_param\n        let query_data = []\n\n        // making get requests based on the genomics parameters.\n        // sequence is important (first cnv or mutation) then rnaseq has to be pushed.\n        if (genomics_param.includes('CNV') || genomics_param.includes('Mutation')) {\n            query_data.push(axios.get(`/api/v1/mutation?genes=${gene_param}&dataset=${dataset_param}`))\n        }\n        if (genomics_param.includes('RNASeq')) {\n            query_data.push(axios.get(`/api/v1/rnaseq?genes=${gene_param}&dataset=${dataset_param}`))\n        } \n        \n        Promise.all([...query_data])\n                .then(response => {\n                    this.updateResults(response, genomics_param)\n                })\n    }\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 50,\n        right: 200,\n        bottom: 100,\n        left: 250\n    }\n\n    render() {\n        return (\n            <Oncoprint \n                className = 'oprint_result'\n                dimensions = {this.dimensions}\n                margin = {this.margin}\n                threshold = {this.state.threshold}\n                hmap_patients = {this.state.hmap_patients}\n                genes_mut = {this.state.genes_mut} \n                genes_rna = {this.state.genes_rna}\n                patient_mut = {this.state.patient_mut}\n                patient_rna = {this.state.patient_rna}\n                data_mut = {this.state.data_mut} \n                data_rna = {this.state.data_rna}\n            />\n        )\n    }\n}\n\n\n\nexport default SearchResultOncoprint\n","import React from 'react'\nimport HeatMap from '../HeatMap/HeatMap'\nimport axios from 'axios'\n\n\nclass SearchResultHeatMap extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting the states for the data.\n        this.state = {\n            drug_data : [],\n            patient_id_drug : [],\n            drug_id : [],\n            dataset_param : 0\n        };\n        //binding the functions declared.\n        this.parseData = this.parseData.bind(this);\n    }\n\n    // this function takes the parsed result and set the states.\n    parseData(result) {\n      \n        // defining the variables.\n        let dataset = []\n        let patient = []\n        let drug = []\n\n        //patient array.\n        patient = result.pop()\n        \n        // this function will loop through the elements and\n        // assign empty values in case model information is not available.\n        result.forEach(element => {\n            let data_object = {}\n            drug.push(element.Drug)\n            patient.forEach((patient) => {\n                if(!element[patient]) {\n                    data_object[patient] = ''\n                } else {\n                    data_object[patient] = element[patient]\n                }\n            })\n            dataset.push(data_object)\n        });\n\n        //setting the states using the defined variables.\n        this.setState({\n            drug_id : drug,\n            patient_id_drug : patient,\n            drug_data: dataset\n        })\n    }\n\n    componentDidMount() {\n        let drug_param = this.props.drug_param\n        let dataset_param = this.props.dataset_param\n        \n        axios.get(`/api/v1/response?drug=${drug_param}&dataset=${dataset_param}`)\n             .then(response => {\n                 this.parseData(response.data);\n             })\n    }\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 300,\n        right: 200,\n        bottom: 0,\n        left: 250\n    }\n\n    render() {\n        return (\n            <HeatMap\n                data = {this.state.drug_data} \n                drug_id = {this.state.drug_id} \n                patient_id = {this.state.patient_id_drug} \n                dimensions = {this.dimensions}\n                margin = {this.margin}\n                class = 'searchedHeatMap'\n            />\n        )\n    }\n}\n\n\n\nexport default SearchResultHeatMap\n","import React, {Fragment} from 'react'\nimport SearchResultOncoprint from './SearchResultOncoprint'\nimport SearchResultHeatMap from './SearchResultHeatMap'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\n\nclass SearchResult extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            drug_param : '',\n            dataset_param : '',\n            gene_param : '',\n          //drug_param_for_onco : '',\n            genomics_param : '',\n            threshold : 0\n        }\n    }\n\n    componentWillMount() {\n        let params = new URLSearchParams(this.props.location.search);\n        let genomics = params.get('genomics')\n        let drug = params.get('drug')\n        let dataset = params.get('dataset')\n        let gene = params.get('genes')\n        let threshold = params.get('threshold')\n        //let drug_for_onco = drug.split(',')[0]\n        \n        this.setState({\n            drug_param : drug,\n            dataset_param : dataset,\n            gene_param : gene,\n            //drug_param_for_onco : drug_for_onco,\n            genomics_param : genomics,\n            threshold : threshold\n        })\n    }\n       \n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <div className='wrapper' style={{margin:'auto', fontSize:'0'}}>\n                    <SearchResultHeatMap \n                        drug_param = {this.state.drug_param} \n                        dataset_param = {this.state.dataset_param}\n                    />\n                    <SearchResultOncoprint \n                        gene_param = {this.state.gene_param} \n                        dataset_param = {this.state.dataset_param} \n                        //drug_for_onco = {this.state.drug_param_for_onco}\n                        genomics_param = {this.state.genomics_param}\n                        threshold = {this.state.threshold}\n                    />\n                </div>\n            </Fragment>\n        )\n    }\n}\n\n\n\nexport default SearchResult","import React, {Fragment} from 'react'\nimport * as d3 from 'd3'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nclass TumorGrowthCurve extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting states for the data.\n        this.state = {\n            data : []\n        }\n        //binding the functions declared.\n        this.getParams = this.getParams.bind(this)\n        this.norm = this.norm.bind(this)\n        this.dataParse = this.dataParse.bind(this)\n        this.makeTumorGrowthCurve = this.makeTumorGrowthCurve.bind(this)\n        this.batchToggle = this.batchToggle.bind(this)\n    }\n\n    //get the parameters and set the values in the variables.\n    getParams() {\n        const params = new URLSearchParams(this.props.location.search)\n        let patient_param = params.get('patient');\n        let drugid_param = params.get('drug_id');\n\n        return {patient_param: patient_param, drugid_param: drugid_param}\n    }\n\n    // unity normalization\n    norm(value, first) {\n        return (value/first) - 1 \n    }\n\n    // filters by batch - comment out the batch lines for full data\n    // call this command to create a curve!!!\n    dataParse(data, batch_select) {\n        let data_formatted = []\n        let batches = []\n        String.prototype.replaceAll = String.prototype.replaceAll || function(s, r) {\n            return this.replace(new RegExp(s, 'g'), r);\n        };        \n\n        // loop throuth the data and set the values in the variable.\n        for (let i = 0; i < data.length; i++) {\n            batches.push(data[i]['batch'])\n            if (data[i]['batch'] === batch_select) {\n                // let exp_type = ''\n                // //this is used to set the value of exp_type to control or treatment.\n                // if(data[i]['drug'] === 'untreated') { exp_type = 'control' } \n                // else { exp_type = 'treatment' }\n\n                if (data[i]['time'] === 0) {\n                    var new_datapt = {\n                        exp_type: data[i][\"type\"],\n                        batch: data[i]['patient_id'],\n                        model: data[i]['model_id'],\n                        drug: data[i]['drug'],\n                        pdx_points: [{\n                            times: [parseInt(data[i]['time'])],\n                            volumes: [parseFloat(data[i]['volume'])],\n                            volume_normals: [parseFloat(data[i]['volume_normal'])]\n                        }],\n                        pdx_json: [{\n                            model: data[i]['model_id'].replace(/\\./g,' ').replaceAll(' ', '-'),\n                            batch: data[i]['patient_id'],\n                            exp_type: data[i][\"type\"],\n                            time: parseInt(data[i]['time']),\n                            volume: parseFloat(data[i]['volume']),\n                            volume_normal: parseFloat(data[i]['volume_normal'])\n                        }]\n                        \n                    }\n                    data_formatted.push(new_datapt)\n                } else {\n                    if (data[i]['time'] <= 200) {\n                        data_formatted[data_formatted.length - 1].pdx_points[0].times.push(parseInt(data[i]['time']))\n                        data_formatted[data_formatted.length - 1].pdx_points[0].volumes.push(parseFloat(data[i]['volume']))\n                        data_formatted[data_formatted.length - 1].pdx_points[0].volume_normals.push(parseFloat(data[i]['volume_normal']))\n                        data_formatted[data_formatted.length - 1].pdx_json.push(\n                            {\n                                model: data[i]['model_id'],\n                                batch: data[i]['patient_id'],\n                                exp_type: data[i][\"type\"],\n                                time: parseInt(data[i]['time']),\n                                volume: parseFloat(data[i]['volume']),\n                                volume_normal: parseFloat(data[i]['volume_normal'])\n                            }\n                        )\n                    }\n                }\n            }\n        }\n\n        //normalizing\n        // for (var i = 0; i < data_formatted.length; i++) {\n        //     var item = data_formatted[i]\n        //     var first = item.pdx_points[0].volumes[0]\n        //     for (var j = 0; j < item.pdx_points[0].volumes.length; j++) {\n        //         data_formatted[i].pdx_points[0].volumes[j] = this.norm(item.pdx_points[0].volumes[j], first)\n        //         data_formatted[i].pdx_json[j].volume = item.pdx_points[0].volumes[j]\n        //     }\n        // }\n        console.log(data_formatted)\n        this.setState({ data: data_formatted })\n    }\n\n    // toggle if batches present\n    // currently no batch in the data, so took patient id as the batch.\n    batchToggle(plotId, batches) {\n        var select = d3.select('#pdx' + plotId) // TODO: PLOT ID\n                        .append('select')\n                        .attr('class','select')\n                        .on('change',onchange)\n                \n     \n        select.selectAll('option')\n                .data(batches).enter()\n                .append('option')\n                .text(function (d) { return d; });\n                    \n        function onchange() {\n            d3.select('select').property('value')\n            select('#pdxplot').remove()\n        };\n    } \n\n\n    componentDidMount() {\n        let drugid_param = this.getParams().drugid_param\n        let patient_param = this.getParams().patient_param\n        axios.get(`/api/v1/treatment?drug=${drugid_param}&patient=${patient_param}`)\n             .then(response => {\n                function unique(value, index, self) { \n                    return self.indexOf(value) === index;\n                }\n                let batches = []\n                for (let i = 0; i < response.data.length; i++) {\n                    batches.push(response.data[i][\"batch\"])\n                    \n                }\n                this.batchToggle(\"plot\", batches.filter(unique))\n                this.dataParse(response.data, batches[0]);\n             })\n    }\n\n    componentDidUpdate() {\n        const node = this.node;\n        let plotId = 'plot'\n        if (this.state.data.length !== 0) {\n            this.makeTumorGrowthCurve(this.state.data, plotId, node)\n            d3.select(\".no-graph\").remove()\n        } else {\n            d3.select(\"svg\").remove()\n        }\n        \n    }\n\n    // This is the main function to create Growth curves.\n\n    makeTumorGrowthCurve(data, plotId, node) {\n        this.node = node\n        tumorCurve(data, plotId, node)\n\n        String.prototype.replaceAll = String.prototype.replaceAll || function(s, r) {\n            return this.replace(new RegExp(s, 'g'), r);\n        };\n\n        // unique function\n        // usage: var a = [1,2,3,4]; unique = a.filter(unique);\n        function unique(value, index, self) { \n            return self.indexOf(value) === index;\n        }\n\n        // get the union set of all timepoints for the means\n        // until the last timepoint of the shortest graph\n        // returns [ [control] , [treatment] ]\n        function getUnionOfTimepoints(data) {\n            var control = []\n            var treatment = []\n            // var c_ind = data[0].exp_type == \"control\" ? 0 : 1\n            // var t_ind = data[0].exp_type == \"treatment\" ? 0 : 1\n            let minControl, minTreatment;\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].exp_type === \"control\") {\n                    minControl = data[i].pdx_points[0].times[data[i].pdx_points[0].times.length - 1]; \n                    break;\n                }\n            }\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].exp_type === \"treatment\") {\n                    minTreatment = data[i].pdx_points[0].times[data[i].pdx_points[0].times.length - 1]; \n                    break;\n                }\n            }\n             \n\n            // merging time point arrays, and then unique\n            for (var i = 0; i < data.length; i++) {\n                var temp = data[i].pdx_points[0].times;\n                if (data[i].exp_type === 'control') {\n                    control = control.concat(temp)\n                    minControl = temp[temp.length - 1] < minControl ? temp[temp.length - 1] : minControl\n                } else {\n                    treatment = treatment.concat(data[i].pdx_points[0].times)\n                    minTreatment = temp[temp.length - 1] < minTreatment ? temp[temp.length - 1] : minTreatment\n                }\n            }\n            // unique, sort, and cut off at the last timepoint of shortest graph\n            control = control.filter(unique).sort(function (a, b) {  return a - b;  });\n            var index = control.indexOf(minControl)\n            control = control.slice(0, index + 1)\n\n            treatment = treatment.filter(unique).sort(function (a, b) {  return a - b;  });\n            index = treatment.indexOf(minTreatment)\n            treatment = treatment.slice(0, index + 1)\n\n            return [control, treatment]\n          \n            \n             \n        }\n\n\n        function tumorCurve(data, plotId, node) {\n            // let drug = data[0]['drug']\n\n            //calculating max time, min/max volumes of all data\n            var maxTimeArray = [];\n            var minVolArray = [];\n            var maxVolArray = [];\n            var maxVolNormArray = [];\n            for (var i = 0; i < data.length; i++) {\n                maxTimeArray.push(d3.max(data[i].pdx_points[0].times));\n                minVolArray.push(d3.min(data[i].pdx_points[0].volumes));\n                maxVolArray.push(d3.max(data[i].pdx_points[0].volumes));\n                maxVolNormArray.push(d3.max(data[i].pdx_points[0].volume_normals));\n            }\n\n            var maxTime = Math.max.apply(null, maxTimeArray);\n            var minVolume = Math.min.apply(null, minVolArray);\n            var maxVolume = Math.max.apply(null, maxVolArray);\n            var maxVolNorm = Math.max.apply(null, maxVolNormArray);\n\n            var exp_types = ['control', 'treatment']\n\n            // positioning variables\n            var width = 970;\n            var height = 500;\n            var margin = {\n                top:50,\n                right:260,\n                bottom:200,\n                left:130\n            }\n            // make the svg element\n            var svg = d3.select(node)\n                        .append('svg')\n                        .attr('id', 'pdx' + plotId)\n                        .attr('xmlns', 'http://www.w3.org/2000/svg')\n                        .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink') // for downloading\n                        .attr('width', width + margin.left + margin.right)\n                        .attr('height', height + margin.top + margin.bottom)\n                        .append('g')\n                        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n\n            // legend\n            var legend = svg.selectAll('.legend')\n                            .data(exp_types)\n                            .enter()\n\n            legend.append('circle')\n                    .attr('id', function(d,i) {\n                        return 'legend-dot-' + exp_types[i]\n                    })\n                    .attr('class', 'legend')\n                    .attr('r', 5)\n                    .attr('fill',function(d,i) {\n                        if (exp_types[i] === 'control') {\n                            return '#cd5686';\n                        } else {\n                            return '#5974c4';\n                        }\n                    })\n                    .attr('cx', width + 30)\n                    .attr('cy', function(d,i) {return height/2 - 50 + (i*50);})\n\n            legend.append('text')\n                    .attr('id', function(d,i) {\n                        return 'legend-text-' + exp_types[i]\n                    })\n                    .attr('class', 'legend')\n                    .attr('fill','black')\n                    .style('font-size', '16px')\n                    .attr('x', width+40)\n                    .attr('y', function(d,i) {return height/2 - 45 + (i*50);})\n                    .text(function(d,i) {return exp_types[i]})\n\n\n            // set domain and range scaling\n            var xrange = d3.scaleLinear()\n                            .domain([0, maxTime]) \n                            .range([0, width])\n                            .nice();\n\n            var yrange = d3.scaleLinear()\n                            .domain([0, maxVolume])\n                            .range([height, 0])\n                            .nice();\n\n            //set axes for graph\n            var xAxis = d3.axisBottom()\n                            .scale(xrange)\n                            .tickPadding(2);\n\n            var yAxis = d3.axisLeft()\n                            .scale(yrange)\n                            .tickPadding(2);\n\n            // Add the X Axis\n            var xAxisAdd = svg.append('g')\n                .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + yrange(0) + ')')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .call(xAxis);\n\n            // X axis label\n            svg.append('text')\n                .attr('text-anchor', 'middle')\n                .attr('fill','black')\n                .attr('transform', 'translate('+ (width/2) +','+(height+40)+')')\n                .text('Time (days)');\n\n            // Add the Y Axis\n            var yAxisAdd = svg.append('g')\n                .attr('class', 'y axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .call(yAxis);\n\n            // Y axis label\n            svg.append('text')\n                .attr('text-anchor', 'middle')\n                .attr('fill','black')\n                .attr('transform', 'translate(' + -60 +','+(height/2)+')rotate(-90)')\n                .text('Volume (mm³)');\n\n            // remove strokes for all ticks\n            svg.selectAll('.tick').select('text')\n                    .attr('fill', 'black')\n                    .attr('stroke', 'none')\n                    .attr(\"font-size\", \"14px\")\n            \n            let graph = svg.append(\"g\")\n                            .attr(\"id\", \"curves\")\n            // plot each model\n            plotBatch(data, graph, xrange, yrange, width, height, false)\n            volumeToggle(data, svg, xrange, yrange, yAxis, yAxisAdd, width, height, maxVolume, maxVolNorm, plotId)\n        }\n\n        function plotBatch(data, graph, xrange, yrange, width, height, norm) {\n            //when using d.model, use d.model.replace(/\\./g,' ').replaceAll(' ', '-')\n            //to replace all the periods with dashes because dots interfere with classes\n        \n            var models = graph.selectAll('g.model')\n                .data(data)\n                .enter()\n                    .append('g')\n                        .attr('class', 'model')\n        \n            // plotting the dots\n            var dots = models.selectAll('.model-dot')\n                .data(function(d) {return d.pdx_json})\n                .enter();\n        \n            var paths = graph.selectAll('.model-path')\n                .data(function(d) {return data})\n                .enter();\n        \n            // making tooltips\n            // var tooltips = models.selectAll('.tooltip-dot')\n            //     .data(function(d) {return d.pdx_json})\n            //     .enter();\n        \n            //     // timepoint\n            //     tooltips.append('text')\n            //         .attr('id', function(d,i) { return 'tooltip-t-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-') + '-' + d.exp_type + i})\n            //         .attr('class', 'tooltip-dot')\n            //         .attr('dx', width+20)\n            //         .attr('dy', height/2 + 30)\n            //         .attr('font-size', '14px')\n            //         .style('opacity', 0)\n            //         .attr('fill', 'black')\n            //         .html(function(d) {return 'Time: ' + d.time + ' days'})\n                \n            //     // volume\n            //     tooltips.append('text')\n            //         .attr('id', function(d,i) { return 'tooltip-v-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-') + '-' + d.exp_type + i})\n            //         .attr('class', 'tooltip-dot')\n            //         .attr('dx', width+20)\n            //         .attr('dy', height/2 + 45)\n            //         .attr('font-size', '14px')\n            //         .style('opacity', 0)\n            //         .attr('fill', 'black')\n            //         .html(function(d) {\n            //             if (norm) {\n            //                 return 'Volume: ' + d3.format('.2f')(d.volume_normal) + ' mm³'\n            //             } else {\n            //                 return 'Volume: ' + d3.format('.2f')(d.volume) + ' mm³'\n            //             }\n                        \n            //         })\n                \n            dots.append('circle')\n                .attr('id', function(d,i) {\n                    return 'dot-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-') + '-' + \n                            d.exp_type + i\n                })\n                .attr('class', function(d) {\n                    return 'model-dot ' + \n                            d.model.replace(/\\./g,' ').replaceAll(' ', '-') + ' ' + \n                            d.batch\n                })\n                .attr('r', 4)\n                .attr('fill', function(d,i) {\n                    if (d.exp_type === 'control') {\n                        return '#cd5686';\n                    } else {\n                        return '#5974c4';\n                    }\n                })\n                .style('opacity', 0.6)\n                .attr('cx', function(d) {return xrange(d.time);})\n                .attr('cy', function(d) {\n                    if (norm) {\n                        return yrange(d.volume_normal);\n                    } else {\n                        return yrange(d.volume);\n                    }\n                    \n                })\n\n        \n            // line function, to join dots\n            var linepath = d3.line()\n                .x(function(d) {return xrange(d.time);})\n                .y(function(d) {\n                    if (norm) {\n                        return yrange(d.volume_normal);\n                    } else {\n                        return yrange(d.volume);\n                    }\n                })\n                \n        \n            // add line\n            paths.append('path')\n                .attr('id', function(d) { return 'path-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-')})\n                .attr('class', function(d) { \n                    return 'model-path ' + d.exp_type + ' ' +\n                            d.model.replace(/\\./g,' ').replaceAll(' ', '-') + ' ' + \n                            d.batch\n                })\n                .attr('d', function(d) {return linepath(d.pdx_json)})\n                .attr('fill', 'none')\n                .style('opacity', 0.6)\n                .attr('stroke', function (d) {\n                    if (d.exp_type === 'control') {\n                        return '#cd5686';\n                    } else {\n                        return '#5974c4';\n                    }\n                })\n                .attr('stroke-width', 2)\n                .attr('stroke-dasharray', ('3', '3'))\n\n            plotMeans(data, graph, xrange, yrange, width, height)\n            // modelToggle(graph, width, height)\n        }\n\n        // plot the mean of each experiment type (control, treatment)\n        function plotMeans(data, svg, xrange, yrange, width, height) {\n            var timeUnion = getUnionOfTimepoints(data)\n            let exp_types = []\n\n            // if there is no control\n            if (timeUnion[0].length === 0) {\n                exp_types = [\"treatment\"]\n                timeUnion.shift()\n            } else if (timeUnion[1].length === 0) { //no treatment\n                exp_types = [\"control\"]\n                timeUnion.pop()\n            } else {\n                exp_types = ['control', 'treatment']\n            }\n             \n            \n            var ypoint_arr = [] // un-yranged\n            var all_ypoint = [] // for std devs\n\n            //TODO: fix the batch, it's the first one rn\n            var batch = data[0].batch\n\n            for (var n = 0; n < exp_types.length; n++) {\n                var exp = exp_types[n]\n                var times = timeUnion[n]\n                var selection = d3.selectAll('.model-path.' + exp_types[n])._groups     \n                // for each timepoint\n                for (var i = 0; i < timeUnion[n].length; i++) {\n                    var temp_ycoord = []\n                    \n                    // for each path, get ycoord for each timepoint in union\n                    for (var j = 0; j < selection.length; j++) {\n                        var path = selection[j][0]\n                        var ycoord = findY(path, xrange(timeUnion[n][i])) \n                        temp_ycoord.push(yrange.invert(ycoord))\n                    }\n\n                    // append array to all_ypoint for std devs\n                    all_ypoint.push(temp_ycoord)\n                    // append mean to ypoint_arr\n                    ypoint_arr.push(mean(temp_ycoord))\n                }\n                // plot error bars\n                // plotErrorBars(data, exp, times, all_ypoint, ypoint_arr, svg, xrange, yrange)\n\n                // mean svg\n                var mean_svg = svg.append('g')\n                    .attr('id', 'mean_' + exp_types[n])\n\n                //tooltips\n                var tooltips = svg.selectAll('.tooltip-mean-dot' + exp)\n                    .data(ypoint_arr)\n                    .enter();\n\n                // timepoint\n                tooltips.append('text')\n                    .attr('id', function(d,i) { return 'tooltip-mean-t-' + batch + '-' + exp + i})\n                    .attr('class', 'tooltip-mean-dot' + exp)\n                    .attr('dx', width+20)\n                    .attr('dy', height/2 + 30)\n                    .attr('font-size', '14px')\n                    .style('opacity', 0)\n                    .attr('fill', 'black')\n                    .html(function(d,i) {return 'Time: ' + times[i] + ' days'})\n\n                // volume\n                tooltips.append('text')\n                    .attr('id', function(d,i) { return 'tooltip-mean-v-' + batch + '-' + exp + i})\n                    .attr('class', 'tooltip-mean-dot')\n                    .attr('dx', width+20)\n                    .attr('dy', height/2 + 45)\n                    .attr('font-size', '14px')\n                    .style('opacity', 0)\n                    .attr('fill', 'black')\n                    .html(function(d,i) {return 'Volume: ' + d3.format('.2f')(ypoint_arr[i]) + ' mm³'})\n                \n                var mean_dots = mean_svg.selectAll('.mean-dot')\n                    .data(ypoint_arr)\n                    .enter()\n                mean_dots.append('circle')\n                    .attr('id', function(d,i) {\n                        return 'mean-dot-' + exp_types[n] + '-' + batch\n                    })\n                    .attr('class', 'mean-dot ' + batch)\n                    .attr('r', 4)\n                    .attr('fill',function() {\n                        if (exp_types[n] === 'control') {\n                            return '#cd5686'; \n                        } else {\n                            return '#5974c4';\n                        }\n                    })\n                    .attr('cx', function(d,i) {return xrange(timeUnion[n][i]);})\n                    .attr('cy', function(d,i) {return yrange(ypoint_arr[i]);})\n                    .on({\n                        'mouseover': function(d,i) {\n                            d3.select('#tooltip-mean-t-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 1);\n                            d3.select('#tooltip-mean-v-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 1);\n                        },\n                        'mouseout': function(d,i) {\n                            d3.select('#tooltip-mean-t-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 0);\n                            d3.select('#tooltip-mean-v-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 0);\n                        },\n                    })\n\n                var mean_path = mean_svg.selectAll('.mean-path')\n                    .data(ypoint_arr)\n                    .enter();\n\n                \n                var linepath = d3.line()\n                    .x(function(d,i) {return xrange(timeUnion[n][i]);})\n                    .y(function(d,i) {return yrange(ypoint_arr[i]);})\n\n                mean_path.append('path')\n                    .attr('id', 'mean-path-' + exp_types[n] + '-' + batch)\n                    .attr('class',  'mean-path ' + batch)\n                    .attr('d', function(d) {return linepath(ypoint_arr)})\n                    .attr('fill', 'none')\n                    .style('opacity', 0.2)\n                    .attr('stroke', function() {\n                        if (exp_types[n] === 'control') {\n                            return '#cd5686'; \n                        } else {\n                            return '#5974c4';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n\n                \n\n                // reset y arrs\n                all_ypoint = []\n                ypoint_arr = []\n            }       \n        }\n\n        //toggle to show each model\n        function modelToggle(svg, width, height) {\n            var nest = d3.nest()\n                .key(function(d) {return d;})\n                .entries([''])\n            \n            nest.forEach(function(d,i) {\n                var modelToggle = svg.append('rect')\n                .attr('x', width + 21)\n                .attr('y', height/2 + 40)\n                .attr('id', 'modelToggle')\n                .attr('width', 10)\n                .attr('height', 10)\n                .attr('fill', 'black')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .on('click', function () {\n                    var active = d.active ? false : true ,\n                    newOpacity = active ? 0 : 1,\n                    newFill = active? 'white' : 'black';\n\n                    // Hide or show the elements\n                    d3.selectAll('.model-dot').style('opacity', newOpacity);\n                    d3.selectAll('.model-path').style('opacity', newOpacity);\n                    d3.select('#modelToggle').attr('fill', newFill)\n\n                    // Update whether or not the elements are active\n                    d.active = active;\n                })\n                .on({\n                    'mouseover': function() {\n                        d3.select(this).style('cursor', 'pointer');\n                    },\n                    'mouseout': function() {\n                        d3.select(this).style('cursor', 'default');\n                    }\n                })\n\n                var modelToggleText = svg.append('text')\n                    .attr('dx', width + 35)\n                    .attr('dy', height/2 + 50)\n                    .attr('fill', 'black')\n                    .text('Show all curves')\n                    .on('click', function () {\n                        var active = d.active ? false : true ,\n                        newOpacity = active ? 0 : 1,\n                        newFill = active? 'white' : 'black';\n            \n                        // Hide or show the elements\n                        d3.selectAll('.model-dot').style('opacity', newOpacity);\n                        d3.selectAll('.model-path').style('opacity', newOpacity);\n                        d3.select('#modelToggle').attr('fill', newFill)\n            \n                        // Update whether or not the elements are active\n                        d.active = active;\n                    })\n                    .on({\n                        'mouseover': function() {\n                            d3.select(this).style('cursor', 'pointer');\n                        },\n                        'mouseout': function() {\n                            d3.select(this).style('cursor', 'default');\n                        }\n                    })\n            })\n        } \n\n\n        function mean(arr) {\n            var total = 0\n            for (var i = 0; i < arr.length; i++) {\n                total += arr[i]\n            }\n            return (total/arr.length)\n        }\n\n        // thank you stackoverflow user Wei\n        // https://stackoverflow.com/questions/15578146/get-y-coordinate-of-point-along-svg-path-with-given-an-x-coordinate\n        function findY(path, x) {\n            var pathLength = path.getTotalLength()\n            var start = 0\n            var end = pathLength\n            var target = (start + end) / 2\n        \n            // Ensure that x is within the range of the path\n            x = Math.max(x, path.getPointAtLength(0).x)\n            x = Math.min(x, path.getPointAtLength(pathLength).x)\n        \n            // Walk along the path using binary search \n            // to locate the point with the supplied x value\n            while (target >= start && target <= pathLength) {\n            var pos = path.getPointAtLength(target)\n        \n            // use a threshold instead of strict equality \n            // to handle javascript floating point precision\n            if (Math.abs(pos.x - x) < 0.001) {\n                return pos.y\n            } else if (pos.x > x) {\n                end = target\n            } else {\n                start = target\n            }\n            target = (start + end) / 2\n            }\n        }\n\n        //takes in an array of arrays and an array of means,\n        // and returns array of std devs\n        function stdDev(values, means) {\n            var stdDevs = []\n            for (var i = 0; i < values.length; i++) {\n            var temp = 0;\n            for (var j = 0; j < values[i].length; j++) {\n                temp += Math.pow(values[i][j] - means[i], 2);\n            }\n            stdDevs.push(Math.sqrt(temp)/values[i].length);\n            }\n            return stdDevs;\n        }\n\n        function plotErrorBars(data, exp, times, all_ypoint, ypoint_arr, svg, xrange, yrange) {\n            var stdDevs = stdDev(all_ypoint, ypoint_arr)\n\n            var errorBars = svg.append('g')\n                .attr('id', 'errorBars')\n\n            var errorMidBar = errorBars.selectAll('line.error')\n                .data(stdDevs);\n\n                errorMidBar.enter()\n                    .append('line')\n                    .attr('class', 'error')\n                    .attr('stroke', function() {\n                        if (exp === 'control') {\n                            return '#3b9dd6'; \n                        } else {\n                            return '#e0913c';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n                    .attr('x1', function(d,i) { return xrange(times[i]); })\n                    .attr('x2', function(d,i) { return xrange(times[i]); })\n                    .attr('y1', function(d,i) { return yrange(ypoint_arr[i] + stdDevs[i]); })\n                    .attr('y2', function(d,i) { return yrange(ypoint_arr[i] - stdDevs[i]); });\n\n            var errorTopBar = errorBars.selectAll('line.errorTop')\n                .data(stdDevs);\n\n                errorTopBar.enter()\n                    .append('line')\n                    .attr('class', 'errorTop')\n                    .attr('stroke', function() {\n                        if (exp === 'control') {\n                            return '#3b9dd6'; \n                        } else {\n                            return '#e0913c';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n                    .attr('x1', function(d,i) { return xrange(times[i]) - 3; })\n                    .attr('x2', function(d,i) { return xrange(times[i]) + 3; })\n                    .attr('y1', function(d,i) { return yrange(ypoint_arr[i] + stdDevs[i]);})\n                    .attr('y2', function(d,i) { return yrange(ypoint_arr[i] + stdDevs[i]);});\n\n            var errorBotBar = errorBars.selectAll('line.errorBot')\n                .data(stdDevs);\n\n                errorBotBar.enter()\n                    .append('line')\n                    .attr('class', 'errorBot')\n                    .attr('stroke', function() {\n                        if (exp === 'control') {\n                            return '#3b9dd6'; \n                        } else {\n                            return '#e0913c';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n                    .attr('x1', function(d,i) { return xrange(times[i]) - 3; })\n                    .attr('x2', function(d,i) { return xrange(times[i]) + 3; })\n                    .attr('y1', function(d,i) { return yrange(ypoint_arr[i] - stdDevs[i]);})\n                    .attr('y2', function(d,i) { return yrange(ypoint_arr[i] - stdDevs[i]);});\n        }\n\n        //toggle to show each model\n        function volumeToggle(data, svg, xrange, yrange, yAxisAdd, yAxis, width, height, maxVolume, maxVolNorm, plotId) {\n            // var nest = d3.nest()\n            //     .key(function(d) {return d;})\n            //     .entries([''])\n\n            // nest.forEach(function(d,i) {\n                \n\n                var volRaw = svg.append(\"rect\")\n                    .attr('x', width+25)\n                    .attr(\"y\", height/2 + 50)\n                    .attr(\"width\", 70)\n                    .attr(\"height\", 20)\n                    .attr(\"fill\", \"#cd5686\")\n                    .style(\"opacity\", 0.8)\n                    .attr('id', 'volRawToggle')\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                                        .domain([0, maxVolume])\n                                        .range([height, 0])\n                                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, false)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"#cd5686\")\n                        d3.select('#volNormToggle').attr('fill', \"lightgray\")\n                        \n                    })\n\n                var volNorm = svg.append(\"rect\")\n                    .attr('x', width+25)\n                    .attr(\"y\", height/2 + 70)\n                    .attr(\"width\", 70)\n                    .attr(\"height\", 20)\n                    .style(\"opacity\", 0.8)\n                    .attr(\"fill\", \"lightgray\")\n                    .attr('id', 'volNormToggle')\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                        .domain([0, maxVolNorm])\n                        .range([height, 0])\n                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, true)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"lightgray\")\n                        d3.select('#volNormToggle').attr('fill', \"#cd5686\")\n                        \n                    })\n\n            var volRawText = svg.append(\"text\")\n                    .attr('fill','black')\n                    .style('font-size', '12px')\n                    .attr(\"id\", \"volRawText\")\n                    .attr(\"text-anchor\", \"middle\")\n                    .attr('x', width+60)\n                    .attr(\"y\", height/2 + 64)\n                    .text(\"Raw\")\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                                        .domain([0, maxVolume])\n                                        .range([height, 0])\n                                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, false)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"#cd5686\")\n                        d3.select('#volNormToggle').attr('fill', \"lightgray\")\n                       \n                    })\n\n            var volNormText = svg.append(\"text\")\n                    .attr('fill','black')\n                    .style('font-size', '12px')\n                    .attr(\"id\", \"volNormText\")\n                    .attr('x', width+29)\n                    .attr(\"y\", height/2 + 84)\n                    .text(\"Normalized\")\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                        .domain([0, maxVolNorm])\n                        .range([height, 0])\n                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, true)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"lightgray\")\n                        d3.select('#volNormToggle').attr('fill', \"#cd5686\")\n                        \n                    })\n            // })\n        } \n\n    }\n\n    render() {\n        return (\n            <Fragment>\n            <TopNav/>\n            <GlobalStyles/>\n            <div className=\"wrapper\" style={{margin:\"auto\", fontSize:\"16px\"}}>\n                <div className=\"curve-wrapper\" style={{marginTop:\"100px\"}}>\n                    <h1>Drug ID = <span style={{color:\"#cd5686\"}}>{this.getParams().drugid_param}</span> and Patient ID = <span style={{color:\"#cd5686\"}}>{this.getParams().patient_param}</span></h1>\n                    \n                    <svg ref = {node => this.node = node} width={1300} height={620} >\n                    </svg>\n\n                    <div className=\"no-graph\">There is no data for this graph.</div>\n                    \n                    \n                </div>\n                <div className=\"curve-wrapper\" style={{marginTop:\"20px\", padding:\"10px 0px\"}}>\n                    <Link to='/datasets'> ←&nbsp;&nbsp;Back to Datasets </Link>\n                </div>\n            </div>\n            </Fragment>\n        )\n    }\n}\n\n\n\nexport default TumorGrowthCurve;","import React, {Fragment} from 'react'\nimport {    CounterNav,\n            Dataset,\n            DatasetDonut,\n            Documentation,\n            DonutDrug,\n            DonutTissue,\n            DrugTable,\n            Footer,\n            HeatMapData,\n            Home,\n            Login,\n            OncoprintData,\n            SearchResult,\n            TopNav,\n            TumorGrowthCurve, } from './Components/index'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\n\n\nconst Merge = () => {\n    return (\n      <Fragment>\n        <HeatMapData/>\n        <OncoprintData/>\n        <Footer/>\n      </Fragment>\n    )\n}\n\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Fragment>\n        <Router>\n          <Switch>\n            <Route path='/' exact component={Home}></Route>\n            <Route path='/curve' exact component={TumorGrowthCurve}></Route>\n            <Route path='/datasets' exact component={DatasetDonut}></Route>\n            <Route path='/dataset/:id' exact component={Dataset}></Route>\n            <Route path='/doc' exact component={Documentation}></Route>\n            <Route path='/drugs' exact component={DonutDrug}></Route>\n            <Route path='/drug/:id' exact component={DrugTable}></Route>\n            <Route path='/home' exact component={CounterNav}></Route>\n            <Route path='/login' exact component={Login}></Route>\n            <Route path='/maps' exact component={Merge}></Route>\n            <Route path='/search' exact component={SearchResult}></Route>\n            <Route path='/tissues' exact component={DonutTissue}></Route>\n            <Route render = { () => <h1> 404 Error </h1> } />\n          </Switch>\n        </Router>\n      </Fragment>\n    )\n  }\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.1de5f71c.png\";","module.exports = __webpack_public_path__ + \"static/media/bgImg7.3eb67c7e.png\";","module.exports = \"data:image/gif;base64,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\""],"sourceRoot":""}