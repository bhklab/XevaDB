{"version":3,"sources":["Components/CounterNav/CounterStyle.js","GlobalStyles.js","Components/TopNav/NavStyle.js","Components/TopNav/TopNav.js","Components/CounterNav/CounterNav.js","Components/Context/PatientContext.js","Components/BoxPlot/BoxPlot.js","Components/HeatMap/HeatMap.js","Components/HeatMap/HeatMapData.js","util/MutationViewsUtil.js","Components/Oncoprint/Oncoprint.js","Components/SpinnerUtil/Spinner.js","Components/Error/Error.js","Components/Oncoprint/OncoprintData.js","Components/Footer/Footer.js","Components/Dataset/Dataset.js","Components/DonutChart/DonutChart.js","Components/Drug/DrugTableStyle.js","Components/Dataset/DatasetTable.js","Components/Dataset/DatasetDonut.js","Components/Documentation/Documentation.js","Components/Drug/DrugTable.js","Components/Drug/DonutDrug.js","Components/DonutChart/DonutPatient.js","Components/Tissue/DonutTissue.js","Components/ResponseStat/ModelResponseStyle.js","Components/ResponseStat/BatchResponseStatTable.js","Components/ResponseStat/ModelResponseStatTable.js","Components/TumorGrowthCurve/TumorGrowthCurve.js","Components/TumorGrowthCurve/GrowthCurveData.js","Components/Search/SearchStyle.js","util/GeneList.js","Components/Search/Search.js","Components/Home/HomeStyle.js","Components/Home/Home.js","Components/Login/LoginStyle.js","Components/Login/Login.js","Components/Search/SearchResultHeatMap.js","Components/Search/SearchResultOncoprint.js","Components/Search/SearchResult.js","App.js","index.js","images/logo.png","images/bgImg7.png","images/pclogo_220.gif"],"names":["DonutNav","styled","div","GlobalStyles","createGlobalStyle","bgImg","HeaderStyle","header","LinkStyle","LogoStyle","img","TopNav","props","state","isLogged","isLink","isLoggedIn","bind","this","localStorage","removeItem","setState","to","src","logo","alt","Button","type","fullWidth","variant","color","onClick","getItem","React","Component","CounterNav","drugs","patients","datasets","tissues","models","axios","get","headers","Authorization","then","response","data","start","end","duration","useEasing","PatientContext","createContext","globalPatients","setPatients","PatientProvider","Provider","PatientConsumer","Consumer","BoxPlot","parsedData","minTotal","maxTotal","forEach","element","Object","keys","patient","value","Number","push","undefined","parseData","totalPatients","length","margin","top","right","bottom","left","height","width","initialize","svgWidth","svgHeight","useEffect","d3","remove","scale","min","max","domain","range","yScale","svg","append","attr","axis","ticks","tickSize","call","yAxis","svgCanvas","createSvg","style","createRectangle","i","appendGElement","filter","isDataPlotable","sortedData","map","isNaN","sort","q1","median","q3","computeStats","y","verticalLine","createBox","selectAll","enter","d","createRest","id","HeatMap","modifiedPatients","responseValue","makeHeatmap","rankHeatMap","rankHeatMapBasedOnOncoprintChanges","node","drugId","patientId","dimensions","className","dataset","responseType","drug","plotId","heatmap","reference","rectHeight","rectWidth","targetEval","CR","PR","SD","PD","targetColor","empty","NA","tooltip","drugUse","drugIndex","patientUse","maxDrug","drugEvaluations","patientEvaluations","j","total","calculateEvaluations","drugAlt","entries","currentMaxDrug","key","querystringValue","rangeRound","xScale","tickPadding","xAxis","val","replace","skeleton","gskeleton","drawrectangle","row","calculateMinMax","linearColorScale","pCount","drugClass","on","patientToolTip","x","tooltipDiv","tooltipData","html","split","createToolTip","pageX","pageY","lines","temp","slice","text","targetRect","values","drugEval","drugScale","xAxisVertical","tickFormat","drugHeightScale","drugEvaluationRectangle","iterator","xRange","maxPatientidTotal","curentMax","patientEval","patientScale","patientScales","patientEvaluationRectangle","yRange","selectedOption","property","linearGradient","legendValue","createLegend","datasetId","newSortedPatients","res","sortable","a","b","unshift","newDataset","context","position","display","align","marginTop","ref","contextType","HeatMapData","datasetParam","result","pop","dataObject","Drug","mutationStyleMap","missense","label","longName","mainType","priority","inframe","truncating","nonsense","nonstop","nonstart","frameshift","frame_shift_del","frame_shift_ins","in_frame_ins","in_frame_del","splice_site","fusion","silent","default","other","mutationTypeMap","missense_mutation","mutation","missense_variant","frameshift_deletion","frameshift_insertion","de_novo_start_outofframe","frameshift_variant","nonsense_mutation","stopgain_snv","stop_gained","splice","splicing","splice_site_snp","splice_site_del","splice_site_indel","splice_region_variant","translation_start_site","initiator_codon_variant","start_codon_snp","start_codon_del","nonstop_mutation","stop_lost","in_frame_deletion","in_frame_insertion","indel","nonframeshift_deletion","nonframeshift","nonframeshift_insertion","targeted_region","feature_truncation","synonymous_variant","any","cnaMap","xevalabel","0","1","2","deletion","gain","amp","amplification","unknown","rnaMap","positive","negative","Oncoprint","rankOncoprintBasedOnHeatMapChanges","rankOncoprint","hmap_patients","threshold","data_mut","data_rna","data_cnv","genes_mut","genes_rna","genes_cnv","patient_mut","patient_rna","patient_cnv","makeOncoprint","isAlteration","Array","prototype","unique","concat","genes","aberration","rect_height","rect_width","rect_alterations_mut","rect_alterations_rna","rect_alterations_cnv","rect_alterations","geneNames","geneAxis","alterations","highlight","gene_alterations","patient_alterations","del","colorReactangles","mutationType","rect","colorNotSequenced","includes","cnvType","toLowerCase","z","max_width_arr","max_width","xrange_gene","gene_alter","geneAlterationReactangle","x_range","stroke_width","aberration_type","xrange_scale","x_axis","select","max_height_arr","max_height","patient_alter","yrange_patient","patientAlterationReactangle","y_range","yrange_axis","nice","y_axis","each","target_rect","mutationToolTip","cnvToolTip","gene","cnv","newData","createNewData","retunType","gene_id","isNegative","isNegativeCheck","sortableArray","sortedPatients","override","css","SpinnerUtil","loading","sizeUnit","size","ErrorStyle","h1","Error","message","OncoprintData","error","updateResults","mutation_data","rnaseq_data","cnv_data","Promise","all","catch","err","onco","substring","patient_id","return_value","Spinner","renderingData","styles","fontSize","textAlign","paddingTop","minHeight","flexDirection","minWidth","backgroundColor","fontFamily","Footer","Dataset","providerData","match","params","DonutChart","makeDonutChart","chartId","arcRadius","arc","outerRadius","innerRadius","labelArc","pie","arcs","parameter","piearc","transition","ease","attrTween","startAngle","endAngle","t","mouseover","selection","mousemove","mouseout","centroid","donutRect","charAt","toUpperCase","TableWrapper","h1Style","DatasetTable","dataLength","columns","Header","accessor","search","Cell","original","textDecoration","showPagination","pageSize","Wrapper","DatasetDonut","dataset_name","dataset_id","totalModels","Documentation","DrugTable","pubchem","capitalize","s","pubchemLink","source","link","isNa","target","rel","href","defaultPageSize","filterable","DonutDrug","newValues","class_name","model_ids","DonutTissue","tissue_name","StyleTable","BatchStatTable","tableHeader","createTable","createTableHeader","batchId","eachdata","batch_id","batch","response_type","index","angle","TGI","abc","padding","StatTable","batchData","drugParam","patientParam","getModelResponse","getBatchResponse","drugValue","modelValue","drug_name","model","bar","mRECIST","slope","AUC","survival","checkData","createTableRow","exp_type","time","volume","plotMeans","xrange","yrange","isNormal","isErrorBar","isPlotMean","timeUnion","control","treatment","pdx_points","times","Set","getUnionOfTimepoints","expTypes","shift","newVolumeControl","newVolumeTreatment","oldVolume","oldTime","timeUnionData","newVolume","totalVolume","number","minVol","maxVol","current","volumeObject","volume_normals","volumes","n","exp","exptype","typeNumber","meanVolume","yStandardError","deviation","Math","sqrt","meanVolumeError","meanSvg","meanPath","linepath","errorBars","plotErrorBars","plotBatch","graph","norm","paths","volume_normal","createLine","stroke","opacity","pdx_json","tableSelect","tcolor","tback","acolor","aback","classed","preventDefault","selectedCurve","ctrlKey","metaKey","nodes","attributes","classList","contains","previousSelection","volumeToggle","maxVolume","maxVolNorm","minVolNorm","isNormalized","calculateNormalizedRange","minimum","maximum","calcMinMax","additionalHeight","rawToggle","normToggle","allToggle","errorToggle","extraWidth","extraHeight","console","log","createReactangle","checkIfNormalized","TumorGrowthCurve","minmax","maxTimeArray","minVolArray","maxVolArray","maxVolNormArray","minVolNormArray","maxTime","apply","minVolume","curve","legend","tumorCurve","GrowthCurveData","dataFormatted","dataParse","batches","batchSelect","newDatapt","model_id","parseInt","parseFloat","location","URLSearchParams","StyleBar","StyleButton","button","customStyles","placeholder","provided","fontWeight","borderColor","border","boxShadow","borderRadius","background","indicatorSeparator","dropdownIndicator","cursor","option","singleValue","multiValue","input","clearIndicator","valueContainer","paddingBottom","overflow","GeneList","Search","selectedGeneSearch","selectedDrugs","selectedDataset","genomicsValue","selectedGenomics","allDrugs","toggleRNA","genomics","axiosConfig","handleDrugChange","handleDatasetChange","handleGeneListChange","handleGeneSearchChange","handleExpressionChange","handleKeyPress","redirectUser","handleThreshold","checkInput","clearText","item","genomic","Accept","labelVal","truth","regex","RegExp","test","doesItContain","initial","post","event","genomicsCurrentValue","formatedGeneList","history","onKeyPress","options","onChange","isMulti","isSearchable","isClearable","name","trigger","withRouter","Container","Home","Paper","PaperGradient","SubmitStyle","LogoBack","Login","username","password","isAuthenticated","handleSubmit","handleUserChange","handlePasswordChange","setItem","alert","token","pathname","Typography","component","onSubmit","TextField","required","autoComplete","Grid","container","xs","SearchResultHeatMap","drugData","patientIdDrug","SearchResultOncoprint","hmapPatients","genesMut","genesRna","genesCnv","patientMut","patientRna","patientCnv","dataMut","dataRna","dataCnv","geneParam","genomicsParam","queryData","returnValue","geneId","SearchResult","Merge","App","ReactGA","pageview","window","path","exact","render","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e3cef9a9.chunk.js","sourcesContent":["import styled from 'styled-components';\n\n\nconst DonutNav = styled.div`\n    display: flex;\n    background-color: rgb(255,255,255,0.8);\n    min-height: 70px;\n    max-height: 70px;\n    position: fixed;\n    bottom:0;\n    left:0;\n    width: 100%;\n    align-items: flex-end;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    font-family: 'Raleway', sans-serif;\n    font-weight:500;\n    font-size: 1.4em;\n    padding-bottom:5px;\n    a{\n        padding: 10px;\n        color: #3453b0;\n        letter-spacing: 2px;\n        font-weight: bold;\n        font-size: 20px;\n        text-decoration: none;\n        &:hover {\n            color: #cd5686;\n        }\n        text-align:center;\n    }\n    h4 {\n        margin-top: 3px;\n        margin-bottom: 0px;\n    }\n\n    @media screen and (max-width: 1500px) {\n        a {\n            font-size: 18px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 100px;\n        }\n    }\n\n    @media screen and (max-width: 1300px) {\n        a {\n            font-size: 18px;\n        }\n        \n        a:nth-child(1) {\n            margin-left : 10px;\n        }\n    }\n\n    @media screen and (max-width: 1000px) {\n        a {\n           font-size: 14px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n\n    @media screen and (max-width: 700px) {\n        a {\n           font-size: 10px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n`;\n\n\nexport default DonutNav;\n","import { createGlobalStyle } from 'styled-components';\nimport bgImg from './images/bgImg7.png';\n\n\nconst GlobalStyles = createGlobalStyle`\n\n  body {\n    background: linear-gradient(\n      to right top,\n      rgba(255, 255, 255, 0.3), \n      rgba(255, 255, 255, 0.3)\n    ),url('${bgImg}');\n    background-size: cover;\n    background-attachment: fixed;\n    background-position: center;\n    margin: auto;\n    width:100%;\n  }\n\n  #root {\n    display: flex;\n    min-height: 100vh;\n    flex-direction: column;\n    \n    min-width:100vw;\n    width:auto;\n    position:relative;\n    margin:0px;\n  }\n\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    h1 {\n      font-family:'Raleway', sans-serif;\n      font-weight:700;\n      text-align:center;\n      color: #3453b0;\n    }\n  }\n\n  .heatmap-wrapper, .doc-wrapper {\n    margin-top: 200px;\n  }\n\n  .oprint-wrapper {\n    margin-bottom:100px;\n  }\n\n  .heatmap-wrapper, .oprint-wrapper {\n    min-width:1417px;\n  }\n  .heatmap-wrapper, .oprint-wrapper, .curve-wrapper,\n  .donut-wrapper, .doc-wrapper { //put all wrappers here and wrap them with wrapper\n    background:white;\n    font-family:'Raleway', sans-serif;\n  }\n\n  .donut-wrapper {\n    margin-bottom:20px;\n    min-width:1300px;\n  }\n\n  .heatmap, .oprint {\n    height:700px;\n    overflow:auto;\n  }\n\n  .curve-wrapper {\n    min-width:1300px;\n    display:flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    a {\n      text-decoration:none;\n      font-size:16px;\n      padding:20px;\n      font-family: 'Raleway', sans-serif;\n      color: #3453b0;\n    }\n\n    .no-graph {\n      padding:50px;\n    }\n  }\n`;\n\n\nexport default GlobalStyles;\n","import styled from 'styled-components';\n\nconst HeaderStyle = styled.header`\n    *{\n        margin: 0px;\n        padding: 0px;\n        box-sizing: border-box;\n    }\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    min-height: 80px;\n    max-height: 100px;\n    font-family: 'Raleway', sans-serif;\n    background-color: rgb(255,255,255,0.8);\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n`;\n\nconst LinkStyle = styled.div`\n    display: flex;\n    justify-content: space-around;\n    width: 60%;\n\n    a {\n        color: #3453b0;\n        text-decoration: none;\n        letter-spacing:1px;\n        font-family: 'Raleway', sans-serif;\n        font-weight:700;\n        font-size: 24px;\n        &:hover {\n            color: #cd5686;\n            cursor:pointer;\n        }\n    }\n\n    \n    a:nth-child(1) {\n        margin-left : 600px;\n    }\n\n    a:nth-child(6) {\n        margin-right : -200px;\n    }\n\n    @media screen and (max-width: 2100px) {\n        a {\n            font-size: 20px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 100px;\n        }\n\n        a:nth-child(6) {\n        margin-right : -100px;\n        }\n    }\n\n    @media screen and (max-width: 1300px) {\n        a {\n            font-size: 18px;\n        }\n        \n        a:nth-child(1) {\n            margin-left : 10px;\n        }\n    }\n\n    @media screen and (max-width: 1000px) {\n        a {\n           font-size: 14px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n\n    @media screen and (max-width: 700px) {\n        a {\n           font-size: 10px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n`;\n\nconst LogoStyle = styled.img`\n    width:calc(5em + 2vw);\n    margin-top:2px;\n    z-index:999;\n`;\n\n\nexport {\n    HeaderStyle,\n    LogoStyle,\n    LinkStyle,\n};\n","/* eslint-disable no-unused-expressions */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport { HeaderStyle, LogoStyle, LinkStyle } from './NavStyle';\nimport logo from '../../images/logo.png';\n\nclass TopNav extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLogged: 'Login',\n            isLink: '/login',\n        };\n        this.isLoggedIn = this.isLoggedIn.bind(this);\n    }\n\n    static getDerivedStateFromProps() {\n        let localState = '';\n        localStorage.getItem('user')\n            ? localState = ({ isLogged: 'Logout', isLink: '/login' })\n            : localState = ({ isLogged: 'Login' });\n        return localState;\n    }\n\n    isLoggedIn() {\n        const { isLogged } = this.state;\n        if (isLogged === 'Logout') {\n            localStorage.removeItem('user');\n            this.setState({ isLogged: 'Login', isLink: '/login' });\n        }\n    }\n\n    render() {\n        const { isLink, isLogged } = this.state;\n        return (\n            <HeaderStyle>\n                <Link to=\"/\">\n                    <LogoStyle src={logo} alt=\"logo\" />\n                </Link>\n                <LinkStyle>\n                    <Link to=\"/\"> Home </Link>\n                    <Link to=\"/datasets\"> Datasets </Link>\n                    <Link to=\"/drugs\"> Drugs </Link>\n                    <Link to=\"/tissues\"> Tissues </Link>\n                    <Link to=\"/doc\"> Documentation </Link>\n                    <Link to={`${isLink}`}>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={this.isLoggedIn}\n                        >\n                            {isLogged}\n                        </Button>\n                    </Link>\n                </LinkStyle>\n            </HeaderStyle>\n        );\n    }\n}\n\n\nexport default TopNav;\n","import React from 'react';\nimport CountUp from 'react-countup';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport DonutNav from './CounterStyle';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\n\nclass CounterNav extends React.Component {\n    constructor(props) {\n        super(props);\n        // setting states for all the variables.\n        this.state = {\n            drugs: 0,\n            patients: 0,\n            datasets: 0,\n            tissues: 0,\n            models: 0,\n        };\n    }\n\n    componentDidMount() {\n        axios.get('/api/v1/counter', { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                this.setState({\n                    tissues: response.data.data[0][0].tissues,\n                    drugs: response.data.data[1][0].drugs,\n                    patients: response.data.data[2][0].patients,\n                    models: response.data.data[3][0].models,\n                    datasets: response.data.data[4][0].datasets,\n                });\n            });\n    }\n\n\n    render() {\n        const {\n            datasets, tissues, patients, drugs, models,\n        } = this.state;\n        return (\n            <div>\n                <TopNav />\n                <GlobalStyles />\n                <DonutNav>\n                    <Link to=\"/datasets\">\n                        <CountUp\n                            start={0}\n                            end={datasets}\n                            duration={3}\n                            useEasing\n                        />\n                        <h4> DATASETS </h4>\n                    </Link>\n                    <Link to=\"/tissues\">\n                        <CountUp\n                            start={0}\n                            end={tissues}\n                            duration={3}\n                            useEasing\n                        />\n                        <h4> TISSUES </h4>\n                    </Link>\n                    <Link to=\"/\">\n                        <CountUp\n                            start={0}\n                            end={patients}\n                            duration={3}\n                            useEasing\n                        />\n                        <h4> PATIENTS </h4>\n                    </Link>\n                    <Link to=\"/\">\n                        <CountUp\n                            start={0}\n                            end={models}\n                            duration={3}\n                            useEasing\n                        />\n                        <h4> MODELS </h4>\n                    </Link>\n                    <Link to=\"/drugs\">\n                        <CountUp\n                            start={0}\n                            end={drugs}\n                            duration={3}\n                            useEasing\n                        />\n                        <h4> DRUGS </h4>\n                    </Link>\n                </DonutNav>\n            </div>\n        );\n    }\n}\n\nexport default CounterNav;\n","import React from 'react';\n\nconst PatientContext = React.createContext({\n    globalPatients: [],\n    setPatients: () => {},\n});\n\nconst PatientProvider = PatientContext.Provider;\nconst PatientConsumer = PatientContext.Consumer;\n\nexport { PatientProvider, PatientConsumer };\nexport default PatientContext;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\n\n// parsing the initial data.\nconst parseData = (data, response) => {\n    const parsedData = {};\n    let minTotal = 0;\n    let maxTotal = 0;\n\n    data.forEach((element) => {\n        Object.keys(element).forEach((patient) => {\n            const value = element[patient][response];\n            if (Number(value) > maxTotal) {\n                maxTotal = value;\n            }\n\n            if (Number(value) < minTotal) {\n                minTotal = value;\n            }\n\n            if (!parsedData[patient]) {\n                parsedData[patient] = [];\n            }\n            parsedData[patient].push((value === undefined || value === 'NA' || value === 'empty') ? 0 : Number(value));\n        });\n    });\n\n    return { parsedData, minTotal, maxTotal };\n};\n\n\n// checks for column data and checks for the number of NaN/enpty.\n// if there are atleast 10 numbers in the array/list return true, else false.\nconst isDataPlotable = (data) => {\n    // get the total number of numbers.\n    const total = data.filter((element) => element !== 0);\n    return total.length > 10;\n};\n\n\n// initialize the dimensions and margins.\nconst initialize = () => {\n    const margin = {\n        // top: 10, right: 10, bottom: 10, left: 20,\n        top: 1, right: 1, bottom: 1, left: 1,\n    };\n    const width = 20 - margin.left - margin.right;\n    const height = 100 - margin.top - margin.bottom;\n\n    return {\n        margin,\n        height,\n        width,\n    };\n};\n\n// create an svg.\nconst createSvg = (width, height) => {\n    const svg = d3.select('#boxplot')\n        .append('svg')\n        .attr('width', width)\n        .attr('height', height)\n        .attr('transform', 'translate(220, 150)')\n        .attr('id', 'boxplotsvg');\n\n    return svg;\n};\n\n\n// create a rectangle outside the box plots.\nconst createRectangle = (svg, width, height) => {\n    const rect = svg\n        .append('rect')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('width', width)\n        .attr('height', height)\n        .attr('stroke', 'black')\n        .attr('stroke-width', 1.0)\n        .style('fill', 'white');\n\n    return rect;\n};\n\n// append svg to the div element.\nconst appendGElement = (svg, margin, width, i) => svg\n    .append('g')\n    .attr('transform',\n        `translate(${(width + margin.left + margin.right) * i},${margin.top})`)\n    .style('background-color', 'grey')\n    .attr('id', 'boxplotbody');\n\n\n// scale.\nconst yScale = (height, min, max) => d3.scaleLinear()\n    .domain([min, max])\n    .range([height, 0]);\n\n\n// create y axis.\nconst yAxis = (scale, width, height, margin) => {\n    const svg = d3.select('#boxplot')\n        .append('svg')\n        .attr('width', width + margin.left + margin.right + 10)\n        .attr('height', height + margin.top + margin.bottom)\n        .attr('transform', 'translate(220, 150)')\n        .attr('id', 'boxplotsvg');\n\n    const axis = d3.axisLeft()\n        .scale(scale)\n        .ticks(7)\n        .tickSize(0);\n\n    svg.append('g')\n        .attr('transform', 'translate(30, 0)')\n        .call(axis);\n};\n\n\n// Compute summary statistics used for the box:\nconst computeStats = (data) => {\n    const newData = data.map((element) => (Number.isNaN(element) ? 0 : element));\n    const sortedData = newData.sort(d3.ascending);\n    const q1 = d3.quantile(sortedData, 0.25);\n    const median = d3.quantile(sortedData, 0.5);\n    const q3 = d3.quantile(sortedData, 0.75);\n    const interQuantileRange = q3 - q1;\n    // const min = q1 - 1.5 * interQuantileRange;\n    // const max = q1 + 1.5 * interQuantileRange;\n    const min = d3.min(sortedData);\n    const max = d3.max(sortedData);\n\n    return {\n        sortedData,\n        min,\n        q1,\n        median,\n        q3,\n        max,\n    };\n};\n\n\n// create main vertical line.\nconst verticalLine = (width, min, max, svg, y) => {\n    svg\n        .append('line')\n        .attr('x1', width / 2)\n        .attr('x2', width / 2)\n        .attr('y1', y(min))\n        .attr('y2', y(max))\n        .attr('stroke', 'black')\n        .attr('stroke-width', 0.50);\n};\n\n\n// create box.\nconst createBox = (svg, margin, width, q3, q1, y, element) => {\n    svg\n        .append('rect')\n        .attr('x', margin.left)\n        .attr('y', y(q3))\n        .attr('height', (y(q1) - y(q3)))\n        .attr('width', width)\n        .attr('stroke', 'black')\n        .attr('stroke-width', 0.50)\n        .style('fill', '#69b3a2')\n        .attr('id', `box${element}`);\n};\n\n\n// create median, min and max horizontal lines\nconst createRest = (svg, min, median, max, width, y) => {\n    svg\n        .selectAll('total')\n        .data([min, median, max])\n        .enter()\n        .append('line')\n        .attr('x1', 1)\n        .attr('x2', width)\n        .attr('y1', (d) => (y(d)))\n        .attr('y2', (d) => (y(d)))\n        .attr('stroke', 'black')\n        .attr('stroke-width', 0.50);\n};\n\n\nconst BoxPlot = (props) => {\n    // destructuring the props.\n    const { data, response, patients } = props;\n\n    // parsing the data.\n    const { parsedData, minTotal, maxTotal } = parseData(data, response);\n\n    // get number of patients.\n    const totalPatients = Object.keys(parsedData).length;\n\n    // initialize dimensions.\n    const { width, height, margin } = initialize();\n\n    // svg width.\n    const svgWidth = (width + margin.left + margin.right) * totalPatients;\n    const svgHeight = height + margin.bottom + margin.top;\n\n\n    // use effect function once the component is mounted/updated.\n    useEffect(() => {\n        // remove the element if already present.\n        d3.selectAll('#boxplotsvg').remove();\n\n        // scale.\n        const scale = yScale(height, minTotal, maxTotal);\n\n        // y-axis.\n        yAxis(scale, width, height, margin);\n\n        // create an svg element.\n        const svgCanvas = createSvg(svgWidth, svgHeight);\n\n        // creating reactangle around the svgs.\n        createRectangle(svgCanvas, svgWidth, svgHeight);\n\n        // create a box plot for each of the patient.\n        const keys = patients.length === 0 ? Object.keys(parsedData) : patients;\n        keys.forEach((element, i) => {\n            // append g element to svg for each patient.\n            const svg = appendGElement(svgCanvas, margin, width, i);\n\n            // only plot the data if the number of NaN is less than 10.\n            if (isDataPlotable(parsedData[element])) {\n                const plotData = parsedData[element];\n\n                // compute stats.\n                const {\n                    median, min, max,\n                    q1, q3,\n                } = computeStats(plotData);\n\n                // create vertical line.\n                verticalLine(width, min, max, svg, scale);\n                // create box.\n                createBox(svg, margin, width, q3, q1, scale, element);\n                // create rest of the elements.\n                createRest(svg, min, median, max, width, scale);\n            }\n        });\n    });\n\n    // return statement.\n    return (\n        <div>\n            <div id=\"boxplot\" />\n        </div>\n    );\n};\n\n\nBoxPlot.propTypes = {\n    response: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    patients: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\n\nexport default BoxPlot;\n","/* eslint-disable jsx-a11y/control-has-associated-label */\n/* eslint-disable no-shadow */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-plusplus */\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport PatientContext, { PatientConsumer } from '../Context/PatientContext';\n// import DensityPlot from '../DensityPlot/DensityPlot';\nimport BoxPlot from '../BoxPlot/BoxPlot';\n\nclass HeatMap extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            modifiedPatients: [],\n            responseValue: 'mRECIST',\n        };\n        this.HeatMap = this.HeatMap.bind(this);\n        this.makeHeatmap = this.makeHeatmap.bind(this);\n        this.rankHeatMap = this.rankHeatMap.bind(this);\n        this.rankHeatMapBasedOnOncoprintChanges = this.rankHeatMapBasedOnOncoprintChanges.bind(this);\n    }\n\n    componentDidMount() {\n        this.HeatMap();\n    }\n\n    HeatMap() {\n        const { node } = this;\n        const { data } = this.props;\n        const { drugId } = this.props;\n        const { patientId } = this.props;\n        const { dimensions } = this.props;\n        const { margin } = this.props;\n        const { className } = this.props;\n        const { dataset } = this.props;\n        const { responseValue: responseType } = this.state;\n        this.makeHeatmap(data, patientId, drugId, dataset, className, dimensions, margin, node, responseType);\n    }\n\n    // main heatmap function taking parameters as data, all the patient ids and drugs.\n    makeHeatmap(data, patient, drug, dataset, plotId, dimensions, margin, node, responseType) {\n        // variable to get the function stored.\n        const heatmap = this.makeHeatmap;\n        const reference = this;\n        this.node = node;\n\n        // height and width for the SVG based on the number of drugs and patient/sample ids.\n        // height and width of the rectangles in the main skeleton.\n        const rectHeight = dimensions.height;\n        const rectWidth = dimensions.width;\n\n        // this height and width is used for setting the body.\n        const height = drug.length * rectHeight + 100;\n        const width = patient.length * rectWidth + 100;\n\n        const targetEval = [\n            { CR: '#0033CC' },\n            { PR: '#1a9850' },\n            { SD: '#fed976' },\n            { PD: '#e41a1c' },\n        ];\n\n        const targetColor = {\n            CR: '#0033CC',\n            PR: '#1a9850',\n            SD: '#fed976',\n            PD: '#e41a1c',\n            empty: 'lightgray',\n            NA: 'lightgray',\n        };\n\n        // making tooltips\n        const tooltip = d3.select('.heatmap-wrapper')\n            .append('div')\n            .attr('id', 'heatmap-tooltip')\n            .style('position', 'absolute')\n            .style('visibility', 'hidden')\n            .style('border', 'solid')\n            .style('border-width', '1px')\n            .style('border-radius', '5px')\n            .style('padding', '5px')\n            // .style('min-width', '150px')\n            // .style('min-height', '50px')\n            .attr('top', 10)\n            .attr('left', 20);\n\n\n        // setting the query strings\n        let drugUse = '';\n        let drugIndex = 0;\n        const patientUse = patient;\n\n        // drug evaluations\n        let maxDrug = 0;\n        let drugEvaluations = {};\n        if (responseType === 'mRECIST') {\n            for (let i = 0; i < drug.length; i++) {\n                drugEvaluations[drug[i]] = {\n                    CR: 0, PR: 0, SD: 0, PD: 0, NA: 0, empty: 0,\n                };\n            }\n        }\n\n        // patient evaluations\n        let patientEvaluations = {};\n        if (responseType === 'mRECIST') {\n            for (let j = 0; j < patient.length; j++) {\n                patientEvaluations[patient[j]] = {\n                    CR: 0, PR: 0, SD: 0, PD: 0, NA: 0, empty: 0, total: 0,\n                };\n            }\n        }\n\n        /* this code will add to the drugEvaluations  and\n        patientEvaluations  object the values for PD,SD,PR,CR\n        and also sets the value of the letiable maxDrug. */\n        function calculateEvaluations(d, i) {\n            const drugAlt = drug[i];\n            const keys = Object.entries(d);\n            let currentMaxDrug = 0;\n            keys.forEach((key) => {\n                if (key[1] === '') { key[1] = 'empty'; }\n                drugEvaluations[drugAlt][key[1][responseType]]++;\n                patientEvaluations[key[0]][key[1][responseType]]++;\n                if (key[1] !== 'NA' || key[1] !== 'empty') {\n                    currentMaxDrug++;\n                    patientEvaluations[key[0]].total++;\n                }\n            });\n            if (currentMaxDrug > maxDrug) { maxDrug = currentMaxDrug; }\n        }\n\n        /* This code is used to produce the query strings */\n        // eslint-disable-next-line consistent-return\n        function querystringValue(d, i) {\n            if (i === 0) {\n                drugUse = drug[drugIndex];\n                drugIndex++;\n            }\n            if ((d.length === 2 && d !== 'NA') || Number(d)) {\n                return `/curve?patient=${patientUse[i]}&drug=${drugUse}`;\n            }\n        }\n\n        // create a selection dropdown.\n        function createSelection() {\n            const options = ['mRECIST', 'Slope', 'Best Average Response', 'AUC'];\n\n            d3.select('.select')\n                .selectAll('option')\n                .data(options)\n                .enter()\n                .append('option')\n                .text((d) => d)\n                .attr('value', (d) => d);\n\n            d3.select('.select').on('change', () => {\n                // recover the option that has been chosen\n                const selectedOption = d3.select('select').property('value');\n                let response = '';\n                switch (selectedOption) {\n                case 'Slope':\n                    response = 'slope';\n                    break;\n                case 'Best Average Response':\n                    response = 'best.average.response';\n                    break;\n                default:\n                    response = selectedOption;\n                }\n                reference.setState({\n                    responseValue: response,\n                }, () => {\n                    d3.select(`#heatmap-${plotId}`).remove();\n                    d3.select('#heatmap-tooltip').remove();\n                    heatmap(data, patient, drug, dataset, plotId, dimensions, margin, node, response);\n                });\n            });\n        }\n\n        // calculates the min and max value of the response type.\n        function calculateMinMax() {\n            let min = 0;\n            let max = 0;\n            data.forEach((row) => {\n                const keys = Object.keys(row);\n                keys.forEach((val) => {\n                    if (Number(row[val][responseType]) > max) {\n                        max = Number(row[val][responseType]);\n                    }\n                    if (Number(row[val][responseType]) < min) {\n                        min = Number(row[val][responseType]);\n                    }\n                });\n            });\n            return [min, max];\n        }\n\n        // creating legend for the response type except for mRECIST.\n        function createLegend(svg, height, width, min, max) {\n            const defs = svg.append('defs');\n\n            const linearGradient = defs.append('linearGradient')\n                .attr('id', 'linear-gradient');\n\n            // Vertical gradient\n            linearGradient\n                .attr('x1', '0%')\n                .attr('y1', '0%')\n                .attr('x2', '0%')\n                .attr('y2', '100%');\n\n            // Set the color for the start (0%)\n            linearGradient.append('stop')\n                .attr('offset', '0%')\n                .attr('stop-color', '#d8b365');\n\n            // Set the color for the start (50%)\n            linearGradient.append('stop')\n                .attr('offset', min < 0 ? '50%' : '100%')\n                .attr('stop-color', '#f7f7f7');\n\n            // Set the color for the end (100%)\n            if (min < 0) {\n                linearGradient.append('stop')\n                    .attr('offset', '100%')\n                    .attr('stop-color', '#5ab4ac');\n            }\n\n            // Draw the rectangle and fill with gradient\n            svg.append('rect')\n                .attr('x', width)\n                .attr('y', height / 4)\n                .attr('width', 28)\n                .attr('height', 129)\n                .style('fill', 'url(#linear-gradient)');\n\n            // legend value.\n            const targetRect = svg.append('g')\n                .attr('id', 'small_rect');\n\n            const legendValue = [max, min];\n            targetRect.selectAll('text')\n                .data(legendValue)\n                .enter()\n                .append('text')\n                .attr('x', width + 30)\n                .attr('y', (d, i) => [height / 4 + 15, height / 4 + 125][i])\n                .text((d) => d)\n                .attr('font-size', '15px')\n                .style('text-anchor', 'start');\n        }\n\n        /** SCALE FOR MAIN SKELETON * */\n\n        // defining the scale that we will use for our x-axis and y-axis for the skeleton.\n        const yScale = d3.scaleBand()\n            .domain(drug)\n            .rangeRound([rectHeight, drug.length * rectHeight + rectHeight]);\n\n        const xScale = d3.scaleBand()\n            .domain(patient)\n            .rangeRound([0, patient.length * rectWidth]);\n\n        // defining the x-axis for the main skeleton and\n        // setting tick size to zero will remove the ticks.\n        const yAxis = d3.axisLeft()\n            .scale(yScale)\n            .tickSize(0)\n            .tickPadding(25);\n\n\n        const xAxis = d3.axisTop()\n            .scale(xScale)\n            .tickSize(5);\n\n        /** SETTING SVG ATTRIBUTES * */\n\n        // make the SVG element.\n        const svg = d3.select(node)\n            .append('svg')\n            .attr('id', `heatmap-${plotId}`)\n            .attr('xmlns', 'http://wwww.w3.org/2000/svg')\n            .attr('xmlns:xlink', 'http://wwww.w3.org/1999/xlink')\n            .attr('height', height + margin.bottom + margin.top)\n            .attr('width', width + margin.left + margin.right)\n            .append('g')\n            .attr('transform', `translate(${margin.left},${margin.top})`);\n\n\n        /** Appending Circle to the  Y-Axis */\n        drug.forEach((val, i) => {\n            svg\n                .append('circle')\n                .attr('cx', -12)\n                .attr('cy', i)\n                .attr('r', 6)\n                .attr('id', `circle-${val.replace(/\\s/g, '').replace(/\\+/g, '')}`)\n                .style('fill', '#5b8c85')\n                .attr('transform', `translate(0,${yScale(val) + 15 - i})`)\n                .style('visibility', 'hidden');\n        });\n\n\n        /** HEATMAP SKELETON * */\n\n        // structure of the heatmap\n        const skeleton = svg.append('g')\n            .attr('id', 'skeleton');\n\n\n        // this will create g element for each of data row (equivalent to total number of row)\n        const drugResponse = skeleton.append('g')\n            .attr('id', 'targ_rect');\n\n\n        const gskeleton = drugResponse.selectAll('g')\n            .data(data)\n            .enter()\n            .append('g')\n            .attr('transform', (d, i) => `translate(0,${i * rectHeight})`);\n\n\n        // this will append rect equivalent to number of patient ids.\n        const drawrectangle = gskeleton.selectAll('rect.hmap-rect')\n            .data((d, i) => {\n                // calling the function and passing the data d as parameter.\n                if (responseType === 'mRECIST') {\n                    calculateEvaluations(d, i);\n                }\n                // this returns the object values to next chaining method.\n                const rectValue = patient.map((value) => {\n                    let val = '';\n                    if (d[value].length === 0) {\n                        val = 'empty';\n                    } else if (typeof (d[value]) === 'object' && d[value] !== null) {\n                        val = d[value][responseType];\n                    }\n                    return val;\n                });\n                return rectValue;\n            })\n            .enter()\n            .append('a')\n            .attr('xlink:href', (d, i) => querystringValue(d, i))\n            .append('rect')\n            .attr('class', (d, i) => `hmap-rect heatmap-${patient[i]}`)\n            .attr('width', rectWidth - 2)\n            .attr('height', rectHeight - 2)\n            .attr('x', (d, i) => i * rectWidth)\n            .attr('y', rectHeight);\n\n\n        // grabbing the min and max value for the response type.\n        const [min, max] = calculateMinMax();\n        // scale for coloring.\n        const linearColorScale = d3.scaleLinear()\n            .domain([min, 0, max])\n            .range(['#5ab4ac', '#f7f7f7', '#d8b365']);\n        // this will fill the rectangles with different color based on the data.\n        drawrectangle.attr('fill', (d) => {\n            if (responseType === 'mRECIST') {\n                return targetColor[d];\n            } if (responseType !== 'mRECIST' && (d === 'empty' || d === 'NA')) {\n                return 'lightgray';\n            }\n            return linearColorScale(d);\n        });\n\n        // reset\n        drugEvaluations = {};\n        for (let i = 0; i < drug.length; i++) {\n            drugEvaluations[drug[i]] = {\n                CR: 0, PR: 0, SD: 0, PD: 0, NA: 0, empty: 0,\n            };\n        }\n\n        // patient evaluations\n        patientEvaluations = {};\n        for (let j = 0; j < patient.length; j++) {\n            patientEvaluations[patient[j]] = {\n                CR: 0, PR: 0, SD: 0, PD: 0, NA: 0, empty: 0, total: 0,\n            };\n        }\n\n        // creating tooltip.\n        const createToolTip = (x, y, patient, response) => {\n            // tooltip on mousever setting the div to visible.\n            tooltip\n                .style('visibility', 'visible');\n\n            // tooltip grabbing event.pageX and event.pageY\n            // and set color according to the ordinal scale.\n            const tooltipDiv = tooltip\n                .style('left', `${x + 10}px`)\n                .style('top', `${y + 10}px`)\n                .style('color', '#000000')\n                .style('background-color', '#ffffff');\n\n            // tooltip data.\n            const tooltipData = [\n                `Patient: ${patient}`, `Response Evaluation: ${response}`,\n            ];\n\n            tooltipDiv.selectAll('textDiv')\n                .data(tooltipData)\n                .enter()\n                .append('div')\n                .attr('id', 'tooltiptextonco')\n                .html((d) => {\n                    const data = d.split(':');\n                    return `<b>${data[0]}</b>: ${data[1]}`;\n                })\n                .attr('x', `${x + 10}px`)\n                .attr('y', (d, i) => (`${y + 10 + i * 10}px`));\n        };\n\n        // hiding tooltip.\n        const hideToolTip = () => {\n            // tooltip on mousever setting the div to hidden.\n            tooltip\n                .style('visibility', 'hidden');\n            // remove all the divs with id tooltiptext.\n            d3.selectAll('#tooltiptextonco').remove();\n        };\n\n        let pCount = 0;\n        drugIndex = 0;\n\n        // let highlight =\n        gskeleton.selectAll('rect.hmap-hlight')\n            .data((d, i) => {\n                // calling the function and passing the data d as parameter.\n                if (responseType === 'mRECIST') {\n                    calculateEvaluations(d, i);\n                }\n                // this returns the object values to next chaining method.\n                const rectValue = patient.map((value) => {\n                    let val = '';\n                    if (d[value].length === 0) {\n                        val = 'empty';\n                    } else if (typeof (d[value]) === 'object' && d[value] !== null) {\n                        val = d[value][responseType];\n                    }\n                    return val;\n                });\n                return rectValue;\n            })\n            .enter()\n            .append('a')\n            .attr('xlink:href', (d, i) => querystringValue(d, i))\n            .append('rect')\n            .attr('class', (d, i) => {\n                const drugClass = drug[pCount].replace(/\\s/g, '').replace(/[.]/g, '')\n                    .replace(/[+]/g, '-');\n                if (i === (patient.length - 1)) {\n                    pCount++;\n                }\n                return `hmap-hlight-${patient[i]} hmap-hlight-${drugClass}`;\n            })\n            .attr('width', rectWidth - 2)\n            .attr('height', rectHeight - 2)\n            .attr('x', (d, i) => i * rectWidth)\n            .attr('fill', 'rgb(0,0,0)')\n            .attr('y', rectHeight)\n            .style('opacity', 0)\n            // eslint-disable-next-line func-names\n            .on('mouseover', function (d, i) {\n                // creating tooltip by calling createtooltip function.\n                const patientToolTip = patient[i];\n                createToolTip(d3.event.pageX, d3.event.pageY, patientToolTip, d);\n                // highlight\n                const drugClass = d3.select(this).attr('class').split(' ')[1];\n                d3.selectAll(`.hmap-hlight-${patient[i]}`)\n                    .style('opacity', 0.2);\n                d3.selectAll(`.oprint-hlight-${patient[i]}`)\n                    .style('opacity', 0.2);\n                d3.selectAll(`.hlight-space-${patient[i]}`)\n                    .style('opacity', 0.2);\n\n                return drugClass;\n            })\n            // eslint-disable-next-line func-names\n            .on('mouseout', function (d, i) {\n                // hide tooltip\n                hideToolTip();\n                // highlight\n                const drugClass = d3.select(this).attr('class').split(' ')[1];\n                d3.selectAll(`.hmap-hlight-${patient[i]}`)\n                    .style('opacity', 0);\n                d3.selectAll(`.oprint-hlight-${patient[i]}`)\n                    .style('opacity', 0);\n                d3.selectAll(`.hlight-space-${patient[i]}`)\n                    .style('opacity', 0);\n\n                return drugClass;\n            });\n\n        // Creating lines.\n        const lines = skeleton.append('g')\n            .attr('id', 'lines')\n            .attr('transform', () => `translate(2,${height - 62})`);\n\n        const temp = patient.slice(0);\n        temp.push('');\n\n        lines.selectAll('line.dashed-line')\n            .data(temp)\n            .enter()\n            .append('line')\n            .attr('class', 'dashed-line')\n            .attr('x1', (d, i) => i * (rectWidth) - 3)\n            .attr('x2', (d, i) => i * (rectWidth) - 3)\n            .attr('y1', 2)\n            .attr('y2', 200)\n            .attr('stroke', 'black')\n            .attr('stroke-width', 1)\n            .style('stroke-dasharray', '3 2')\n            .style('opacity', 0.2);\n\n        lines.selectAll('rect.hlight-space')\n            .data(patient)\n            .enter()\n            .append('rect')\n            .attr('class', (d) => `hlight-space-${d}`)\n            .attr('width', rectWidth - 2)\n            .attr('height', 200)\n            .attr('x', (d, i) => i * rectWidth - 2)\n            .attr('fill', 'rgb(0,0,0)')\n            .attr('y', 0)\n            .style('opacity', 0);\n\n        /** X-AXIS AND Y-AXIS FOR THE SKELETON * */\n\n        // calling the y-axis and removing the stroke.\n        const drugName = skeleton.append('g')\n            .attr('id', 'drugName');\n\n        drugName.attr('stroke-width', '0')\n            .style('font-family', '\\'Raleway\\',sans-serif')\n            .style('font-size', '12px')\n            .attr('font-weight', '500')\n            .call(yAxis)\n            .selectAll('text')\n            .attr('fill', (d) => {\n                if (d === 'untreated' || d === 'WATER' || d === 'Control') { return '#3453b0'; }\n                return 'black';\n            })\n            .attr('font-weight', (d) => {\n                if (d === 'untreated' || d === 'WATER' || d === 'Control') { return '700'; }\n                return '500';\n            })\n            .attr('id', (d) => `tick-${d.replace(/\\s/g, '').replace(/\\+/g, '')}`)\n            // eslint-disable-next-line func-names\n            .on('mouseover', function () {\n                // tooltip on mousever setting the div to visible.\n                d3.select('.heatmap-wrapper')\n                    .append('div')\n                    .style('position', 'absolute')\n                    .style('border', 'solid')\n                    .style('visibility', 'visible')\n                    .style('border-width', '1px')\n                    .style('border-radius', '5px')\n                    .style('padding', '5px')\n                    .style('left', `${d3.event.pageX - 100}px`)\n                    .style('top', `${d3.event.pageY + 15}px`)\n                    .attr('id', 'tooltiptextdrug')\n                    .style('color', '#000000')\n                    .style('background-color', '#ffffff')\n                    .text('Click to Sort');\n\n                const drugClass = d3.select(this).text().replace(/\\s/g, '').replace(/[.]/g, '')\n                    .replace(/[+]/g, '-');\n                d3.selectAll(`.hmap-hlight-${drugClass}`)\n                    .style('opacity', 0.2);\n            })\n            // eslint-disable-next-line func-names\n            .on('mouseout', function () {\n                // tooltip on mousever setting the div to hidden.\n                tooltip\n                    .style('visibility', 'hidden');\n                // remove all the divs with id tooltiptext.\n                d3.select('#tooltiptextdrug').remove();\n                // highlight.\n                const drugClass = d3.select(this).text().replace(/\\s/g, '').replace(/[.]/g, '')\n                    .replace(/[+]/g, '-');\n                d3.selectAll(`.hmap-hlight-${drugClass}`)\n                    .style('opacity', 0);\n            })\n            .on('click', (d, i) => {\n                // tooltip on mousever setting the div to hidden.\n                tooltip\n                    .style('visibility', 'hidden');\n                // remove all the divs with id tooltiptext.\n                d3.select('#tooltiptextdrug').remove();\n                // highlight.\n                this.rankHeatMap(d, i, data, responseType);\n            });\n\n        // calling the x-axis to set the axis and we have also transformed the text.\n        const patientId = skeleton.append('g')\n            .attr('id', 'patient_id');\n\n        patientId.attr('stroke-width', '0')\n            .style('font-size', '12px')\n            .style('font-family', '\\'Raleway\\',sans-serif')\n            .style('text-anchor', (dataset === '7' ? 'start' : 'middle'))\n            .call(xAxis)\n            .selectAll('text')\n            .attr('transform', 'rotate(-90)')\n            .attr('font-weight', '500')\n            .attr('x', (dataset === '7' ? '-2.4em' : '0.6em'))\n            .attr('y', '.15em');\n\n\n        /** SMALL RECTANGLES ON RIGHT SIDE OF HEATMAP * */\n\n        // This will create four rectangles on right side for the Evaluation of target lesions.\n        if (responseType === 'mRECIST') {\n            const targetRect = skeleton.append('g')\n                .attr('id', 'small_rect');\n\n            targetRect.selectAll('rect')\n                .data(targetEval)\n                .enter()\n                .append('rect')\n                .attr('x', (patient.length * rectWidth + 120))\n                .attr('y', (d, i) => (drug.length * 10) + i * 25)\n                .attr('height', '15')\n                .attr('width', '15')\n                .attr('fill', (d) => Object.values(d));\n\n            targetRect.selectAll('text')\n                .data(targetEval)\n                .enter()\n                .append('text')\n                .attr('x', (patient.length * rectWidth + 140))\n                .attr('y', (d, i) => (drug.length * 10 + 12) + i * 25)\n                .text((d) => Object.keys(d))\n                .attr('font-size', '14px');\n\n\n            /** VERTICAL GRAPH ON RIGHT SIDE OF HEATMAP * */\n\n            const strokeWidth = 0.75;\n\n            // This will make a right side vertical graph.\n            const drugEval = skeleton.append('g')\n                .attr('id', 'drug_eval');\n\n            const drugScale = d3.scaleLinear()\n                .domain([0, maxDrug])\n                .range([0, 70]);\n\n            // This will set an x-axis for the vertical graph.\n            const xAxisVertical = d3.axisTop()\n                .scale(drugScale)\n                .ticks(4)\n                .tickSize(3)\n                .tickFormat(d3.format('.0f'));\n\n            skeleton.append('g')\n                .attr('transform', `translate(${patient.length * rectWidth + 20},${35})`)\n                .call(xAxisVertical)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n\n\n            const drugHeightScale = d3.scaleLinear()\n                .domain([0, (44 + (drug.length - 1) * 40)])\n                .range([0, (rectHeight * drug.length) + 10]);\n\n            drugEval.append('rect')\n                .attr('class', 'drug_eval_rect')\n                .attr('x', patient.length * rectWidth + 20)\n                .attr('y', 35)\n                .attr('height', rectHeight * drug.length)\n                .attr('width', drugScale(maxDrug))\n                .attr('fill', 'white')\n                .style('stroke', 'black')\n                .style('stroke-width', 1);\n\n\n            // rectangle for vertical graph.\n            const drugEvaluationRectangle = (iterator) => {\n                const responseEvalTypes = ['CR', 'PR', 'SD', 'PD'];\n                let xRange = patient.length * rectWidth + 20;\n                let width = 0;\n                responseEvalTypes.forEach((type) => {\n                    // x range for the rectangles.\n                    xRange += width;\n                    width = drugScale(drugEvaluations[drug[iterator]][type]);\n                    drugEval.append('rect')\n                        .attr('class', `drug_eval_${type}`)\n                        .attr('height', 26)\n                        .attr('width', width)\n                        .attr('x', xRange)\n                        .attr('y', drugHeightScale(42 + iterator * 40))\n                        .attr('fill', targetColor[type])\n                        .style('stroke', 'black')\n                        .style('stroke-width', strokeWidth);\n                });\n            };\n\n            for (let i = 0; i < drug.length; i++) {\n                drugEvaluationRectangle(i);\n            }\n\n\n            /** HORIZONTAL GRAPH AT THE TOP OF HEATMAP * */\n\n            let maxPatientidTotal = 0;\n            const boxHeight = 80;\n\n            // This will set the maximum number of total letiants.\n            const keys = Object.entries(patientEvaluations);\n            keys.forEach((key) => {\n                const curentMax = key[1].total;\n                if (curentMax > maxPatientidTotal) {\n                    maxPatientidTotal = curentMax;\n                }\n            });\n\n            // This will only run if the length of the drug\n            // array is greater than 1 (it has more than one drug)\n            if (drug.length > 1) {\n                // appending 'g' element to the SVG.\n                const patientEval = skeleton.append('g')\n                    .attr('id', 'patient_eval');\n\n                // setting the outer rectangle.\n                patientEval.append('rect')\n                    .attr('class', 'patient_eval_rect')\n                    .attr('x', 0)\n                    .attr('y', -130)\n                    .attr('height', boxHeight)\n                    .attr('width', patient.length * 20)\n                    .attr('fill', 'white')\n                    .style('stroke', 'black')\n                    .style('stroke-width', 1);\n\n                // setting scale to map max patient_id value to range (height of the box.)\n                const patientScale = d3.scaleLinear()\n                    .domain([0, maxPatientidTotal])\n                    .range([0, boxHeight]);\n\n                // This code will set y-axis of the graph at top\n                if (maxPatientidTotal !== 0) {\n                    const patientScales = d3.scaleLinear()\n                        .domain([0, maxPatientidTotal])\n                        .range([boxHeight, 0]);\n\n                    const yAxis = d3.axisLeft()\n                        .scale(patientScales)\n                        .ticks(2)\n                        .tickSize(0)\n                        .tickFormat(d3.format('.0f'));\n\n                    skeleton.append('g')\n                        .attr('transform', 'translate(0,-130.5)')\n                        .call(yAxis);\n                }\n\n                // function to calculate patient evaluations.\n                const patientEvaluationRectangle = (iterator) => {\n                    const responseEvalTypes = ['CR', 'PR', 'SD', 'PD'];\n                    let height = 0;\n                    let yRange = -130 + boxHeight;\n\n                    responseEvalTypes.forEach((type) => {\n                        height = patientScale(patientEvaluations[patient[iterator]][type]);\n                        yRange -= height;\n                        patientEval.append('rect')\n                            .attr('class', 'patient_eval_cr')\n                            .attr('height', height)\n                            .attr('width', 16)\n                            .attr('x', iterator * 20)\n                            .attr('y', yRange)\n                            .attr('fill', targetColor[type])\n                            .style('stroke', 'black')\n                            .style('stroke-width', strokeWidth);\n                    });\n                };\n\n                for (let i = 0; i < patient.length; i++) {\n                    patientEvaluationRectangle(i);\n                }\n            }\n        }\n\n        // calling selection function to create a dropdown selection.\n        createSelection();\n\n        // create legend if response type is not mRECIST.\n        if (responseType !== 'mRECIST') {\n            createLegend(svg, height, width, min, max);\n        }\n    }\n\n    rankHeatMap(drug, i, dataset, responseType) {\n        // grabbing the clicked data value.\n        const data = dataset[i];\n        const { node } = this;\n        const { dimensions } = this.props;\n        const { drugId } = this.props;\n        const { margin } = this.props;\n        const { className } = this.props;\n        const { dataset: datasetId } = this.props;\n\n        // responses.\n        const responses = ['CR', 'PR', 'SD', 'PD', '', 'NA'];\n        const newSortedPatients = [];\n\n        // this produces the newSortedData.\n        if (responseType === 'mRECIST') {\n            responses.forEach((val) => {\n                Object.keys(data).forEach((res) => {\n                    if (data[res][responseType] === val || data[res] === val) {\n                        newSortedPatients.push(res);\n                    }\n                });\n            });\n        } else {\n            // grab the sortable data.\n            const sortable = [];\n            Object.keys(data).forEach((res) => {\n                sortable.push([res, data[res][responseType]]);\n            });\n\n            sortable.sort((a, b) => a[1] - b[1]);\n            // push the data to new sorted patients array.\n            sortable.forEach((val) => {\n                if (val[1] === undefined) {\n                    newSortedPatients.push(val[0]);\n                } else {\n                    newSortedPatients.unshift(val[0]);\n                }\n            });\n        }\n\n        // setting the variables with new data.\n        const newDataset = [];\n\n        // sort the dataset or complete data according to the new sorted patient ids.\n        dataset.forEach((val, i) => {\n            newDataset.push({});\n            newSortedPatients.forEach((patient) => {\n                newDataset[i][patient] = val[patient];\n            });\n        });\n\n        this.setState({\n            modifiedPatients: newSortedPatients,\n        }, () => {\n            const { setPatients } = this.context;\n            const { modifiedPatients } = this.state;\n            // calling the context setPatients method.\n            setPatients(modifiedPatients);\n        });\n\n        // removing the heatmap wrapper and tooltip from the DOM when clicked on drug.\n        d3.select(`#heatmap-${className}`).remove();\n        d3.select('#heatmap-tooltip').remove();\n\n        // finally calling the makeHeatMap function in order passing\n        // new dataset in order to make new heatmap based on ranking.\n        this.makeHeatmap(newDataset, newSortedPatients, drugId, datasetId, className, dimensions, margin, node, responseType);\n\n        // making the circle visible on click of the drug.\n        d3.select(`#circle-${drug.replace(/\\s/g, '').replace(/\\+/g, '')}`)\n            .style('visibility', 'visible');\n    }\n\n    rankHeatMapBasedOnOncoprintChanges(value) {\n        const { node } = this;\n        const { data } = this.props;\n        const { drugId } = this.props;\n        const { globalPatients } = value;\n        const { dimensions } = this.props;\n        const { margin } = this.props;\n        const { className } = this.props;\n        const { dataset } = this.props;\n        const { responseValue: responseType } = this.state;\n        const newDataset = [];\n\n        // sort the complete data according to the globalPatients.\n        data.forEach((val, i) => {\n            newDataset.push({});\n            globalPatients.forEach((patient) => {\n                newDataset[i][patient] = val[patient];\n            });\n        });\n\n        // removing the heatmap wrapper and tooltip from the DOM when clicked on drug.\n        if (globalPatients.length > 0) {\n            d3.select(`#heatmap-${className}`).remove();\n            d3.select('#heatmap-tooltip').remove();\n            this.makeHeatmap(newDataset, globalPatients, drugId, dataset, className, dimensions, margin, node, responseType);\n        }\n    }\n\n    // static contextType = PatientContext;\n\n    render() {\n        const { responseValue } = this.state;\n        const { data } = this.props;\n        const { modifiedPatients } = this.state;\n        return (\n            <div>\n                <div style={{ position: 'relative' }}>\n                    <select\n                        className=\"select\"\n                        id=\"selectButton\"\n                        style={{\n                            display: 'block',\n                            align: 'right',\n                            height: '30px',\n                            marginTop: '290px',\n                            position: 'absolute',\n                            right: '80px',\n                        }}\n                    />\n                </div>\n                <div ref={(node) => { this.node = node; }} className=\"heatmap-wrapper\">\n                    {\n                        responseValue !== 'mRECIST' ? <BoxPlot response={responseValue} data={data} patients={modifiedPatients} /> : <div />\n                    }\n                </div>\n                <PatientConsumer>{(value) => { this.rankHeatMapBasedOnOncoprintChanges(value); }}</PatientConsumer>\n            </div>\n        );\n    }\n}\n\nHeatMap.contextType = PatientContext;\n\nHeatMap.propTypes = {\n    dimensions: PropTypes.shape({\n        height: PropTypes.number,\n        width: PropTypes.number,\n    }).isRequired,\n    margin: PropTypes.shape({\n        top: PropTypes.number,\n        right: PropTypes.number,\n        bottom: PropTypes.number,\n        left: PropTypes.number,\n    }).isRequired,\n    drugId: PropTypes.arrayOf(PropTypes.string).isRequired,\n    patientId: PropTypes.arrayOf(PropTypes.string).isRequired,\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    className: PropTypes.string.isRequired,\n};\n\n\nexport default HeatMap;\n","/* eslint-disable no-shadow */\nimport React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport HeatMap from './HeatMap';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\n\nclass HeatMapData extends React.Component {\n    constructor(props) {\n        super(props);\n        // setting the states for the data.\n        this.state = {\n            data: [],\n            patientId: [],\n            drugId: [],\n            datasetParam: 0,\n            dimensions: {},\n            margin: {},\n        };\n        // binding the functions declared.\n        this.parseData = this.parseData.bind(this);\n    }\n\n\n    static getDerivedStateFromProps(props) {\n        const { dataset } = props;\n        return {\n            datasetParam: dataset,\n        };\n    }\n\n    componentDidMount() {\n        const { datasetParam } = this.state;\n        if (datasetParam > 0) {\n            axios.get(`/api/v1/response/${datasetParam}`, { headers: { Authorization: localStorage.getItem('user') } })\n                .then((response) => {\n                    this.parseData(response.data);\n                });\n        }\n    }\n\n    // this function takes the parsed result and set the states.\n    parseData(result) {\n        const dataset = [];\n        let patient = [];\n        const drug = [];\n\n        // patient array.\n        patient = result.pop();\n\n        // this function will loop through the elements and\n        // assign empty values in case model information is not available.\n        result.forEach((element) => {\n            const dataObject = {};\n            drug.push(element.Drug);\n            patient.forEach((patient) => {\n                if (!element[patient]) {\n                    dataObject[patient] = '';\n                } else {\n                    dataObject[patient] = element[patient];\n                }\n            });\n            dataset.push(dataObject);\n        });\n\n        // patient from one of the object elements to keep it in sync.\n        patient = Object.keys(dataset[0]);\n\n        this.setState({\n            drugId: drug,\n            patientId: patient,\n            data: dataset,\n            dimensions: { height: 35, width: 20 },\n            margin: {\n                top: 200, right: 200, bottom: 0, left: 250,\n            },\n        });\n    }\n\n    render() {\n        const {\n            data, drugId,\n            patientId, dimensions,\n            margin, datasetParam,\n        } = this.state;\n        return (\n            <div>\n                <TopNav />\n                <GlobalStyles />\n                {\n                    data.length > 0 ? (\n                        <div className=\"wrapper\" style={{ margin: 'auto' }}>\n                            <HeatMap\n                                data={data}\n                                drugId={drugId}\n                                className=\"heatmap\"\n                                patientId={patientId}\n                                dimensions={dimensions}\n                                margin={margin}\n                                dataset={datasetParam}\n                            />\n                        </div>\n                    ) : ''\n                }\n            </div>\n        );\n    }\n}\n\nHeatMapData.propTypes = {\n    dataset: PropTypes.string.isRequired,\n};\n\nexport default HeatMapData;\n","/*\n * Copyright (c) 2015 Memorial Sloan-Kettering Cancer Center.\n *\n * This library is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY, WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS\n * FOR A PARTICULAR PURPOSE. The software and documentation provided hereunder\n * is on an \"as is\" basis, and Memorial Sloan-Kettering Cancer Center has no\n * obligations to provide maintenance, support, updates, enhancements or\n * modifications. In no event shall Memorial Sloan-Kettering Cancer Center be\n * liable to any party for direct, indirect, special, incidental or\n * consequential damages, including lost profits, arising out of the use of this\n * software and its documentation, even if Memorial Sloan-Kettering Cancer\n * Center has been advised of the possibility of such damage.\n */\n\n/*\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * Singleton utility class for Mutation View related tasks.\n *\n * @author Selcuk Onur Sumer\n * @modified by Gangesh Beri\n */\n\n/**\n* Mapping between the mutation type (data) values and\n* view values.\n*/\n\nconst mutationStyleMap = {\n    missense: {\n        label: 'Missense',\n        longName: 'Missense',\n        style: 'missense_mutation',\n        mainType: 'missense',\n        priority: 3,\n        color: '#1a9850',\n    },\n    inframe: {\n        label: 'IF',\n        longName: 'In-frame',\n        style: 'inframe_mutation',\n        mainType: 'inframe',\n        priority: 4,\n        color: '#8B4513',\n    },\n    truncating: {\n        label: 'Truncating',\n        longName: 'Truncating',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 6,\n        color: '#000000',\n    },\n    nonsense: {\n        label: 'Nonsense',\n        longName: 'Nonsense',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 8,\n        color: '#000000',\n    },\n    nonstop: {\n        label: 'Nonstop',\n        longName: 'Nonstop',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 9,\n        color: '#000000',\n    },\n    nonstart: {\n        label: 'Nonstart',\n        longName: 'Nonstart',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 10,\n        color: '#000000',\n    },\n    frameshift: {\n        label: 'FS',\n        longName: 'Frame Shift',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 6,\n        color: '#000000',\n    },\n    frame_shift_del: {\n        label: 'FS del',\n        longName: 'Frame Shift Deletion',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 6,\n        color: '#000000',\n    },\n    frame_shift_ins: {\n        label: 'FS ins',\n        longName: 'Frame Shift Insertion',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 7,\n        color: '#000000',\n    },\n    in_frame_ins: {\n        label: 'IF ins',\n        longName: 'In-frame Insertion',\n        style: 'inframe_mutation',\n        mainType: 'inframe',\n        priority: 5,\n        color: '#8B4513',\n    },\n    in_frame_del: {\n        label: 'IF del',\n        longName: 'In-frame Deletion',\n        style: 'inframe_mutation',\n        mainType: 'inframe',\n        priority: 4,\n        color: '#8B4513',\n    },\n    splice_site: {\n        label: 'Splice',\n        longName: 'Splice site',\n        style: 'trunc_mutation',\n        mainType: 'truncating',\n        priority: 11,\n        color: '#000000',\n    },\n    fusion: {\n        label: 'Fusion',\n        longName: 'Fusion',\n        style: 'fusion',\n        mainType: 'other',\n        priority: 12,\n        color: '#8B00C9',\n    },\n    silent: {\n        label: 'Silent',\n        longName: 'Silent',\n        style: 'other_mutation',\n        mainType: 'other',\n        priority: 13,\n        color: '#8B00C9',\n    },\n    // this\n    default: {\n        label: 'Other',\n        longName: 'Other',\n        style: 'other_mutation',\n        mainType: 'other',\n        priority: 13,\n        color: '#8B00C9',\n    },\n    // mutations mapped to \"other\" will be labelled\n    // with their original data value\n    other: {\n        style: 'other_mutation',\n        mainType: 'other',\n        priority: 13,\n        color: '#8B00C9',\n    },\n};\n\n\nexport const mutationTypeMap = {\n    missense_mutation: mutationStyleMap.missense,\n    mutation: mutationStyleMap.missense,\n    missense: mutationStyleMap.missense,\n    missense_variant: mutationStyleMap.missense,\n    frame_shift_ins: mutationStyleMap.frame_shift_ins,\n    frame_shift_del: mutationStyleMap.frame_shift_del,\n    frameshift: mutationStyleMap.frameshift,\n    frameshift_deletion: mutationStyleMap.frame_shift_del,\n    frameshift_insertion: mutationStyleMap.frame_shift_ins,\n    de_novo_start_outofframe: mutationStyleMap.frameshift,\n    frameshift_variant: mutationStyleMap.frameshift,\n    nonsense_mutation: mutationStyleMap.nonsense,\n    nonsense: mutationStyleMap.nonsense,\n    stopgain_snv: mutationStyleMap.nonsense,\n    stop_gained: mutationStyleMap.nonsense,\n    splice_site: mutationStyleMap.splice_site,\n    splice: mutationStyleMap.splice_site,\n    'splice site': mutationStyleMap.splice_site,\n    splicing: mutationStyleMap.splice_site,\n    splice_site_snp: mutationStyleMap.splice_site,\n    splice_site_del: mutationStyleMap.splice_site,\n    splice_site_indel: mutationStyleMap.splice_site,\n    splice_region_variant: mutationStyleMap.splice_site,\n    translation_start_site: mutationStyleMap.nonstart,\n    initiator_codon_variant: mutationStyleMap.nonstart,\n    start_codon_snp: mutationStyleMap.nonstart,\n    start_codon_del: mutationStyleMap.nonstart,\n    nonstop_mutation: mutationStyleMap.nonstop,\n    stop_lost: mutationStyleMap.nonstop,\n    in_frame_del: mutationStyleMap.in_frame_del,\n    in_frame_deletion: mutationStyleMap.in_frame_del,\n    in_frame_ins: mutationStyleMap.in_frame_ins,\n    in_frame_insertion: mutationStyleMap.in_frame_ins,\n    indel: mutationStyleMap.in_frame_del,\n    nonframeshift_deletion: mutationStyleMap.inframe,\n    nonframeshift: mutationStyleMap.inframe,\n    'nonframeshift insertion': mutationStyleMap.inframe,\n    nonframeshift_insertion: mutationStyleMap.inframe,\n    targeted_region: mutationStyleMap.inframe,\n    inframe: mutationStyleMap.inframe,\n    truncating: mutationStyleMap.truncating,\n    feature_truncation: mutationStyleMap.truncating,\n    fusion: mutationStyleMap.fusion,\n    silent: mutationStyleMap.silent,\n    synonymous_variant: mutationStyleMap.silent,\n    any: mutationStyleMap.default,\n    other: mutationStyleMap.default,\n};\n\n\n/*\nMapping btw the copy number (data) values and view values.\n*/\nexport const cnaMap = {\n    '-2': {\n        label: 'DeepDel', style: 'cna-homdel', tooltip: 'Deep deletion', color: '#0033CC', xevalabel: 'del', priority: 2,\n    },\n    '-1': {\n        label: 'ShallowDel', style: 'cna-hetloss', tooltip: 'Shallow deletion', color: '#0033CC', xevalabel: 'del', priority: 2,\n    },\n    0: {\n        label: 'Diploid', style: 'cna-diploid', tooltip: 'Diploid / normal', color: 'lightgray', xevalabel: 'empty', priority: 16,\n    },\n    1: {\n        label: 'Gain', style: 'cna-gain', tooltip: 'Low-level gain', color: '#e41a1c', xevalabel: 'amp', priority: 1,\n    },\n    2: {\n        label: 'AMP', style: 'cna-amp', tooltip: 'High-level amplification', color: '#e41a1c', xevalabel: 'amp', priority: 1,\n    },\n    'del0.8': {\n        label: 'DeepDel', style: 'cna-homdel', tooltip: 'Deep deletion', color: '#0033CC', xevalabel: 'del', priority: 2,\n    },\n    deletion: {\n        label: 'DeepDel', style: 'cna-homdel', tooltip: 'Deep deletion', color: '#0033CC', xevalabel: 'del', priority: 2,\n    },\n    'shallow deletion': {\n        label: 'DeepDel', style: 'cna-homdel', tooltip: 'Deep deletion', color: '#0033CC', xevalabel: 'del', priority: 2,\n    },\n    'deep deletion': {\n        label: 'DeepDel', style: 'cna-homdel', tooltip: 'Deep deletion', color: '#0033CC', xevalabel: 'del', priority: 2,\n    },\n    gain: {\n        label: 'Gain', style: 'cna-gain', tooltip: 'Low-level gain', color: '#e41a1c', xevalabel: 'amp', priority: 1,\n    },\n    amp: {\n        label: 'AMP', style: 'cna-amp', tooltip: 'High-level amplification', color: '#e41a1c', xevalabel: 'amp', priority: 1,\n    },\n    amplification: {\n        label: 'AMP', style: 'cna-amp', tooltip: 'High-level amplification', color: '#e41a1c', xevalabel: 'amp', priority: 1,\n    },\n    unknown: {\n        label: 'NA', style: 'cna-unknown', tooltip: 'CNA data is not available for this gene', xevalabel: 'empty', priority: 16,\n    },\n};\n\nexport const rnaMap = {\n    positive: {\n        priority: 14,\n    },\n    negative: {\n        priority: 15,\n    },\n    'not available': {\n        priority: 16,\n    },\n};\n\n\nexport default {\n    mutationTypeMap,\n    cnaMap,\n    rnaMap,\n};\n","/* eslint-disable func-names */\n/* eslint-disable no-plusplus */\n/* eslint-disable max-len */\n/* eslint-disable camelcase */\nimport React from 'react';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { mutationTypeMap, cnaMap, rnaMap } from '../../util/MutationViewsUtil';\nimport PatientContext, { PatientConsumer } from '../Context/PatientContext';\n\nclass Oncoprint extends React.Component {\n    constructor(props) {\n        super(props);\n        this.Oncoprint = this.Oncoprint.bind(this);\n        this.rankOncoprintBasedOnHeatMapChanges = this.rankOncoprintBasedOnHeatMapChanges.bind(this);\n        this.rankOncoprint = this.rankOncoprint.bind(this);\n    }\n\n    componentDidMount() {\n        this.Oncoprint();\n    }\n\n    Oncoprint(modifiedPatients) {\n        let { hmap_patients } = this.props;\n        hmap_patients = modifiedPatients || hmap_patients;\n        const { node } = this;\n        const { className } = this.props;\n        const { dimensions } = this.props;\n        const { margin } = this.props;\n        const { threshold } = this.props;\n        const { data_mut } = this.props;\n        const { data_rna } = this.props;\n        const { data_cnv } = this.props;\n        const { genes_mut } = this.props;\n        const { genes_rna } = this.props;\n        const { genes_cnv } = this.props;\n        const { patient_mut } = this.props;\n        const { patient_rna } = this.props;\n        const { patient_cnv } = this.props;\n\n        this.makeOncoprint(node, className, dimensions, margin, threshold, hmap_patients,\n            data_mut, data_rna, data_cnv, genes_mut, genes_rna, genes_cnv, patient_mut, patient_rna, patient_cnv);\n    }\n\n\n    makeOncoprint(node, plotId, dimensions, margin, threshold, hmap_patients, data_mut, data_rna, data_cnv, genes_mut, genes_rna, genes_cnv, patient_mut, patient_rna, patient_cnv) {\n        // reference.\n        this.node = node;\n        let isAlteration = false;\n\n        // to merge two arrays and give the unique values.\n        // eslint-disable-next-line no-extend-native\n        Array.prototype.unique = function () {\n            const a = this.concat();\n            for (let i = 0; i < a.length; ++i) {\n                for (let j = i + 1; j < a.length; ++j) {\n                    if (a[i] === a[j]) { a.splice(j--, 1); }\n                }\n            }\n            return a;\n        };\n\n        // merging the data from all of three calls to api ie cnv, mutation and rnaseq.\n        const genes = [...genes_mut, ...genes_rna, ...genes_cnv].unique();\n        const patients = [...patient_mut, ...patient_rna, ...patient_cnv].unique();\n\n        // aberration data\n        const aberration = [\n            { value: 'missense', color: '#1a9850' },\n            { value: 'inframe', color: '#8B4513' },\n            { value: 'truncating', color: '#000000' },\n            { value: 'other', color: '#8B00C9' },\n            { value: 'del', color: '#0033CC' },\n            { value: 'amp', color: '#e41a1c' },\n        ];\n\n        // height and width for the SVG based on the number of genes_mut and patient/sample ids.\n        // height and width of the rectangles in the main skeleton.\n        const rect_height = dimensions.height;\n        const rect_width = dimensions.width;\n\n        // this height and width is used for setting the body.\n        const height = genes.length * rect_height + 100;\n        const width = hmap_patients.length * rect_width + 100;\n\n        // adding this for rectangles on right side of oncoprint.\n        // only if the mutation data is present.\n        // TODO:: This should be according to the types of mutation present in the data.\n        let rect_alterations_mut = [];\n        if (data_mut.length > 0) {\n            rect_alterations_mut = [\n                { value: 'Missense Mutation', color: '#1a9850' },\n                { value: 'Inframe Mutation', color: '#8B4513' },\n                { value: 'Truncating Mutation', color: '#000000' },\n                { value: 'Other Mutations', color: '#8B00C9' },\n            ];\n        }\n        // only if rnaseq data is available.\n        let rect_alterations_rna = [];\n        if (data_rna.length > 0) {\n            rect_alterations_rna = [\n                { value: 'mRNA High', color: 'none' },\n                { value: 'mRNA Low', color: 'none' },\n            ];\n        }\n        // only if the cnv data is present.\n        let rect_alterations_cnv = [];\n        if (data_cnv.length > 0) {\n            rect_alterations_cnv = [\n                { value: 'Deletion', color: '#0033CC' },\n                { value: 'Amplification', color: '#e41a1c' },\n            ];\n        }\n\n        const rect_alterations = [\n            ...rect_alterations_mut,\n            ...rect_alterations_rna,\n            ...rect_alterations_cnv,\n            { value: 'Wild Type', color: 'lightgray' },\n            { value: 'Not Available', color: 'none' },\n        ];\n\n\n        // making tooltips\n        const tooltip = d3.select('.oprint-wrapper')\n            .append('div')\n            .style('position', 'absolute')\n            .style('visibility', 'hidden')\n            .style('border', 'solid')\n            .style('border-width', '1px')\n            .style('border-radius', '5px')\n            .style('padding', '5px')\n            // .style('min-width', '150px')\n            // .style('min-height', '80px')\n            .attr('top', 10)\n            .attr('left', 20);\n\n\n        /** SETTING SVG ATTRIBUTES and Oncoprint SKELETON * */\n        // make the svg element\n        const svg = d3.select(node)\n            .append('svg')\n            .attr('id', `oncoprint-${plotId}`) // set an id so that I can remove+replace on refresh\n            .attr('xmlns', 'http://www.w3.org/2000/svg')\n            .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink')\n            .attr('width', width + margin.left + margin.right)\n            .attr('height', height + margin.top + margin.bottom)\n            .append('g')\n            .attr('transform',\n                `translate(${margin.left},${margin.top})`);\n\n        // skeleton of the oncoprint\n        const skeleton = svg.append('g')\n            .attr('id', 'skeleton');\n\n\n        /** Appending Circle to the  Y-Axis */\n        genes.forEach((val, i) => {\n            svg\n                .append('circle')\n                .attr('cx', -12)\n                .attr('cy', i)\n                .attr('r', 6)\n                .attr('id', `circle-${val.replace(/\\s/g, '').replace(/\\+/g, '')}`)\n                .style('fill', '#5b8c85')\n                .attr('transform', `translate(0,${i * (rect_height) + 15 - i})`)\n                .style('visibility', 'hidden');\n        });\n\n\n        /* *  Gene Names on Y-Axis * */\n\n        // geneNames\n        const geneNames = skeleton.append('g')\n            .attr('id', 'gene-names');\n\n        // gene names on the y axis\n        const geneAxis = () => {\n            for (let i = 0; i < genes.length; i++) {\n                geneNames.append('text')\n                    .attr('class', genes[i])\n                    .attr('dx', -25)\n                    .style('text-anchor', 'end')\n                    .style('font-size', '12px')\n                    .attr('dy', i * (rect_height) + 20)\n                    .attr('font-weight', '500')\n                    .text(genes[i])\n                    .on('mouseover', () => {\n                        // tooltip on mousever setting the div to visible.\n                        d3.select('.oprint-wrapper')\n                            .append('div')\n                            .style('position', 'absolute')\n                            .style('border', 'solid')\n                            .style('visibility', 'visible')\n                            .style('border-width', '1px')\n                            .style('border-radius', '5px')\n                            .style('padding', '5px')\n                            .style('left', `${d3.event.pageX - 100}px`)\n                            .style('top', `${d3.event.pageY + 15}px`)\n                            .attr('id', 'tooltiptextgene')\n                            .style('color', '#000000')\n                            .style('background-color', '#ffffff')\n                            .text('Click to Sort');\n\n                        d3.selectAll(`.oprint-hlight-${genes[i]}`)\n                            .style('opacity', 0.2);\n                    })\n                    .on('mouseout', () => {\n                        // tooltip on mousever setting the div to hidden.\n                        tooltip\n                            .style('visibility', 'hidden');\n                        // remove all the divs with id tooltiptext.\n                        d3.select('#tooltiptextgene').remove();\n                        // for highlight.\n                        d3.selectAll(`.oprint-hlight-${genes[i]}`)\n                            .style('opacity', 0);\n                    })\n                    .on('click', () => {\n                        // tooltip on mousever setting the div to hidden.\n                        tooltip\n                            .style('visibility', 'hidden');\n                        // remove all the divs with id tooltiptext.\n                        d3.select('#tooltiptextgene').remove();\n                        // ranking oncoprint.\n                        this.rankOncoprint(genes[i], [data_mut, data_cnv, data_rna]);\n                    });\n            }\n        };\n\n        // create gene-name y-axis.\n        geneAxis();\n\n\n        /** Setting Alterations * */\n\n        // alterations: mutations are #1a9850 and a third, AMP/del are #e41a1c/#0033CC and full respectively\n        const alterations = svg.append('g')\n            .attr('id', 'alterations');\n\n        const highlight = svg.append('g')\n            .attr('id', 'highlight');\n\n\n        // collect info about alterations per gene/patient for plotting later\n        const gene_alterations = {};\n        const patient_alterations = [];\n\n        if (genes_mut.length > 0 || genes_cnv.length > 0) {\n            for (let i = 0; i < genes.length; i++) {\n                gene_alterations[genes[i]] = {\n                    missense: 0, amp: 0, del: 0, inframe: 0, truncating: 0, other: 0,\n                };\n            }\n\n            for (let i = 0; i < hmap_patients.length; i++) {\n                patient_alterations.push({\n                    missense: 0, amp: 0, del: 0, inframe: 0, truncating: 0, other: 0,\n                });\n            }\n        }\n\n\n        /** Coloring the rectangles based on mutation, cnv or rnaseq data * */\n\n        // this will take four parameters and color the rectangle accordingly\n        const colorReactangles = (value, color, i, j, mutationType) => {\n            // setting a = 12 if value is mut\n            const a = value === 'mut' ? 12 : 0;\n            // setting the color based on value param.\n            if (value !== 'empty' && value === 'mut') {\n                gene_alterations[genes[i]][mutationType]++;\n                patient_alterations[j][mutationType]++;\n            } else if (value !== 'empty' && (value === 'amp' || value === 'del')) {\n                gene_alterations[genes[i]][value]++;\n                patient_alterations[j][value]++;\n            }\n\n            // value !== 'highrna' && value !== 'lowrna' && value! == 'amp'\n            // this is for mutation data and rnaseq.\n            const rect = alterations.append('rect')\n                .attr('class', `alter-rect ${value}`)\n                .attr('width', rect_width - 6)\n                .attr('height', rect_height - 6 - (2 * a))\n                .attr('fill', color)\n                .attr('x', j * (rect_width))\n                .attr('y', i * (rect_height) + 2 * (a / 2));\n\n            // setting the boder high-rna and low-rna.\n            if (value === 'highrna') {\n                rect.attr('stroke', 'red')\n                    .style('opacity', 0.6);\n            } else if (value === 'lowrna') {\n                rect.attr('stroke', 'blue')\n                    .style('opacity', 0.6);\n            }\n        };\n\n\n        // stroke for not sequenced patients.\n        const colorNotSequenced = (i, j) => {\n            alterations.append('rect')\n                .attr('class', 'alter-rect nseq')\n                .attr('width', rect_width - 6)\n                .attr('height', rect_height - 6)\n                .attr('fill', 'white')\n                .attr('stroke', 'lightgray')\n                .attr('stroke-width', '1px')\n                .attr('x', j * (rect_width) + 1)\n                .attr('y', i * (rect_height) + 1);\n        };\n\n\n        // creates a layer of oncoprint.\n        for (let i = 0; i < genes.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                if (patients.includes(hmap_patients[j])) {\n                    colorReactangles('empty', 'lightgrey', i, j);\n                } else {\n                    colorNotSequenced(i, j);\n                }\n            }\n        }\n\n        /** Coloring the rectangles borders based on mutation and cnv data * */\n        for (let i = 0; i < genes.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                /** Coloring the rectangles borders based on cnv data * */\n                if (genes_cnv.includes(genes[i]) && data_cnv[i][hmap_patients[j]]) {\n                    const cnvType = cnaMap[data_cnv[i][hmap_patients[j]].toLowerCase()].xevalabel;\n                    const cnvColor = cnaMap[data_cnv[i][hmap_patients[j]].toLowerCase()].color;\n                    if (!isAlteration) {\n                        isAlteration = (cnvType !== 'empty');\n                    }\n                    colorReactangles(cnvType, cnvColor, i, j);\n                }\n\n                /** Coloring the rectangles borders based on mutation data * */\n                // if the gene from genes located in genes_mut.\n                // mutation later because they are 1/3 the box.\n                if (genes_mut.includes(genes[i]) && patient_mut.includes(hmap_patients[j]) && data_mut[i][hmap_patients[j]] !== '0' && data_mut[i][hmap_patients[j]] !== '') {\n                    isAlteration = !isAlteration ? true : isAlteration;\n                    // based on the data gives different colors to the rectangle.\n                    const { color } = mutationTypeMap[data_mut[i][hmap_patients[j]].toLowerCase()];\n                    const type = mutationTypeMap[data_mut[i][hmap_patients[j]].toLowerCase()].mainType;\n                    colorReactangles('mut', color, i, j, type);\n                }\n            }\n        }\n\n        /** Coloring the rectangles borders based on rna sequencing data * */\n        // variable for taking care of rnaseq data sequence.\n        let z = 0;\n        for (let i = 0; i < genes.length; i++) {\n            if (genes_rna.includes(genes[i])) {\n                for (let j = 0; j < hmap_patients.length; j++) {\n                    // only if the element is not included\n                    // complete layer of lightgrey rectangles only if mutation data is not available.\n                    if (Number(data_rna[z][hmap_patients[j]]) > threshold) {\n                        colorReactangles('highrna', 'none', i, j);\n                    } else if (Number(data_rna[z][hmap_patients[j]]) < -threshold) {\n                        colorReactangles('lowrna', 'none', i, j);\n                    }\n                }\n                z++;\n            }\n        }\n\n\n        /** ALTERATION GRAPHS * */\n\n        /** Vertical Graph * */\n        if ((genes_mut.length > 0 || genes_cnv.length > 0) && isAlteration) {\n            // calculating max width\n            const max_width_arr = [];\n            for (let i = 0; i < genes.length; i++) {\n                let max = 0;\n                for (let j = 0; j < aberration.length; j++) {\n                    max += gene_alterations[genes[i]][aberration[j].value];\n                }\n                max_width_arr.push(max);\n            }\n            const max_width = d3.max(max_width_arr);\n\n\n            const xrange_gene = d3.scaleLinear()\n                .domain([0, max_width])\n                .range([0, 70]);\n\n\n            const gene_alter = svg.append('g')\n                .attr('id', 'gene-alter')\n                .attr('transform', `translate(${hmap_patients.length * rect_width + 20},0)`);\n\n            const stroke_width = 1; // this will set the stroke width of the outer rectangle\n\n            // setting the outer rectangle.\n            gene_alter.append('rect')\n                .attr('class', 'patient_eval_rect')\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('height', (rect_height) * (genes.length) - 6)\n                .attr('width', xrange_gene(max_width))\n                .attr('fill', 'white')\n                .style('stroke', 'black')\n                .style('stroke-width', stroke_width);\n\n\n            // function to caculate alterations.\n            const geneAlterationReactangle = (iterator) => {\n                // variables.\n                const i = iterator;\n                let x_range = stroke_width / 2;\n                let aberration_type = '';\n                // loops through each type for each of the genes_mut.\n                aberration.forEach((type) => {\n                    const { color } = type;\n                    if (aberration_type !== '') {\n                        x_range += xrange_gene(gene_alterations[genes[i]][aberration_type]);\n                    }\n                    aberration_type = type.value;\n\n                    // rectangle coloring.\n                    gene_alter.append('rect')\n                        .attr('class', `gene-rect ${type}`)\n                        .attr('height', rect_height - 6)\n                        .attr('width', xrange_gene(gene_alterations[genes[i]][type.value]))\n                        .attr('fill', color)\n                        .attr('y', (i * (rect_height)))\n                        .attr('x', x_range);\n                });\n            };\n\n            // calculate alterations for each row.\n            for (let i = 0; i < genes.length; i++) {\n                geneAlterationReactangle(i);\n            }\n\n            // This will set the axis and scale.\n            const xrange_scale = d3.scaleLinear()\n                .domain([0, max_width])\n                .range([0, xrange_gene(max_width)]);\n\n            const x_axis = d3.axisTop()\n                .scale(xrange_scale)\n                .ticks(4)\n                .tickSize(3)\n                .tickFormat(d3.format('.0f'));\n\n            svg.append('g')\n                .attr('class', 'x_axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .attr('transform', `translate(${hmap_patients.length * rect_width + 20} -0 )`)\n                .call(x_axis)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n\n            svg.selectAll('.tick')\n                .select('text')\n                .attr('fill', 'black')\n                .attr('stroke', 'none');\n        }\n\n\n        /** Horizontal Graph * */\n\n        // calculating max height\n\n        if ((genes_mut.length > 0 || genes_cnv.length > 0) && isAlteration) {\n            // calculating the max height.\n            const max_height_arr = [];\n\n            for (let i = 0; i < patient_alterations.length; i++) {\n                let max = 0;\n                for (let j = 0; j < aberration.length; j++) {\n                    max += patient_alterations[i][aberration[j].value];\n                    // max_height_arr.push(patient_alterations[i][aberration[j].value]);\n                }\n                max_height_arr.push(max);\n            }\n\n            const max_height = d3.max(max_height_arr);\n\n            const patient_alter = svg.append('g')\n                .attr('id', 'patient-alter');\n\n            const yrange_patient = d3.scaleLinear() // #TODO: scale.linear\n                .domain([0, max_height])\n                .range([35, 0]);\n\n            // function to caculate alterations.\n            const patientAlterationReactangle = (iterator) => {\n                // variables.\n                const i = iterator;\n                let y_range = 0;\n\n                // loops through each type for each of the genes_mut.\n                aberration.forEach((type, j) => {\n                    // set value to 1 if j is greater than 1.\n                    j = j > 1 ? j / j : j;\n\n                    // setting y range.\n                    y_range = (yrange_patient(patient_alterations[i][type.value])) - ((35 * j) - y_range);\n\n                    // color setting.\n                    const { color } = type;\n\n                    // rectangle coloring.\n                    patient_alter.append('rect')\n                        .attr('class', `patient-rect${type}`)\n                        .attr('height', 35 - yrange_patient(patient_alterations[i][type.value]))\n                        .attr('width', rect_width - 5)\n                        .attr('fill', color)\n                        .attr('y', y_range)\n                        .attr('x', i * 20 + 1)\n                        .attr('transform', 'translate(0,-40)');\n                });\n            };\n\n            for (let i = 0; i < patient_alterations.length; i++) {\n                patientAlterationReactangle(i);\n            }\n\n            const yrange_axis = d3.scaleLinear()\n                .domain([0, max_height])\n                .range([35 - yrange_patient(max_height), 0]).nice();\n\n            const y_axis = d3.axisLeft()\n                .scale(yrange_axis)\n                .ticks(4); // change to dynamic ticks.\n                // .tickSize(2)\n                // .tickFormat(d3.format('.0f'));\n\n            svg.append('g')\n                .attr('class', 'y_axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .attr('transform', `translate(-10,${-(35 - yrange_patient(max_height)) - 5})`)\n                .call(y_axis)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n\n            svg.selectAll('.tick')\n                .select('text')\n                .attr('fill', 'black')\n                .attr('stroke', 'none');\n\n            // removing the 0 tick\n            svg.selectAll('.y_axis .tick')\n                .each(function (d) {\n                    if (d === 0) {\n                        this.remove();\n                    }\n                });\n        }\n        // dotted lines.\n        const lines = svg.append('g')\n            .attr('id', 'lines')\n            .attr('transform', () => 'translate(2,-200)');\n        const temp = hmap_patients.slice(0);\n        temp.push('');\n\n        lines.selectAll('line.dashed-line')\n            .data(temp)\n            .enter()\n            .append('line')\n            .attr('class', 'dashed-line')\n            .attr('x1', (d, i) => i * (rect_width) - 3)\n            .attr('x2', (d, i) => i * (rect_width) - 3)\n            .attr('y1', 0)\n            .attr('y2', 200)\n            .attr('stroke', 'black')\n            .attr('stroke-width', 1)\n            .style('stroke-dasharray', '3 2')\n            .style('opacity', 0.2);\n\n        lines.selectAll('rect.hlight-space')\n            .data(hmap_patients)\n            .enter()\n            .append('rect')\n            .attr('class', (d) => `hlight-space-${d}`)\n            .attr('width', rect_width - 2)\n            .attr('height', 200)\n            .attr('x', (d, i) => i * rect_width - 2)\n            .attr('fill', 'rgb(0,0,0)')\n            .attr('y', 0)\n            .style('opacity', 0);\n        // }\n        /** SMALL RECTANGLES ON RIGHT SIDE OF Oncoprint * */\n\n        // This will create rectangles on right side for alterations.\n        // legends\n        const target_rect = skeleton.append('g')\n            .attr('id', 'small_rectangle');\n\n        target_rect.selectAll('rect')\n            .data(rect_alterations)\n            .enter()\n            .append('rect')\n            .attr('x', (hmap_patients.length * rect_width + 120))\n            .attr('y', (d, i) => (genes.length * 10) + i * 25)\n            .attr('height', '15')\n            .attr('width', '15')\n            .attr('fill', function (d) {\n                if (d.color === 'none') {\n                    d3.select(this).attr('stroke', 'lightgray')\n                        .attr('transform', 'translate(1,1)')\n                        .attr('width', 14)\n                        .attr('height', 14);\n                    return 'white';\n                }\n                return d.color;\n            })\n            .attr('stroke', (d) => {\n                let val = '';\n                if (d.value === 'mRNA High') {\n                    val = 'red';\n                } if (d.value === 'mRNA Low') {\n                    val = 'blue';\n                } if (d.value === 'Not Available') {\n                    val = 'lightgray';\n                }\n                return val;\n            })\n            .attr('stroke-width', '.5px');\n\n        target_rect.selectAll('text')\n            .data(rect_alterations)\n            .enter()\n            .append('text')\n            .attr('x', (hmap_patients.length * rect_width + 140))\n            .attr('y', (d, i) => (genes.length * 10 + 12) + i * 25)\n            .text((d) => d.value)\n            .attr('font-size', '14px');\n\n\n        // creating tooltip.\n        const createToolTip = (x, y, gene, patient, mutation, cnv) => {\n            // tooltip on mousever setting the div to visible.\n            tooltip\n                .style('visibility', 'visible');\n\n            // tooltip grabbing event.pageX and event.pageY\n            // and set color according to the ordinal scale.\n            const tooltipDiv = tooltip\n                .style('left', `${x + 10}px`)\n                .style('top', `${y + 10}px`)\n                .style('color', '#000000')\n                .style('background-color', '#ffffff');\n\n            // tooltip data.\n            const tooltipData = [\n                `Gene: ${gene}`, `Patient: ${patient}`,\n            ];\n            // pushing data into the tooltipData if mutation or cnv is not empty or null.\n            if (mutation !== '0' && mutation) { tooltipData.push(`Mutation: ${mutation}`); }\n            if (cnv !== '0' && cnv) { tooltipData.push(`Copy Number Variation: ${cnv}`); }\n\n            tooltipDiv.selectAll('textDiv')\n                .data(tooltipData)\n                .enter()\n                .append('div')\n                .attr('id', 'tooltiptextonco')\n                .html((d) => {\n                    const data = d.split(':');\n                    return `<b>${data[0]}</b>: ${data[1]}`;\n                })\n                .attr('x', `${x + 10}px`)\n                .attr('y', (d, i) => (`${y + 10 + i * 10}px`));\n        };\n\n        // hiding tooltip.\n        const hideToolTip = () => {\n            // tooltip on mousever setting the div to hidden.\n            tooltip\n                .style('visibility', 'hidden');\n            // remove all the divs with id tooltiptext.\n            d3.selectAll('#tooltiptextonco').remove();\n        };\n\n        // highlight\n        for (let i = 0; i < genes.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                highlight.append('rect')\n                    .attr('class', `oprint-hlight-${hmap_patients[j]} oprint-hlight-${genes[i]}`)\n                    .attr('width', rect_width - 2)\n                    .attr('height', rect_height - 2)\n                    .attr('fill', 'black')\n                    .attr('x', j * (rect_width))\n                    .attr('y', i * (rect_height))\n                    .style('opacity', 0)\n                    .on('mouseover', () => {\n                        // calling createToolTip function passing pageX and pageY\n                        const mutationToolTip = (data_mut.length !== 0) && data_mut[i] !== undefined && data_mut[i][hmap_patients[j]];\n                        const cnvToolTip = (data_cnv.length !== 0) && data_cnv[i] !== undefined && data_cnv[i][hmap_patients[j]];\n                        createToolTip(d3.event.pageX, d3.event.pageY, genes[i], hmap_patients[j], mutationToolTip, cnvToolTip);\n\n                        // highlight\n                        d3.selectAll(`.hmap-hlight-${hmap_patients[j]}`)\n                            .style('opacity', 0.2);\n                        d3.selectAll(`.oprint-hlight-${hmap_patients[j]}`)\n                            .style('opacity', 0.2);\n                        d3.selectAll(`.hlight-space-${hmap_patients[j]}`)\n                            .style('opacity', 0.2);\n                    })\n                    .on('mouseout', () => {\n                        // hide tooltip\n                        hideToolTip();\n\n                        // highlight\n                        d3.selectAll(`.hmap-hlight-${hmap_patients[j]}`)\n                            .style('opacity', 0);\n                        d3.selectAll(`.oprint-hlight-${hmap_patients[j]}`)\n                            .style('opacity', 0);\n                        d3.selectAll(`.hlight-space-${hmap_patients[j]}`)\n                            .style('opacity', 0);\n                    });\n            }\n        }\n    }\n\n    // ranking the oncopring based on the globalPatients passed from heatmap.\n    rankOncoprintBasedOnHeatMapChanges(value) {\n        const { globalPatients } = value;\n        const { className } = this.props;\n        if (globalPatients.length > 0) {\n            d3.select(`#oncoprint-${className}`).remove();\n            this.Oncoprint(globalPatients);\n        }\n    }\n\n    // ranking oncoprint based on the gene clicked.\n    // eslint-disable-next-line class-methods-use-this\n    rankOncoprint(gene, data) {\n        // array for new data.\n        const newData = {};\n        // function to return the type.\n        const retunType = (i) => {\n            let type = {};\n            switch (i) {\n            case 0:\n                type = mutationTypeMap;\n                break;\n            case 1:\n                type = cnaMap;\n                break;\n            case 2:\n                type = rnaMap;\n                break;\n            default:\n                type = mutationTypeMap;\n            }\n            return type;\n        };\n        // function to check if it's a negative number or not.\n        const isNegativeCheck = (row) => {\n            let val = '';\n            const { threshold } = this.props;\n            if (Number(row) > threshold) {\n                val = 'positive';\n            } else if (Number(row) < -threshold) {\n                val = 'negative';\n            } else {\n                val = 'not available';\n            }\n            return val;\n        };\n        // this function will create/push data to the newData object.\n        const createNewData = (patient, priority) => {\n            if (!newData[patient] || (newData[patient] && newData[patient].priority === 16)) {\n                const total = 1;\n                newData[patient] = {\n                    priority,\n                    total,\n                };\n            } else if (newData[patient].priority < priority && priority !== 16) {\n                const total = newData[patient].total + 1;\n                newData[patient].total = total;\n            } else if (newData[patient] && newData[patient].priority > priority && priority !== 16) {\n                const total = newData[patient].total + 1;\n                newData[patient].total = total;\n                newData[patient].priority = priority;\n            }\n        };\n\n        // loop through all the data types and push relevant data into the array.\n        data.forEach((val, i) => {\n            // type from the function.\n            const type = retunType(i);\n            // loop through each of the data value.\n            val.forEach((row) => {\n                // if the gene id matches the clicked gene.\n                if (row.gene_id === gene) {\n                    Object.keys(row).forEach((patient, j) => {\n                        if ((isNaN(row[patient]) || i === 1) && patient !== 'gene_id') {\n                            const { priority } = type[row[patient].toLowerCase()];\n                            createNewData(patient, priority);\n                        } else if (Number(row[patient])) {\n                            // check for the value of the number.\n                            const isNegative = isNegativeCheck(row[patient]);\n                            const { priority } = type[isNegative];\n                            createNewData(patient, priority);\n                        } else if ((Number(row[patient]) === 0 || row[patient] === '') && typeof (newData[patient]) === 'undefined') {\n                            newData[patient] = {\n                                priority: 16,\n                                total: 1,\n                            };\n                        }\n                    });\n                }\n            });\n        });\n\n        // sorting the array based on priority.\n        const sortableArray = [];\n        Object.keys(newData).forEach((val) => {\n            sortableArray.push([val, newData[val].priority, newData[val].total]);\n        });\n        const sortedData = sortableArray.sort((a, b) => (a[1] - b[1]));\n\n        // final list of the patients in the sorted order.\n        const sortedPatients = sortedData.map((patient) => patient[0]);\n\n        // grabbing the difference from the list of initial patients and sorted patients.\n        // pushing it to the sortedPatients list.\n        const { hmap_patients } = this.props;\n        const diff = hmap_patients.filter((x) => !sortedPatients.includes(x));\n        diff.forEach((val) => sortedPatients.push(val));\n\n        // setting the patients in the context.\n        const { setPatients } = this.context;\n        setPatients(sortedPatients);\n\n        // creating a new oncoprint based on the sorted patients list.\n        const { className } = this.props;\n        d3.select(`#oncoprint-${className}`).remove();\n        this.Oncoprint(sortedPatients);\n\n        // making the circle visible on click of the drug.\n        d3.select(`#circle-${gene.replace(/\\s/g, '').replace(/\\+/g, '')}`)\n            .style('visibility', 'visible');\n    }\n\n    render() {\n        return (\n            // eslint-disable-next-line no-return-assign\n            <div>\n                <div ref={(node) => { this.node = node; }} className=\"oprint-wrapper\" />\n                <PatientConsumer>{(value) => { this.rankOncoprintBasedOnHeatMapChanges(value); }}</PatientConsumer>\n            </div>\n        );\n    }\n}\n\nOncoprint.contextType = PatientContext;\n\nOncoprint.propTypes = {\n    className: PropTypes.string.isRequired,\n    dimensions: PropTypes.shape({\n        height: PropTypes.number,\n        width: PropTypes.number,\n    }).isRequired,\n    margin: PropTypes.shape({\n        top: PropTypes.number,\n        right: PropTypes.number,\n        bottom: PropTypes.number,\n        left: PropTypes.number,\n    }).isRequired,\n    threshold: PropTypes.number.isRequired,\n    hmap_patients: PropTypes.arrayOf(PropTypes.string).isRequired,\n    genes_mut: PropTypes.arrayOf(PropTypes.string).isRequired,\n    genes_rna: PropTypes.arrayOf(PropTypes.string).isRequired,\n    genes_cnv: PropTypes.arrayOf(PropTypes.string).isRequired,\n    patient_mut: PropTypes.arrayOf(PropTypes.string).isRequired,\n    patient_rna: PropTypes.arrayOf(PropTypes.string).isRequired,\n    patient_cnv: PropTypes.arrayOf(PropTypes.string).isRequired,\n    data_mut: PropTypes.arrayOf(PropTypes.object).isRequired,\n    data_rna: PropTypes.arrayOf(PropTypes.object).isRequired,\n    data_cnv: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\n\nexport default Oncoprint;\n","import React from 'react';\nimport { HashLoader } from 'react-spinners';\nimport { css } from '@emotion/core';\nimport PropTypes from 'prop-types';\n\n\nconst override = css`\n    display: block;\n    margin: auto;\n    margin-top: 300px;\n`;\n\n\nconst SpinnerUtil = (props) => {\n    const { loading } = props;\n    return loading ? (\n        <div style={{ height: '500px', width: '1300px' }}>\n            <HashLoader\n                css={override}\n                sizeUnit=\"px\"\n                size={100}\n                color=\"#cd5686\"\n            />\n        </div>\n    ) : (<div />);\n};\n\n\nSpinnerUtil.propTypes = {\n    loading: PropTypes.bool.isRequired,\n};\n\n\nexport default SpinnerUtil;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst ErrorStyle = styled.h1`\n    margin: 400px;\n    color: #3453b0 !important;\n    font-size: 40px !important;\n`;\n\nconst Error = ({ message }) => {\n    // data variable if message is not defined.\n    let data = '';\n    if (!message) {\n        data = 'Page not found!!';\n    }\n    // returing the data.\n    return (\n        <ErrorStyle>\n            {message || data}\n        </ErrorStyle>\n    );\n};\n\nexport default Error;\n","/* eslint-disable no-shadow */\n/* eslint-disable camelcase */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Oncoprint from './Oncoprint';\nimport Spinner from '../SpinnerUtil/Spinner';\nimport Error from '../Error/Error';\n\nclass OncoprintData extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataset: 0,\n            threshold: 2,\n            hmap_patients: [],\n            genes_mut: [],\n            genes_rna: [],\n            genes_cnv: [],\n            patient_mut: [],\n            patient_rna: [],\n            patient_cnv: [],\n            data_mut: [],\n            data_rna: [],\n            data_cnv: [],\n            dimensions: {},\n            margin: {},\n            loading: true,\n            error: false,\n        };\n        this.updateResults = this.updateResults.bind(this);\n    }\n\n    static getDerivedStateFromProps(props) {\n        const { dataset } = props;\n        return {\n            dataset,\n        };\n    }\n\n    componentDidMount() {\n        if (this.state.dataset > 0) {\n            const mutation_data = axios.get(`/api/v1/mutation/${this.state.dataset}`, { headers: { Authorization: localStorage.getItem('user') } });\n            const rnaseq_data = axios.get(`/api/v1/rnaseq/${this.state.dataset}`, { headers: { Authorization: localStorage.getItem('user') } });\n            const cnv_data = axios.get(`/api/v1/cnv/${this.state.dataset}`, { headers: { Authorization: localStorage.getItem('user') } });\n\n            Promise.all([mutation_data, rnaseq_data, cnv_data])\n                .then((response) => {\n                    this.updateResults(response);\n                })\n                .catch((err) => {\n                    if (err) {\n                        this.setState({\n                            error: true,\n                        });\n                    }\n                });\n        }\n    }\n\n    updateResults(onco) {\n        // total patients.\n        const dataset = onco[0].data;\n        // grabbing the total patients from hmap.\n        let hmap_patients = [];\n        hmap_patients = dataset.pop();\n\n        // this is according to the object and heatmap sequence.\n        onco.forEach((value, i) => { // can't break in forEach use for if wanna break.\n            const dataObject = {};\n            if (value.data.length > 1) {\n                hmap_patients.forEach((patient) => {\n                    if (!onco[i].data[0][patient]) {\n                        dataObject[patient] = '';\n                    } else {\n                        dataObject[patient] = onco[i].data[0][patient];\n                    }\n                });\n                hmap_patients = Object.keys(dataObject);\n            }\n        });\n\n        // setting patients genes and data for\n        // each of mutation, cnv and rna (given they are present)\n        const patient = {};\n        const genes = {};\n        const data = {};\n        const genomics = onco[2].data.length > 1 ? ['Mutation', 'RNASeq', 'CNV'] : ['RNASeq'];\n\n        genomics.forEach((value) => {\n            let i = 0;\n            if (value === 'Mutation') {\n                i = 0;\n            } else if (value === 'RNASeq') {\n                i = 1;\n            } else if (value === 'CNV') {\n                i = 2;\n            }\n            const val = value.substring(0, 3).toLowerCase();\n\n            // setting patients\n            const patient_id = Object.keys(onco[i].data[0]).filter((value) => {\n                let return_value = '';\n                if (value !== 'gene_id') {\n                    return_value = value;\n                }\n                return return_value;\n            });\n\n            patient[`patient_${val}`] = patient_id;\n\n            // genes\n            const gene_id = onco[i].data.map((data) => data.gene_id);\n            genes[`genes_${val}`] = gene_id;\n\n            // data\n            data[`data_${val}`] = onco[i].data;\n        });\n\n        this.setState({\n            hmap_patients,\n            patient_mut: patient.patient_mut ? patient.patient_mut : [],\n            patient_rna: patient.patient_rna ? patient.patient_rna : [],\n            patient_cnv: patient.patient_cnv ? patient.patient_cnv : [],\n            genes_mut: genes.genes_mut ? genes.genes_mut : [],\n            genes_rna: genes.genes_rna ? genes.genes_rna : [],\n            genes_cnv: genes.genes_cnv ? genes.genes_cnv : [],\n            data_mut: data.data_mut ? data.data_mut : [],\n            data_rna: data.data_rna ? data.data_rna : [],\n            data_cnv: data.data_cnv ? data.data_cnv : [],\n            dimensions: { height: 35, width: 20 },\n            margin: {\n                top: 50, right: 200, bottom: 0, left: 250,\n            },\n            loading: false,\n        });\n    }\n\n\n    render() {\n        const {\n            genes_mut, genes_rna, genes_cnv,\n            patient_mut, patient_rna, patient_cnv,\n            data_mut, data_rna, data_cnv,\n            dimensions, margin, threshold,\n            hmap_patients, loading, error, dataset,\n        } = this.state;\n\n        function renderingData() {\n            let data = '';\n            if (data_mut.length || data_cnv.length || data_rna.length) {\n                data = (\n                    <Oncoprint\n                        className=\"oprint\"\n                        dimensions={dimensions}\n                        margin={margin}\n                        threshold={threshold}\n                        hmap_patients={hmap_patients}\n                        genes_mut={genes_mut}\n                        genes_rna={genes_rna}\n                        genes_cnv={genes_cnv}\n                        patient_mut={patient_mut}\n                        patient_rna={patient_rna}\n                        patient_cnv={patient_cnv}\n                        data_mut={data_mut}\n                        data_rna={data_rna}\n                        data_cnv={data_cnv}\n                    />\n                );\n            } else if (dataset === '4') {\n                return <Error message=\"There is no data available for PDXE (Gastric Cancer)\" />;\n            } else if (error) {\n                return <Error message=\"Page not found!!\" />;\n            } else {\n                data = (<div className=\"oprint-wrapper\"><Spinner loading={loading} /></div>);\n            }\n            return data;\n        }\n\n        return (\n            <div className=\"wrapper\" style={{ margin: 'auto' }}>\n                {\n                    renderingData()\n                }\n            </div>\n        );\n    }\n}\n\nOncoprintData.propTypes = {\n    dataset: PropTypes.string.isRequired,\n};\n\n\nexport default OncoprintData;\n","import React from 'react';\n\n\nconst styles = {\n    color: '#3453b0',\n    fontSize: 18,\n    textAlign: 'center',\n    paddingTop: '30px',\n    minHeight: '50px',\n    bottom: '0',\n    right: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    minWidth: '100vw',\n    backgroundColor: 'rgb(255,255,255,0.8)',\n    fontFamily: 'Raleway, sans-serif',\n\n};\n\n\nconst Footer = () => (\n    <div style={styles}>\n        BHKLab 2019\n    </div>\n);\n\nexport default Footer;\n","import React from 'react';\nimport HeatMapData from '../HeatMap/HeatMapData';\nimport OncoprintData from '../Oncoprint/OncoprintData';\nimport Footer from '../Footer/Footer';\nimport { PatientProvider } from '../Context/PatientContext';\n\nclass Dataset extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.setPatients = (patients) => {\n            this.setState({\n                globalPatients: patients,\n            });\n        };\n\n        this.state = {\n            dataset: 0,\n            globalPatients: [],\n            setPatients: this.setPatients,\n        };\n    }\n\n    // new component life cycle method (mounting).\n    static getDerivedStateFromProps(props) {\n        const { match } = props;\n        const datasetParam = match.params.id;\n        return {\n            dataset: datasetParam,\n        };\n    }\n\n    render() {\n        const { dataset, globalPatients, setPatients } = this.state;\n        const providerData = {\n            globalPatients,\n            setPatients,\n        };\n        return (\n            <div>\n                <PatientProvider value={providerData}>\n                    <HeatMapData\n                        dataset={dataset}\n                    />\n                    <OncoprintData\n                        dataset={dataset}\n                    />\n                </PatientProvider>\n                <Footer />\n            </div>\n        );\n    }\n}\n\n\nexport default Dataset;\n","/* eslint-disable func-names */\nimport React from 'react';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\n\n\nclass DonutChart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.DonutChart = this.DonutChart.bind(this);\n        this.makeDonutChart = this.makeDonutChart.bind(this);\n    }\n\n    componentDidMount() {\n        // this.DonutChart()\n    }\n\n    componentDidUpdate() {\n        this.DonutChart();\n    }\n\n    DonutChart() {\n        const { dimensions } = this.props;\n        const { margin } = this.props;\n        const { node } = this;\n        const { data } = this.props;\n        const { height } = dimensions;\n        const { width } = dimensions;\n        const { left } = margin;\n        const { top } = margin;\n        const { bottom } = margin;\n        const { right } = margin;\n        this.makeDonutChart(node, data, height, width, left, top, bottom, right);\n    }\n\n    // data should be like => {id: 'Gastric Cancer', value: 1007}\n    makeDonutChart(node, data, height, width, left, top, bottom, right) {\n        // console.log(data)\n        const { chartId } = this.props;\n\n        /** SETTING SVG ATTRIBUTES * */\n        d3.select('svg').remove();\n        // make the SVG element.\n        const svg = d3.select(node)\n            .append('svg')\n            .attr('id', `donutchart-${chartId}`)\n            .attr('xmlns', 'http://wwww.w3.org/2000/svg')\n            .attr('xmlns:xlink', 'http://wwww.w3.org/1999/xlink')\n            .attr('height', height + top + bottom)\n            .attr('width', width + left + right)\n            .append('g')\n            .attr('transform', `translate(${left},${top})`);\n\n        /* Skeleton for the pie/donut chart */\n        // structure of the chart\n        const skeleton = svg.append('g')\n            .attr('id', 'skeleton');\n\n        /* Donut Chart */\n\n        // color scheme for the pie/donut chart using the ordinal scale.\n\n        const colors = ['#E64B35FF', '#4DBBD5FF', '#00A087FF', '#3C5488FF', '#F39B7FFF', '#8491B4FF', '#91D1C2FF', '#B09C85FF',\n            '#0073C2FF', '#868686FF', '#CD534CFF', '#7AA6DCFF', '#003C67FF', '#3B3B3BFF', '#A73030FF', '#4A6990FF',\n            '#00468BBF', '#42B540BF', '#0099B4BF', '#925E9FBF', '#FDAF91BF', '#AD002ABF', '#ADB6B6BF',\n        ];\n\n        const color = d3.scaleOrdinal()\n            .domain(data)\n            .range(colors);\n\n\n        /* div element for the tooltip */\n        // create a tooltip\n        const tooltip = d3.select(node)\n            .append('div')\n            .style('position', 'absolute')\n            .style('visibility', 'hidden')\n            .style('border', 'solid')\n            .style('border-width', '2px')\n            .style('border-radius', '5px')\n            .style('padding', '5px')\n            .attr('top', 10)\n            .attr('left', 20);\n\n\n        /* Arc for the main pie chart and label arc */\n        const { arcRadius } = this.props;\n        // arc generator\n        const arc = d3.arc()\n            .outerRadius(arcRadius.outerRadius)\n            .innerRadius(arcRadius.innerRadius);\n\n        // this is used to set the labels\n        const labelArc = d3.arc()\n            .outerRadius(arcRadius.outerRadius - 20)\n            .innerRadius(arcRadius.innerRadius + 10);\n\n        /* Pie/Donut chart layout */\n\n        // pie generator/layout\n        const pie = d3.pie()\n            .sort(null)\n            .value((d) => d.value);\n\n        // this will send the data to the pie generator and appending the class arc.\n        const arcs = skeleton.selectAll('.arc')\n            .data(() => pie(data))\n            .enter()\n            .append('a')\n            .attr('xlink:href', (d, i) => {\n                if (chartId === 'donut_datasets') {\n                    return `/dataset/${data[i].parameter}`;\n                }\n            })\n            .append('g')\n            .attr('class', (d) => `${(d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')}_Arc`);\n\n        // here we are appending path and use of d element to create the path.\n        const piearc = arcs.append('path')\n            .attr('d', arc)\n            .attr('fill', (d) => color(d.data.value))\n            .attr('stroke', 'black')\n            .style('stroke-width', '.5px');\n\n        function pieTween(b) {\n            b.innerRadius = 0;\n            const i = d3.interpolate({ startAngle: 0, endAngle: 0 }, b);\n            return function (t) {\n                return arc(i(t));\n            };\n        }\n        // transition of the arcs for the pie chart itself.\n        piearc.transition()\n            .ease(d3.easeLinear)\n            .duration(500)\n            .attrTween('d', pieTween);\n\n        // this is a very basic tooltip.\n        /*\n                piearc.append('title')\n                    .text((d) => {\n                        return 'value is ' + d.data.value\n                    })\n                */\n        /* event listeners */\n\n        const mouseover = function (d) {\n            const selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '');\n            d3.select(`.${selection}_Arc`)\n                .transition()\n                .duration(300)\n                .style('opacity', 0.4)\n                .style('cursor', 'pointer');\n            // tooltip on mousever setting the div to visible.\n            tooltip\n                .style('visibility', 'visible');\n        };\n\n        const mousemove = function (d) {\n            const selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '');\n            d3.select(`.${selection}_Arc`)\n                .transition()\n                .duration(300)\n                .style('opacity', 0.4)\n                .style('cursor', 'pointer');\n            // tooltip grabbing event.pageX and event.pageY\n            // and set color according to the ordinal scale.\n            const value = ` (${d.data.value})`;\n            tooltip\n                .text([d.data.id + value])\n                .style('left', `${d3.event.pageX + 10}px`)\n                .style('top', `${d3.event.pageY + 10}px`)\n                .style('color', 'white')\n                .style('background-color', color(d.data.value));\n        };\n\n        const mouseout = function (d) {\n            const selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '');\n            d3.select(`.${selection}_Arc`)\n                .transition()\n                .duration(300)\n                .style('opacity', 1)\n                .style('cursor', 'pointer');\n            // tooltip on mouseout.\n            tooltip\n                .style('visibility', 'hidden')\n                .style('background-color', 'black');\n        };\n\n        // transition while mouseover and mouseout on each slice.\n        piearc\n            .on('mouseover', (d) => {\n                mouseover(d);\n            })\n            .on('mousemove', (d) => {\n                mousemove(d);\n            })\n            .on('mouseout', (d) => {\n                mouseout(d);\n            });\n\n        /* Label with event listeners */\n\n        // append the text labels.\n        if (chartId !== 'donut_drugs' && chartId !== 'donut_datasets' && chartId !== 'donut_tissues') {\n            arcs.append('text')\n                .attr('transform', (d) => `translate(${labelArc.centroid(d)})`)\n                .attr('dy', '0.35em')\n                .text((d) => {\n                    if (d.data.id === 'Non-small Cell Lung Carcinoma') {\n                        return 'NSCLC';\n                    } return d.data.id;\n                })\n            // .attr('font-weight', 'bold')\n                .style('text-anchor', 'middle')\n                .style('font-size', 14)\n                .attr('fill', 'white')\n                .on('mouseover', (d) => {\n                    mouseover(d);\n                })\n                .on('mousemove', (d) => {\n                    mousemove(d);\n                })\n                .on('mouseout', (d) => {\n                    mouseout(d);\n                });\n        }\n\n\n        /**   Legends for the Donut Chart * */\n\n        // small side rectangles or legends for the donut chart.\n        const donutRect = svg.append('g')\n            .attr('id', 'donut_small_rect');\n\n        donutRect.selectAll('rect')\n            .data(data)\n            .enter()\n            .append('rect')\n            .attr('x', (width) - 290)\n            .attr('y', (d, i) => ((30 * i) - (data.length * 15)))\n            .attr('width', 20)\n            .attr('height', 20)\n            .attr('fill', (d) => color(d.value));\n\n        donutRect.selectAll('text')\n            .data(data)\n            .enter()\n            .append('text')\n            .attr('x', (width) - 250)\n            .attr('y', (d, i) => ((30 * i) - (data.length * 15)) + 15)\n            .attr('fill', (d) => color(d.value))\n            .text((d) => `${d.id.charAt(0).toUpperCase() + d.id.slice(1)} (${d.value})`);\n    }\n\n    render() {\n        return (\n            <div\n                ref={(node) => this.node = node}\n                className=\"donut-chart\"\n            />\n        );\n    }\n}\n\n\nDonutChart.propTypes = {\n    dimensions: PropTypes.shape({\n        height: PropTypes.number,\n        width: PropTypes.number,\n    }).isRequired,\n    margin: PropTypes.shape({\n        top: PropTypes.number,\n        right: PropTypes.number,\n        bottom: PropTypes.number,\n        left: PropTypes.number,\n    }).isRequired,\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    arcRadius: PropTypes.shape({\n        innerRadius: PropTypes.number,\n        outerRadius: PropTypes.number,\n    }).isRequired,\n};\n\nexport default DonutChart;\n","import styled from 'styled-components';\n\n\nconst TableWrapper = styled.div`\n    padding:10px 20px 30px 20px;\n    font-family: 'Raleway', sans-serif;\n\n    .ReactTable * {\n        box-sizing: border-box;\n    }\n\n    .ReactTable .rt-table {\n        align-items: stretch;\n        width: 100%;\n        border-collapse: collapse;\n        overflow: auto\n    }\n\n    .rt-thead.-header {\n        border-bottom: 1px solid rgba(0,0,0,0.1);\n    }\n\n    .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover {\n        background: #EAEFF9\n    }\n\n    .ReactTable .rt-thead {\n        color:  #3453b0;\n        font-size: 18px;\n        font-weight: 600;\n        box-shadow:none !important;\n    }\n\n    .ReactTable .rt-tbody{\n        color:  #3453b0;\n        font-size: 16px;\n        box-shadow:none !important;\n    }\n\n    .-previous, .-next, .-btn {\n      background: #3453b0;\n      color:white !important;\n    }\n\n    .-pagination, .pagination-bottom {\n        box-shadow:none !important;\n        border-top:1px solid rgba(0,0,0,0.1) !important;\n    }\n\n    .ReactTable .-pagination .-pageJump input, input{\n        color: #3453b0;\n        box-shadow:none !important;\n        background: #EAEFF9 !important;\n    }\n\n    .ReactTable .-pagination select {\n        color: #3453b0;\n    }\n`;\n\n\nexport default TableWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport ReactTable from 'react-table';\nimport TableWrapper from '../Drug/DrugTableStyle';\nimport Spinner from '../SpinnerUtil/Spinner';\nimport 'react-table/react-table.css';\n\nconst h1Style = {\n    color: '#3453b0',\n    margin: '50px',\n};\n\nconst DatasetTable = (props) => {\n    const { data, dataLength } = props;\n    const loading = !(dataLength > 0);\n\n    const columns = [\n        {\n            Header: 'Dataset Name',\n            accessor: 'id',\n            minWidth: 180,\n            search: false,\n            sortable: false,\n            Cell: (row) => (\n                <Link to={`/dataset/${row.original.parameter}`} style={{ color: '#3453b0', textDecoration: 'none' }}>\n                    {row.original.id}\n                </Link>\n            ),\n        },\n        {\n            Header: 'Number of Patients',\n            accessor: 'value',\n            minWidth: 120,\n        },\n        {\n            Header: 'Number of Models',\n            accessor: 'totalModels',\n            minWidth: 120,\n        },\n    ];\n\n    return (\n        loading ? (<Spinner loading={loading} />)\n            : (\n                <TableWrapper className=\"wrap\">\n                    <h1 style={h1Style}> List of Datasets </h1>\n                    <ReactTable\n                        data={data}\n                        columns={columns}\n                        className=\"-highlight\"\n                        showPagination={false}\n                        pageSize={dataLength > 0 ? dataLength + 1 : 7}\n                    />\n                </TableWrapper>\n            )\n    );\n};\n\n\nDatasetTable.propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n    dataLength: PropTypes.number.isRequired,\n};\n\nexport default DatasetTable;\n","import React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport DonutChart from '../DonutChart/DonutChart';\nimport Footer from '../Footer/Footer';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\nimport DatasetTable from './DatasetTable';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    color: #3453b0;\n    margin-bottom: 100px;\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`;\n\nclass DatasetDonut extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            dimensions: {},\n            margin: {},\n            arc: {},\n        };\n    }\n\n    componentDidMount() {\n        axios.get('/api/v1/dataset/models', { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                const data = response.data.data.map((element) => ({\n                    id: element.dataset_name,\n                    value: element.patient_id,\n                    parameter: element.dataset_id,\n                    totalModels: element.totalModels,\n                }));\n                this.setState({\n                    data,\n                    dimensions: { width: 650, height: 250 },\n                    margin: {\n                        top: 320, right: 100, bottom: 100, left: 380,\n                    },\n                    arc: { outerRadius: 260, innerRadius: 150 },\n                });\n            });\n    }\n\n    render() {\n        const {\n            data, arc,\n            dimensions, margin,\n        } = this.state;\n        return (\n            <div>\n                <TopNav />\n                <GlobalStyles />\n                <Wrapper>\n                    <div className=\"donut-wrapper\">\n                        <h1> Number of Patients Per Dataset </h1>\n                        <DonutChart\n                            dimensions={dimensions}\n                            margin={margin}\n                            data={data}\n                            arcRadius={arc}\n                            chartId=\"donut_datasets\"\n                        />\n                    </div>\n                    <div className=\"donut-wrapper\">\n                        <DatasetTable\n                            data={data}\n                            dataLength={data.length}\n                        />\n                    </div>\n                </Wrapper>\n                <Footer />\n            </div>\n        );\n    }\n}\n\n\nexport default DatasetDonut;\n","import React from 'react';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\n\n\nconst Documentation = () => (\n    <div>\n        <TopNav />\n        <GlobalStyles />\n        <div className=\"wrapper\">\n            <div className=\"doc-wrapper\">\n                <h1> Documentation will be added Later. </h1>\n            </div>\n        </div>\n    </div>\n);\n\n\nexport default Documentation;\n","import React from 'react';\nimport axios from 'axios';\nimport ReactTable from 'react-table';\nimport TableWrapper from './DrugTableStyle';\nimport pubchem from '../../images/pclogo_220.gif';\nimport Spinner from '../SpinnerUtil/Spinner';\nimport 'react-table/react-table.css';\n\nconst h1Style = {\n    color: '#3453b0',\n    margin: '50px',\n};\n\nclass DrugTable extends React.Component {\n    constructor(props) {\n        super(props);\n        // setting the states for the data.\n        this.state = {\n            data: [],\n            loading: true,\n        };\n    }\n\n    componentDidMount() {\n        axios.get('/api/v1/drugs', { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                this.setState({\n                    data: response.data,\n                    loading: false,\n                });\n            });\n    }\n\n    render() {\n        const { data, loading } = this.state;\n\n        // adding image to each of the object in array.\n        data.forEach((val) => {\n            val.img = pubchem;\n        });\n\n        // to capitalize first alphabet.\n        const capitalize = (s) => {\n            if (typeof s !== 'string') return '';\n            return s.charAt(0).toUpperCase() + s.slice(1);\n        };\n\n        const columns = [\n            {\n                Header: 'Drug Name',\n                accessor: 'drug_name',\n                minWidth: 180,\n                Cell: (props) => capitalize(props.value),\n                sortable: true,\n            },\n            {\n                Header: 'Standard Name',\n                accessor: 'standard_name',\n                minWidth: 150,\n                Cell: (props) => capitalize(props.value),\n                sortable: true,\n            },\n            {\n                Header: 'Targets',\n                accessor: 'class',\n                minWidth: 150,\n                Cell: (props) => capitalize(props.value),\n                sortable: true,\n            },\n            {\n                Header: 'Class',\n                accessor: 'class_name',\n                minWidth: 220,\n                Cell: (props) => capitalize(props.value),\n                sortable: true,\n            },\n            {\n                Header: 'Source',\n                Cell: (val) => {\n                    const pubchemLink = val.original.source.split(' + ');\n                    const { length } = pubchemLink;\n                    const link = [];\n                    let isNa = '';\n\n                    // function checks if any of the value in the pubchemlink array is NA.\n                    pubchemLink.forEach((row) => {\n                        if (row === 'NA') {\n                            isNa = true;\n                        }\n                    });\n\n                    // looping through the pubchemLink and adding image and url based on the data.\n                    pubchemLink.forEach((row, i) => {\n                        if (row !== 'NA') {\n                            link.push(\n                                <span key={row}>\n                                    <a\n                                        className=\"hover\"\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                        href={`${row}`}\n                                    >\n                                        <img height={38} src={val.original.img} alt=\"pubchem links\" />\n                                    </a>\n                                    { ((length > i + 1) && !isNa) ? <sup> + </sup> : ''}\n                                </span>,\n                            );\n                        }\n                    });\n                    return link;\n                },\n                sortable: false,\n            },\n        ];\n\n        return (\n            loading\n                ? (<Spinner loading={loading} />)\n                : (\n                    <TableWrapper className=\"wrap\">\n                        <h1 style={h1Style}> List of Drugs </h1>\n                        <ReactTable\n                            data={data}\n                            columns={columns}\n                            className=\"-highlight\"\n                            defaultPageSize={10}\n                            filterable\n                        />\n                    </TableWrapper>\n                )\n        );\n    }\n}\n\nexport default DrugTable;\n","import React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport DonutChart from '../DonutChart/DonutChart';\nimport Footer from '../Footer/Footer';\nimport DrugTable from './DrugTable';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    margin-bottom: 100px;\n    color: #3453b0\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`;\n\nclass DonutDrug extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            dimensions: {},\n            margin: {},\n            arc: {},\n        };\n    }\n\n    componentDidMount() {\n        const newValues = [];\n        // passing on token as the header to the api call.\n        axios.get('/api/v1/drug/class', { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                response.data.data.forEach((data) => {\n                    const value = {};\n                    if (data.class_name !== '') {\n                        value.id = (data.class_name).replace('\"', '').replace('/', '_');\n                        value.value = data.model_ids;\n                        newValues.push(value);\n                    }\n                });\n                this.setState({\n                    data: newValues,\n                    dimensions: { width: 650, height: 250 },\n                    margin: {\n                        top: 320, right: 100, bottom: 100, left: 380,\n                    },\n                    arc: { outerRadius: 260, innerRadius: 150 },\n                });\n            });\n    }\n\n    render() {\n        const {\n            data, arc,\n            dimensions, margin,\n        } = this.state;\n        return (\n            <div>\n                <TopNav />\n                <GlobalStyles />\n                <Wrapper>\n                    <div className=\"donut-wrapper\">\n                        <h1> Number of Models Per Drug class </h1>\n                        <DonutChart\n                            dimensions={dimensions}\n                            margin={margin}\n                            chartId=\"donut_drugs\"\n                            data={data}\n                            arcRadius={arc}\n                        />\n                    </div>\n                    <div className=\"donut-wrapper\">\n                        <DrugTable />\n                    </div>\n                </Wrapper>\n                <Footer />\n            </div>\n        );\n    }\n}\n\nexport default DonutDrug;\n","import React from 'react';\nimport axios from 'axios';\nimport DonutChart from './DonutChart';\n\n// ************ This code is not being used anywhere for now  ************//\nclass DonutPatient extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n        };\n    }\n\n    componentDidMount() {\n        const new_values = [];\n        const promise1 = axios.get('/api/v1/getinboth');\n        const promise2 = axios.get('/api/v1/getonlydrug');\n        const promise3 = axios.get('/api/v1/getonlysequencing');\n\n        Promise.all([promise1, promise2, promise3])\n            .then((response) => {\n                let i = 1;\n                response.forEach((data) => {\n                    if (data.data.length !== 0) {\n                        const value = {};\n                        if (i === 1) {\n                            value.id = 'Sequence and Drug Data';\n                        } else if (i === 2) {\n                            value.id = 'Only Drug Data';\n                        } else if (i === 3) {\n                            value.id = 'Only Sequence Data';\n                        }\n                        i++;\n                        value.value = data.data.length;\n                        new_values.push(value);\n                    }\n                });\n                this.setState({\n                    data: new_values,\n                });\n            });\n    }\n\n    dimensions = {\n        width: 130,\n        height: 80,\n    }\n\n    margin = {\n        top: 220,\n        right: 100,\n        bottom: 100,\n        left: 250,\n    }\n\n    arc = {\n        outerRadius: 160,\n        innerRadius: 70,\n    }\n\n    chartId = 'donut_patient'\n\n    render() {\n        return (\n            <div className=\"DonutPatient\">\n                <DonutChart\n                    dimensions={this.dimensions}\n                    margin={this.margin}\n                    chartId={this.chartId}\n                    data={this.state.data}\n                    arc={this.arc}\n                />\n            </div>\n        );\n    }\n}\n\n// ************ This code is not being used anywhere for now  ************//\n\nexport default DonutPatient;\n","import React from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport DonutChart from '../DonutChart/DonutChart';\nimport Footer from '../Footer/Footer';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    color: #3453b0;\n    margin-bottom: 100px;\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`;\n\n\nclass DonutTissue extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            dimensions: {},\n            margin: {},\n            arc: {},\n        };\n    }\n\n    componentDidMount() {\n        const newValues = [];\n        axios.get('/api/v1/tissue/models', { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                response.data.data.forEach((data) => {\n                    const value = {};\n                    value.id = data.tissue_name;\n                    value.value = data.total;\n                    newValues.push(value);\n                });\n                this.setState({\n                    data: newValues,\n                    dimensions: { width: 600, height: 300 },\n                    margin: {\n                        top: 320, right: 100, bottom: 100, left: 380,\n                    },\n                    arc: { outerRadius: 260, innerRadius: 150 },\n                });\n            });\n    }\n\n\n    render() {\n        const {\n            data, arc,\n            dimensions, margin,\n        } = this.state;\n        return (\n            <div>\n                <TopNav />\n                <GlobalStyles />\n                <Wrapper>\n                    <div className=\"donut-wrapper\">\n                        <h1> PDXs Per Tissue Type </h1>\n                        <DonutChart\n                            dimensions={dimensions}\n                            margin={margin}\n                            chartId=\"donut_tissues\"\n                            data={data}\n                            arcRadius={arc}\n                        />\n                    </div>\n                </Wrapper>\n                <Footer />\n            </div>\n        );\n    }\n}\n\nexport default DonutTissue;\n","import styled from 'styled-components';\n\nconst StyleTable = styled.div`\n\n    table, th, td {\n        border: 1px solid #999999;\n    }\n\n    #stats-table {\n        text-align: left;\n        font-family: 'Raleway', sans-serif;\n        border-collapse: collapse;\n        width: 800px;\n    }\n\n    th {\n        color: #5974c4;\n        text-align: left;\n        font-family: 'Raleway', sans-serif;\n        padding: 10px;\n        height: 40px;\n        background-color: #ddd;\n    }\n\n    td {\n        color: #cd5686;\n        padding: 10px;\n        white-space: normal;\n        max-width: 200px;\n        overflow: scroll;\n    }\n\n    tr:hover {\n        background-color: #f5f5f5;\n    }\n`;\n\nexport default StyleTable;\n","/* eslint-disable react/no-array-index-key */\n/* eslint-disable class-methods-use-this */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport StyleTable from './ModelResponseStyle';\n\nclass BatchStatTable extends React.Component {\n    constructor(props) {\n        super(props);\n        // data for the table.\n        this.state = {\n            tableHeader: ['Batch', 'TGI', 'Angle', 'ABC'],\n        };\n        this.createTable = this.createTable.bind(this);\n        this.createTableHeader = this.createTableHeader.bind(this);\n    }\n\n    createTable() {\n        // this will create newData array of objects for the table.\n        const { data } = this.props;\n        const newData = [];\n        let total = 0;\n        let batchId = '';\n\n        data.forEach((eachdata) => {\n            if (newData.length === 0 || batchId !== eachdata.batch_id) {\n                newData.push({});\n                batchId = eachdata.batch_id;\n                newData[total].batch = eachdata.batch;\n                total += 1;\n            }\n            newData[total - 1][eachdata.response_type] = eachdata.value;\n        });\n\n        const table = newData.map((eachdata, index) => {\n            const {\n                batch, angle, TGI, abc,\n            } = eachdata;\n            return (\n                <tr key={index}>\n                    <td>{batch}</td>\n                    <td>{TGI}</td>\n                    <td>{angle}</td>\n                    <td>{abc}</td>\n                </tr>\n            );\n        });\n        return table;\n    }\n\n    createTableHeader() {\n        // create the header for the table.\n        const { tableHeader } = this.state;\n        const header = tableHeader.map((key, index) => <th key={index}>{key}</th>);\n        return header;\n    }\n\n    render() {\n        return (\n            <div className=\"curve-wrapper\" style={{ marginTop: '0px', padding: '60px 0px 20px 0px' }}>\n                <h1 id=\"title\">Statistics (Batch Response)</h1>\n                <StyleTable>\n                    <table id=\"stats-table\">\n                        <tbody>\n                            <tr>{this.createTableHeader()}</tr>\n                            {this.createTable()}\n                        </tbody>\n                    </table>\n                </StyleTable>\n            </div>\n        );\n    }\n}\n\n\nBatchStatTable.propTypes = {\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default BatchStatTable;\n","/* eslint-disable max-len */\n/* eslint-disable react/no-array-index-key */\n/* eslint-disable class-methods-use-this */\nimport React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport StyleTable from './ModelResponseStyle';\nimport BatchStatTable from './BatchResponseStatTable';\n\nclass StatTable extends React.Component {\n    constructor(props) {\n        super(props);\n        // data for the table.\n        this.state = {\n            data: [],\n            batchData: [],\n            tableHeader: ['Patient', 'Model', 'Drug',\n                'mRECIST', 'Best Average Response', 'Slope', 'AUC',\n                'Survival (Days)', 'Link', 'Row Number'],\n        };\n        this.createTable = this.createTable.bind(this);\n        this.createTableHeader = this.createTableHeader.bind(this);\n        this.parseData = this.parseData.bind(this);\n    }\n\n    componentDidMount() {\n        const { drugParam, patientParam } = this.props;\n        const getModelResponse = axios.get(`/api/v1/stats?patient=${patientParam}&drug=${drugParam}`, { headers: { Authorization: localStorage.getItem('user') } });\n        const getBatchResponse = axios.get(`/api/v1/batchstat?patient=${patientParam}&drug=${drugParam}`, { headers: { Authorization: localStorage.getItem('user') } });\n\n        Promise.all([getBatchResponse, getModelResponse]).then((response) => {\n            this.parseData(response);\n        });\n    }\n\n    parseData(response) {\n        this.setState({\n            data: response[1].data,\n            batchData: response[0].data,\n        });\n        // if the dataset id is not 7 then table header won't include Link and Row Number.\n        const { data } = this.state;\n        if (data[0] && data[0].dataset_id !== 7) {\n            this.setState({\n                tableHeader: ['Patient', 'Model', 'Drug',\n                    'mRECIST', 'Best Average Response', 'Slope', 'AUC', 'Survival (Days)'],\n            });\n        }\n    }\n\n    createTable() {\n        // this will create the table data (each row for corresponding data).\n        const { data } = this.state;\n        // this will create newData array of objects for the table.\n        const newData = [];\n        let total = 0;\n        let drugValue = '';\n        let modelValue = '';\n\n        data.forEach((eachdata) => {\n            if (newData.length === 0 || drugValue !== eachdata.drug_name || modelValue !== eachdata.model) {\n                newData.push({});\n                drugValue = eachdata.drug_name;\n                modelValue = eachdata.model;\n                newData[total].model = modelValue;\n                newData[total].drug = drugValue;\n                newData[total].patient = eachdata.patient;\n                newData[total].link = eachdata.link;\n                newData[total].row = eachdata.row;\n                total += 1;\n            }\n            newData[total - 1][eachdata.response_type === 'best.average.response' ? 'bar' : eachdata.response_type] = eachdata.value;\n        });\n\n        // creating each table row.\n        const createTableRow = (eachdata, index) => {\n            const {\n                patient, model, drug,\n                bar, mRECIST, slope, AUC,\n                survival, link, row,\n            } = eachdata;\n\n            // will not return anything if there is no data.\n            const checkData = (val) => {\n                let tableData = '';\n                if (val && val === link) {\n                    tableData = <td style={{ minWidth: 150 }}><a href={val} target=\"_blank\" rel=\"noopener noreferrer\">Google-Sheet</a></td>;\n                } else if (val && val === row) {\n                    tableData = <td>{val}</td>;\n                } else {\n                    tableData = null;\n                }\n                return tableData;\n            };\n\n            const dataRow = (\n                <tr key={index} className={`responsetable_${model.replace(/\\./g, '_')}`}>\n                    <td>{patient}</td>\n                    <td>{model}</td>\n                    <td>{drug}</td>\n                    <td>{mRECIST}</td>\n                    <td>{bar}</td>\n                    <td>{slope}</td>\n                    <td>{AUC}</td>\n                    <td>{survival}</td>\n                    {checkData(link)}\n                    {checkData(row)}\n                </tr>\n            );\n\n            return dataRow;\n        };\n\n        // create the table.\n        const table = newData.map((eachdata, index) => (\n            createTableRow(eachdata, index)\n        ));\n\n        return table;\n    }\n\n    createTableHeader() {\n        // create the header for the table.\n        const { tableHeader } = this.state;\n        const header = tableHeader.map((key, index) => <th key={index}>{key}</th>);\n        return header;\n    }\n\n    render() {\n        const { batchData } = this.state;\n        return (\n            <>\n                <BatchStatTable data={batchData} />\n                <div className=\"curve-wrapper\" style={{ marginTop: '0px', padding: '30px 0px' }}>\n                    <h1 id=\"titlemodel\">Statistics (Model Response)</h1>\n                    <StyleTable>\n                        <table id=\"stats-table\">\n                            <tbody>\n                                <tr>{this.createTableHeader()}</tr>\n                                {this.createTable()}\n                            </tbody>\n                        </table>\n                    </StyleTable>\n                </div>\n            </>\n        );\n    }\n}\n\nStatTable.propTypes = {\n    patientParam: PropTypes.string.isRequired,\n    drugParam: PropTypes.string.isRequired,\n};\n\n\nexport default StatTable;\n","/* eslint-disable max-len */\n/* eslint-disable no-shadow */\n/* eslint-disable func-names */\n/* eslint-disable no-extend-native */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-plusplus */\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\nimport StatTable from '../ResponseStat/ModelResponseStatTable';\n\n// this will initialize a tooltip.\nconst initializeToolTop = () => d3.select('.wrapper')\n    .append('div')\n    .style('position', 'absolute')\n    .style('visibility', 'hidden')\n    .style('border', 'solid')\n    .style('border-width', '1px')\n    .style('border-radius', '5px')\n    .style('padding', '5px')\n    .style('max-width', '250px')\n    .style('max-height', '180px')\n    .attr('top', 10)\n    .attr('left', 20);\n\n// this function will append the data to the tooltip.\nconst createToolTip = (d, type, tooltip) => {\n    // tooltip on mousever setting the div to visible.\n    tooltip\n        .style('visibility', 'visible');\n\n    // tooltip grabbing event.pageX and event.pageY\n    // and set color according to the ordinal scale.\n    const tooltipDiv = tooltip\n        .style('left', `${d3.event.pageX + 10}px`)\n        .style('top', `${d3.event.pageY + 10}px`)\n        .style('color', '#000000')\n        .style('background-color', '#ffffff');\n\n    // tooltip data.\n    let tooltipData = [];\n    if (type === 'line') {\n        tooltipData = [\n            `Model: ${d.model}`, `Drug: ${d.drug}`, `Type: ${d.exp_type}`, `Batch: ${d.batch}`,\n        ];\n    } else if (type === 'dot') {\n        tooltipData = [\n            `Time: ${d.time} days`, `Volume: ${d.volume} mm`,\n        ];\n    }\n    // append the data.\n    tooltipDiv.selectAll('textDiv')\n        .data(tooltipData)\n        .enter()\n        .append('div')\n        .attr('id', 'tooltiptext')\n        .html((d) => {\n            const data = d.split(':');\n            return `<b>${data[0]}</b>: ${data[1]}`;\n        })\n        .attr('x', `${d3.event.pageX + 10}px`)\n        .attr('y', (d, i) => (`${d3.event.pageY + 10 + i * 10}px`));\n};\n\n// calculating the min max volume and time.\nconst calculateMinMax = (data) => {\n    // calculating max time, min/max volumes of all data\n    const maxTimeArray = [];\n    const minVolArray = [];\n    const maxVolArray = [];\n    const maxVolNormArray = [];\n    const minVolNormArray = [];\n\n    // looping through data to get max and min array.\n    for (let i = 0; i < data.length; i++) {\n        maxTimeArray.push(d3.max(data[i].pdx_points[0].times));\n        minVolArray.push(d3.min(data[i].pdx_points[0].volumes));\n        maxVolArray.push(d3.max(data[i].pdx_points[0].volumes));\n        maxVolNormArray.push(d3.max(data[i].pdx_points[0].volume_normals));\n        minVolNormArray.push(d3.min(data[i].pdx_points[0].volume_normals));\n    }\n\n    // max and min value.\n    const maxTime = Math.max.apply(null, maxTimeArray);\n    const minVolume = Math.min.apply(null, minVolArray);\n    const maxVolume = Math.max.apply(null, maxVolArray);\n    const maxVolNorm = Math.max.apply(null, maxVolNormArray);\n    const minVolNorm = Math.min.apply(null, minVolNormArray);\n\n    return {\n        maxTime, minVolume, maxVolume, maxVolNorm, minVolNorm,\n    };\n};\n\n// this function will return all the unqiue time points for control and treatment.\nconst getUnionOfTimepoints = (data) => {\n    let control = [];\n    let treatment = [];\n\n    for (let i = 0; i < data.length; i++) {\n        if (data[i].exp_type === 'control') {\n            const time = data[i].pdx_points[0].times;\n            control = [...control, ...time];\n        } else if (data[i].exp_type === 'treatment') {\n            const time = data[i].pdx_points[0].times;\n            treatment = [...treatment, ...time];\n        }\n    }\n\n    // unique sorted list of time points.\n    const uniqueControl = [...new Set(control)].sort((a, b) => a - b);\n    const uniqueTreatment = [...new Set(treatment)].sort((a, b) => a - b);\n\n    // return the list.\n    return [uniqueControl, uniqueTreatment];\n};\n\n// to calculate new mean volume object.\nconst volumeObject = (i, oldVolume, oldTime, volume, timeUnionData) => {\n    const newVolume = volume;\n    let z = i;\n    timeUnionData.forEach((time) => {\n        if ((time === oldTime[z]) && !newVolume[time]) {\n            newVolume[time] = {};\n            newVolume[time].totalVolume = oldVolume[z];\n            newVolume[time].number = 1;\n            newVolume[time].minVol = oldVolume[z];\n            newVolume[time].maxVol = oldVolume[z];\n            newVolume[time].volume = [];\n            newVolume[time].volume.push(oldVolume[z]);\n            z++;\n        } else if ((time === oldTime[z]) && newVolume[time]) {\n            newVolume[time].totalVolume += oldVolume[z];\n            newVolume[time].number += 1;\n            newVolume[time].minVol = newVolume[time].minVol > oldVolume[z] ? oldVolume[z] : newVolume[time].minVol;\n            newVolume[time].maxVol = newVolume[time].maxVol < oldVolume[z] ? oldVolume[z] : newVolume[time].maxVol;\n            newVolume[time].volume.push(oldVolume[z]);\n            z++;\n        } else if (oldTime[z]) {\n            const current = oldVolume[z - 1] + ((oldVolume[z] - oldVolume[z - 1]) / (oldTime[z] - oldTime[z - 1])) * (time - oldTime[z - 1]);\n            if (!newVolume[time]) {\n                newVolume[time] = {};\n                newVolume[time].totalVolume = 0;\n                newVolume[time].minVol = 10000;\n                newVolume[time].maxVol = 0;\n                newVolume[time].volume = [];\n            }\n            newVolume[time].totalVolume += current;\n            newVolume[time].number = newVolume[time].number ? newVolume[time].number + 1 : 1;\n            newVolume[time].minVol = newVolume[time].minVol > current ? current : newVolume[time].minVol;\n            newVolume[time].maxVol = newVolume[time].maxVol < current ? current : newVolume[time].maxVol;\n            newVolume[time].volume.push(current);\n        }\n    });\n};\n\n// to calculate mean volume, standard error.\nconst meanVolumeError = (newVolume, isErrorBar, exptype, data) => {\n    // calculating the number of controls/treatments.\n    let control = 0;\n    let treatment = 0;\n    data.forEach((val) => {\n        if (val.exp_type === 'control') {\n            control += 1;\n        } else {\n            treatment += 1;\n        }\n    });\n    const typeNumber = exptype === 'control' ? control : treatment;\n\n    // median volume.\n    // meanVolume = Object.keys(newVolume).map((element) => (d3.deviation(newVolume[element].volume) / (newVolume[element].volume.length)));\n    const meanVolume = [];\n    const yStandardError = [];\n    const times = [];\n    let isvolumePointsMoreThanTwo = false;\n    Object.keys(newVolume).forEach((element) => {\n        isvolumePointsMoreThanTwo = newVolume[element].volume.length > 1;\n        if (isvolumePointsMoreThanTwo || (isErrorBar && typeNumber === 1)) {\n            // volume.\n            meanVolume.push(d3.mean(newVolume[element].volume));\n            // standard error.\n            const deviation = d3.deviation(newVolume[element].volume);\n            const error = Math.sqrt(newVolume[element].volume.length - 1);\n            yStandardError.push(deviation / error);\n            // time.\n            times.push(element);\n        }\n    });\n\n    return [\n        meanVolume,\n        yStandardError,\n        times,\n        typeNumber,\n    ];\n};\n\n// plotting the error bars.\nconst plotErrorBars = (exp, times, newVolume, meanVolume, svg, xrange, yrange, yStandardError) => {\n    const errorBars = svg.append('g')\n        .attr('id', 'errorBars');\n\n    const errorMidBar = errorBars.selectAll('line.error')\n        .data(times);\n\n    errorMidBar.enter()\n        .append('line')\n        .attr('class', 'error')\n        .attr('stroke', () => {\n            if (exp === 'control') {\n                return '#cd5686';\n            }\n            return '#5974c4';\n        })\n        .attr('stroke-width', 2)\n        .attr('x1', (d) => xrange(d))\n        .attr('x2', (d) => xrange(d))\n        .attr('y1', (d, i) => yrange(meanVolume[i] + yStandardError[i]))\n        .attr('y2', (d, i) => yrange(meanVolume[i] - yStandardError[i]));\n\n    const errorTopBar = errorBars.selectAll('line.errorTop')\n        .data(times);\n\n    errorTopBar.enter()\n        .append('line')\n        .attr('class', 'errorTop')\n        .attr('stroke', () => {\n            if (exp === 'control') {\n                return '#cd5686';\n            }\n            return '#5974c4';\n        })\n        .attr('stroke-width', 2)\n        .attr('x1', (d) => xrange(d) - 4)\n        .attr('x2', (d) => xrange(d) + 4)\n        .attr('y1', (d, i) => yrange(meanVolume[i] + yStandardError[i]))\n        .attr('y2', (d, i) => yrange(meanVolume[i] + yStandardError[i]));\n\n    const errorBotBar = errorBars.selectAll('line.errorBot')\n        .data(times);\n\n    errorBotBar.enter()\n        .append('line')\n        .attr('class', 'errorBot')\n        .attr('stroke', () => {\n            if (exp === 'control') {\n                return '#cd5686';\n            }\n            return '#5974c4';\n        })\n        .attr('stroke-width', 2)\n        .attr('x1', (d) => xrange(d) - 4)\n        .attr('x2', (d) => xrange(d) + 4)\n        .attr('y1', (d, i) => yrange(meanVolume[i] - yStandardError[i]))\n        .attr('y2', (d, i) => yrange(meanVolume[i] - yStandardError[i]));\n};\n\n// setting up the svg and axis.\nconst tumorCurve = (data, plotId, minmax) => {\n    // expression types.\n    const expTypes = ['control', 'treatment'];\n\n    // positioning variables\n    const width = 970;\n    const height = 500;\n    const margin = {\n        top: 50,\n        right: 260,\n        bottom: 250,\n        left: 130,\n    };\n\n    // make the svg element\n    const svg = d3.select('#svg-curve')\n        .append('svg')\n        .attr('id', `pdx${plotId}`)\n        .attr('xmlns', 'http://www.w3.org/2000/svg')\n        .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink')\n        .attr('width', width + margin.left + margin.right)\n        .attr('height', height + margin.top + margin.bottom)\n        .append('g')\n        .attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // legend\n    const legend = svg.selectAll('.legend')\n        .data(expTypes)\n        .enter();\n\n    legend.append('circle')\n        .attr('id', (d, i) => `legend-dot-${expTypes[i]}`)\n        .attr('class', 'legend')\n        .attr('r', 5)\n        .attr('fill', (d, i) => {\n            if (expTypes[i] === 'control') {\n                return '#cd5686';\n            }\n            return '#5974c4';\n        })\n        .attr('cx', width + 30)\n        .attr('cy', (d, i) => height / 2 - 50 + (i * 50));\n\n    legend.append('text')\n        .attr('id', (d, i) => `legend-text-${expTypes[i]}`)\n        .attr('class', 'legend')\n        .attr('fill', 'black')\n        .style('font-size', '16px')\n        .attr('x', width + 40)\n        .attr('y', (d, i) => height / 2 - 45 + (i * 50))\n        .text((d, i) => expTypes[i]);\n\n\n    // set domain and range scaling\n    const xrange = d3.scaleLinear()\n        .domain([0, minmax.maxTime])\n        .range([0, width])\n        .nice();\n\n    const yrange = d3.scaleLinear()\n        .domain([0, minmax.maxVolume])\n        .range([height, 0])\n        .nice();\n\n    // set axes for graph\n    const xAxis = d3.axisBottom()\n        .scale(xrange)\n        .tickPadding(2);\n\n    const yAxis = d3.axisLeft()\n        .scale(yrange)\n        .tickPadding(2);\n\n    // Add the X Axis\n    svg.append('g')\n        .attr('class', 'x axis')\n        .attr('transform', `translate(0,${yrange(0)})`)\n        .attr('fill', 'none')\n        .attr('stroke', 'black')\n        .attr('stroke-width', 1)\n        .call(xAxis);\n\n    // X axis label\n    svg.append('text')\n        .attr('text-anchor', 'middle')\n        .attr('fill', 'black')\n        .attr('transform', `translate(${width / 2},${height + 40})`)\n        .text('Time (days)');\n\n    // Add the Y Axis\n    const yAxisAdd = svg.append('g')\n        .attr('class', 'y axis')\n        .attr('fill', 'none')\n        .attr('stroke', 'black')\n        .attr('stroke-width', 1)\n        .call(yAxis);\n\n    // Y axis label\n    svg.append('text')\n        .attr('text-anchor', 'middle')\n        .attr('fill', 'black')\n        .attr('transform', `translate(${-60},${height / 2})rotate(-90)`)\n        .text('Volume (mm)');\n\n    // remove strokes for all ticks\n    svg.selectAll('.tick').select('text')\n        .attr('fill', 'black')\n        .attr('stroke', 'none')\n        .attr('font-size', '14px');\n\n    const graph = svg.append('g')\n        .attr('id', 'curves');\n\n    return {\n        graph, xrange, yrange, width, height, svg,\n    };\n};\n\n// plot the mean of each experiment type (control, treatment)\nconst plotMeans = (data, svg, xrange, yrange, isNormal, isErrorBar, isPlotMean) => {\n    // calling getUnionOfTimepoints to get all the timepoints.\n    const timeUnion = getUnionOfTimepoints(data);\n    let expTypes = [];\n    const { batch } = data[0]; // there are no batches.\n\n    // if there is no control\n    if (timeUnion[0].length === 0) {\n        expTypes = ['treatment'];\n        timeUnion.shift();\n    } else if (timeUnion[1].length === 0) { // no treatment\n        expTypes = ['control'];\n        timeUnion.pop();\n    } else {\n        expTypes = ['control', 'treatment'];\n    }\n\n    // object of the volume with number of occurences(control/treatment).\n    const newVolumeControl = {};\n    const newVolumeTreatment = {};\n\n    data.forEach((val) => {\n        const z = 0;\n        const oldVolume = isNormal ? val.pdx_points[0].volume_normals : val.pdx_points[0].volumes;\n        const oldTime = val.pdx_points[0].times;\n        const newVolume = val.exp_type === 'control' ? newVolumeControl : newVolumeTreatment;\n        const timeUnionData = val.exp_type === 'control' ? timeUnion[0] : timeUnion[1];\n        // calling function to create a new volume object.\n        volumeObject(z, oldVolume, oldTime, newVolume, timeUnionData);\n    });\n\n    for (let n = 0; n < expTypes.length; n++) {\n        const exp = expTypes[n];\n        // assigining the volume based on the control or treatment.\n        const newVolume = expTypes[n] === 'control' ? newVolumeControl : newVolumeTreatment;\n\n        // calulating mean volume, standard error and times.\n        const [meanVolume, yStandardError, times, number] = meanVolumeError(newVolume, isErrorBar, expTypes[n], data);\n\n        // plot mean charts.\n        if (isPlotMean) {\n            // mean svg\n            const meanSvg = svg.append('g')\n                .attr('id', `mean_${expTypes[n]}`);\n\n            const meanDots = meanSvg.selectAll('.mean-dot')\n                .data(meanVolume)\n                .enter();\n\n            meanDots.append('circle')\n                .attr('id', `mean-dot-${expTypes[n]}-${batch}`)\n                .attr('class', `mean-dot ${batch}`)\n                .attr('r', 4)\n                .attr('fill', () => {\n                    if (expTypes[n] === 'control') {\n                        return '#cd5686';\n                    }\n                    return '#5974c4';\n                })\n                .attr('cx', (d, i) => xrange(times[i]))\n                .attr('cy', (d, i) => yrange(meanVolume[i]));\n\n            const meanPath = meanSvg.selectAll('.mean-path')\n                .data(meanVolume)\n                .enter();\n\n\n            const linepath = d3.line()\n                .x((d, i) => xrange(timeUnion[n][i]))\n                .y((d, i) => yrange(meanVolume[i]));\n\n            meanPath.append('path')\n                .attr('id', `mean-path-${expTypes[n]}-${batch}`)\n                .attr('class', `mean-path ${batch}`)\n                .attr('d', linepath(meanVolume))\n                .attr('fill', 'none')\n                .style('opacity', 0.2)\n                .attr('stroke', () => {\n                    if (expTypes[n] === 'control') {\n                        return '#cd5686';\n                    }\n                    return '#5974c4';\n                })\n                .attr('stroke-width', 2);\n        }\n\n        // plot error bars\n        if (isErrorBar && number > 1) {\n            plotErrorBars(exp, times, newVolume, meanVolume, svg, xrange, yrange, yStandardError);\n        }\n    }\n};\n\nconst plotBatch = (data, graph, xrange, yrange, tooltip, norm) => {\n    // to replace all the periods with dashes because dots interfere with classes\n    const models = graph.selectAll('g.model')\n        .data(data)\n        .enter()\n        .append('g')\n        .attr('class', 'model');\n\n    const paths = graph.selectAll('.model-path')\n        .data(() => data)\n        .enter();\n\n\n    // line function, to join dots\n    const linepath = d3.line()\n        .x((d) => xrange(d.time))\n        .y((d) => {\n            if (norm) {\n                return yrange(d.volume_normal);\n            }\n            return yrange(d.volume);\n        });\n\n    // creating line.\n    const createLine = (stroke, opacity, color = '#cd5686') => (\n        paths.append('path')\n            .attr('id', (d) => `path-${d.model.replace(/\\./g, ' ').replace(/\\s/g, '-')}`)\n            .attr('class', (d) => `model-path_${d.exp_type}`)\n            .attr('d', (d) => linepath(d.pdx_json))\n            .attr('fill', 'none')\n            .style('opacity', opacity)\n            .attr('stroke', (d) => {\n                if (color === 'white') {\n                    return color;\n                }\n                if (d.exp_type === 'control') {\n                    return '#cd5686';\n                }\n                return '#5974c4';\n            })\n            .attr('stroke-width', stroke)\n    );\n\n    // selecting and unselecting the table data.\n    const tableSelect = (d, stroke, opacity, tcolor, tback, acolor, aback) => {\n        d3.select(`#path-${d.model.replace(/\\./g, ' ').replace(/\\s/g, '-')}`)\n            .attr('stroke-width', stroke)\n            .style('opacity', opacity);\n        d3.selectAll(`.responsetable_${d.model.replace(/\\./g, '_')}`)\n            .selectAll('td')\n            .style('color', tcolor)\n            .style('background', tback);\n        d3.selectAll(`.responsetable_${d.model.replace(/\\./g, '_')}`)\n            .selectAll('a')\n            .style('color', acolor)\n            .style('background', aback);\n    };\n\n    // add line\n    createLine(3, 0.7)\n        .attr('stroke-dasharray', ('3', '3'));\n\n    // create a white line to let user hover over with opacity 0 and event listeners.\n    createLine(4, 0, 'white')\n        .on('mouseover', (d) => {\n            // creating tooltip.\n            createToolTip(d, 'line', tooltip);\n            // changing attributes of the line on mouseover.\n            tableSelect(d, 5, 1.0, '#f5f5f5', '#5974c4', '#f5f5f5', '#5974c4');\n        })\n        .on('mouseout', (d) => {\n            // remove all the divs with id tooltiptext.\n            d3.selectAll('#tooltiptext').remove();\n            // tooltip on mousever setting the div to hidden.\n            tooltip\n                .style('visibility', 'hidden');\n            // changing attributes back to normal of the line on mouseout.\n            if (!(d3.select(`#path-${d.model.replace(/\\./g, ' ').replace(/\\s/g, '-')}`).classed('selected'))) {\n                tableSelect(d, 3, 0.7, '#cd5686', 'white', '#5974c4', 'white');\n            }\n        })\n        .on('click', (d) => {\n            d3.event.preventDefault();\n            let selectedCurve = false;\n            const selection = d3.select(`#path-${d.model.replace(/\\./g, ' ').replace(/\\s/g, '-')}`);\n            // select all the path elements and deselect them.\n            // multiple selections in case of ctrl or command key.\n            if (!(d3.event.ctrlKey || d3.event.metaKey)) {\n                d3.selectAll('path').nodes().forEach((val) => {\n                    if (val.attributes[5] && val.style.opacity !== '0' && val.classList.contains('selected')) {\n                        val.attributes[5].value = 3;\n                        val.style.opacity = 0.7;\n                        const previousSelection = d3.select(`.${val.classList[0]}`);\n                        const model = previousSelection.data()[0];\n                        previousSelection.classed('selected', false);\n                        tableSelect(model, 3, 0.7, '#cd5686', 'white', '#5974c4', 'white');\n                        if (val.classList[0] === selection.attr('class')) {\n                            selectedCurve = true;\n                        }\n                    }\n                });\n            }\n\n            // highlight and classed according to selection.\n            if (!(selection.classed('selected')) && !selectedCurve) {\n                selection.classed('selected', true);\n                tableSelect(d, 5, 1.0, '#f5f5f5', '#5974c4', '#f5f5f5', '#5974c4');\n            } else if (selection.classed('selected')) {\n                selection.classed('selected', false);\n                tableSelect(d, 3, 0.7, '#cd5686', 'white', '#5974c4', 'white');\n            }\n        });\n\n    // plotting the dots\n    const dots = models.selectAll('.model-dot')\n        .data((d) => d.pdx_json)\n        .enter();\n\n    // appends dots.\n    dots.append('circle')\n        .attr('id', (d, i) => `dot-${d.model.replace(/\\./g, ' ').replace(/\\s/g, '-')}-${\n            d.exp_type}${i}`)\n        .attr('class', (d) => `model-dot_${d.exp_type}`)\n        .attr('r', 4)\n        .attr('fill', (d) => {\n            if (d.exp_type === 'control') {\n                return '#cd5686';\n            }\n            return '#5974c4';\n        })\n        .style('opacity', 1.0)\n        .attr('cx', (d) => xrange(d.time))\n        .attr('cy', (d) => {\n            if (norm) {\n                return yrange(d.volume_normal);\n            }\n            return yrange(d.volume);\n        })\n        .on('mouseover', (d) => {\n            // create tooltip.\n            createToolTip(d, 'dot', tooltip);\n        })\n        .on('mouseout', () => {\n            // remove all the divs with id tooltiptext.\n            d3.selectAll('#tooltiptext').remove();\n            // tooltip on mousever setting the div to hidden.\n            tooltip\n                .style('visibility', 'hidden');\n        });\n\n    // calling plotMeans to plot the mean function.\n    plotMeans(data, graph, xrange, yrange, norm, false, true);\n};\n\n// toggle to show each model\nconst volumeToggle = (data, svg, xrange, width, height, maxVolume, maxVolNorm, minVolNorm, tooltip) => {\n    const toggleValues = ['allCurves', 'allCurvesText', 'errorBar', 'errorBarText', 'volRaw', 'volNorm', 'volRawText', 'volNormText'];\n    let isNormalized = false;\n    let isErrorBar = false;\n\n    // to create the rectangle and\n    function createReactangle(additionalHeight, color, id, val, text, extraWidth, extraHeight) {\n        let rect = '';\n        switch (val) {\n        case 'volRaw':\n        case 'volNorm':\n        case 'errorBar':\n        case 'allCurves':\n            rect = svg.append('rect')\n                .attr('x', width + 25)\n                .attr('y', height / 2 + additionalHeight)\n                .attr('width', 70)\n                .attr('height', 20)\n                .attr('fill', color)\n                .style('opacity', 0.8)\n                .attr('id', id);\n            break;\n        case 'volRawText':\n        case 'volNormText':\n        case 'errorBarText':\n        case 'allCurvesText':\n            rect = svg.append('text')\n                .attr('fill', 'black')\n                .style('font-size', '12px')\n                .attr('text-anchor', val === 'volRawText' ? 'middle' : 'null')\n                .attr('id', id)\n                .attr('x', width + extraWidth)\n                .attr('y', height / 2 + extraHeight)\n                .text(text);\n            break;\n        default:\n            console.log('It\\'s not available');\n        }\n        return rect;\n    }\n\n    function calcMinMax(isNormalized, minVolNorm, maxVolNorm, maxVolume) {\n        let minimum = 0;\n        let maximum = 0;\n\n        if (isNormalized) {\n            minimum = minVolNorm - 1;\n            maximum = maxVolNorm + 1;\n        } else {\n            minimum = 0;\n            maximum = maxVolume;\n        }\n\n        return [minimum, maximum];\n    }\n\n    function checkIfNormalized(val) {\n        let isNormalized = false;\n        // checks if it's normalized data or not.\n        if (val.match(/(volNorm|volNormText)/g)) {\n            isNormalized = true;\n        }\n        return isNormalized;\n    }\n\n    function calculateNormalizedRange(isNormalized, minVolNorm, maxVolNorm, maxVolume) {\n        // min and max value for thee scale.\n        const [minimum, maximum] = calcMinMax(isNormalized, minVolNorm, maxVolNorm, maxVolume);\n        // scale for y-axis.\n        const yrange = d3.scaleLinear()\n            .domain([minimum, maximum])\n            .range([height, 0])\n            .nice();\n\n        return yrange;\n    }\n\n    toggleValues.forEach((val) => {\n        // setting the initial variables.\n        let additionalHeight = 50;\n        let color = '#cd5686';\n        let id = '';\n        let rawToggle = '#5974c4';\n        let normToggle = 'lightgray';\n        let allToggle = '#cd5686';\n        let errorToggle = 'lightgray';\n        let minimum = 0;\n        let maximum = maxVolume;\n        let text = '';\n        let extraWidth = 29;\n        let extraHeight = 84;\n        let rect = '';\n\n        // switching based on the toggle value.\n        switch (val) {\n        case 'errorBar':\n        case 'errorBarText':\n            additionalHeight = 70;\n            color = 'lightgray';\n            id = val === 'errorBar' ? 'errorBar' : 'errorBarText';\n            text = val === 'errorBarText' ? 'ErrorBars' : '';\n            extraWidth = 34;\n            allToggle = 'lightgray';\n            errorToggle = '#cd5686';\n            break;\n\n        case 'allCurves':\n            id = 'allCurves';\n            break;\n\n        case 'allCurvesText':\n            id = 'allCurvesText';\n            text = 'All Curves';\n            extraWidth = 32;\n            extraHeight = 64;\n            break;\n\n        case 'volRaw':\n            additionalHeight = 120;\n            id = 'volRawToggle';\n            color = '#5974c4';\n            break;\n\n        case 'volRawText':\n            id = 'volRawText';\n            text = 'Raw';\n            extraWidth = 60;\n            extraHeight = 134;\n            break;\n\n        case 'volNorm':\n            additionalHeight = 141;\n            id = 'volNormToggle';\n            color = 'lightgray';\n            minimum = minVolNorm - 1;\n            maximum = maxVolNorm + 1;\n            rawToggle = 'lightgray';\n            normToggle = '#5974c4';\n            break;\n\n        case 'volNormText':\n            id = 'volNormText';\n            text = 'Normalized';\n            extraWidth = 28;\n            extraHeight = 155;\n            minimum = minVolNorm - 1;\n            maximum = maxVolNorm + 1;\n            rawToggle = 'lightgray';\n            normToggle = '#5974c4';\n            break;\n\n        default:\n            id = 'Looking for what??';\n        }\n\n        // create rectangles/toggle bars.\n        rect = createReactangle(additionalHeight, color, id, val, text, extraWidth, extraHeight);\n\n        // on click handler.\n        rect.on('click', () => {\n            // y range variable.\n            let yrange = calculateNormalizedRange(isNormalized, minVolNorm, maxVolNorm, maxVolume);\n            // conditioning.\n            if (val.match(/(allCurves|allCurvesText|errorBar|errorBarText)/g)) {\n                // if error bar selection the set the variable.\n                if (val.match(/(errorBar|errorBarText)/g)) {\n                    isErrorBar = true;\n                } else {\n                    isErrorBar = false;\n                }\n                // unselect the data from the table.\n                d3.selectAll('tr').nodes().forEach((val) => {\n                    if (val.className) {\n                        d3.select(`.${val.className}`)\n                            .selectAll('td')\n                            .style('color', '#cd5686')\n                            .style('background', 'white');\n                        d3.select(`.${val.className}`)\n                            .selectAll('a')\n                            .style('color', '#5974c4')\n                            .style('background', 'white');\n                    }\n                });\n                // changing toggle color.\n                d3.select('#errorBar').attr('fill', errorToggle);\n                d3.select('#allCurves').attr('fill', allToggle);\n            } else {\n                // normlized or not.\n                isNormalized = checkIfNormalized(val);\n                // y range.\n                yrange = calculateNormalizedRange(isNormalized, minVolNorm, maxVolNorm, maxVolume);\n                // create axis/modify the axis.\n                const yAxis = d3.axisLeft()\n                    .scale(yrange)\n                    .tickPadding(2);\n                // calling to make the axis.\n                d3.selectAll('g.y.axis').call(yAxis);\n                // setting ticks.\n                svg.selectAll('.tick').select('text')\n                    .attr('fill', 'black')\n                    .attr('stroke', 'none')\n                    .attr('font-size', '14px');\n                // changing toggle color.\n                d3.select('#volRawToggle').attr('fill', rawToggle);\n                d3.select('#volNormToggle').attr('fill', normToggle);\n            }\n            // removing the other curve.\n            d3.select('#curves').remove();\n            // creeating new svg for the curve/graph.\n            const graph = svg.append('g')\n                .attr('id', 'curves');\n            // plot the toggle curve.\n            if (isErrorBar) {\n                plotMeans(data, graph, xrange, yrange, isNormalized, true, true);\n            } else {\n                plotBatch(data, graph, xrange, yrange, tooltip, isNormalized);\n            }\n        });\n    });\n};\n\n\n// main function to plot the growth curve.\nconst TumorGrowthCurve = (props) => {\n    const { patientParam, drugParam, data } = props;\n    const plotId = 'plot';\n\n    // function will be triggered once the component is mounted/updated.\n    useEffect(() => {\n        const tooltip = initializeToolTop();\n        // calling function to grab the min max values.\n        const minmax = calculateMinMax(data);\n        // calling tumorCurve function passing the data, PlotID and node reference.\n        const curve = tumorCurve(data, plotId, minmax);\n        // plot each model\n        plotBatch(data, curve.graph, curve.xrange, curve.yrange, tooltip, false);\n        // toggle legend buttons.\n        volumeToggle(data, curve.svg, curve.xrange, curve.width, curve.height, minmax.maxVolume, minmax.maxVolNorm, minmax.minVolNorm, tooltip);\n    });\n\n\n    return (\n        <div>\n            <TopNav />\n            <GlobalStyles />\n            <div className=\"wrapper\" style={{ margin: 'auto', fontSize: '16px' }}>\n\n                <div className=\"curve-wrapper\" style={{ marginTop: '100px' }}>\n                    <h1>\n                            Drug ID =\n                        {' '}\n                        <span style={{ color: '#cd5686' }}>{drugParam.replace(/\\s\\s\\s/g, ' + ').replace(/\\s\\s/g, ' + ')}</span>\n                        {' '}\n                            and Patient ID =\n                        {' '}\n                        <span style={{ color: '#cd5686' }}>{patientParam}</span>\n                    </h1>\n                    <svg id=\"svg-curve\" width={1300} height={620} />\n                </div>\n\n                <StatTable patientParam={patientParam} drugParam={drugParam} />\n\n                <div className=\"curve-wrapper\" style={{ marginTop: '20px', padding: '10px 0px' }}>\n                    <Link to=\"/datasets\"> &nbsp;&nbsp;Back to Datasets </Link>\n                </div>\n\n            </div>\n        </div>\n    );\n};\n\n\nTumorGrowthCurve.propTypes = {\n    patientParam: PropTypes.string.isRequired,\n    drugParam: PropTypes.string.isRequired,\n    data: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\n\nexport default TumorGrowthCurve;\n","/* eslint-disable radix */\n/* eslint-disable no-extend-native */\n/* eslint-disable no-plusplus */\nimport React from 'react';\nimport axios from 'axios';\nimport TumorGrowthCurve from './TumorGrowthCurve';\n\nclass GrowthCurveData extends React.Component {\n    constructor(props) {\n        super(props);\n        // setting states.\n        this.state = {\n            dataFormatted: [],\n            patientParam: '',\n            drugParam: '',\n        };\n        // binding the function declarations.\n        this.dataParse = this.dataParse.bind(this);\n    }\n\n    // get the parameters and set the values in the variables.\n    static getDerivedStateFromProps(props) {\n        const { location } = props;\n        const params = new URLSearchParams(location.search);\n        return ({\n            patientParam: params.get('patient'),\n            drugParam: params.get('drug'),\n        });\n    }\n\n    componentDidMount() {\n        const { patientParam, drugParam } = this.state;\n        axios.get(`/api/v1/treatment?drug=${drugParam}&patient=${patientParam}`, { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                const batches = [];\n                for (let i = 0; i < response.data.length; i++) {\n                    batches.push(response.data[i].batch);\n                }\n                this.dataParse(response.data, batches[0]);\n            });\n    }\n\n    // filters by batch - comment out the batch lines for full data\n    // call this command to create a curve!!!\n    dataParse(data, batchSelect) {\n        const dataFormatted = [];\n        const batches = [];\n\n        // loop throuth the data and set the values in the variable.\n        for (let i = 0; i < data.length; i++) {\n            batches.push(data[i].batch);\n            if (data[i].batch === batchSelect) {\n                if (data[i].time === 0) {\n                    const newDatapt = {\n                        exp_type: data[i].type,\n                        batch: data[i].patient_id,\n                        model: data[i].model_id,\n                        drug: data[i].drug,\n                        pdx_points: [{\n                            times: [parseInt(data[i].time)],\n                            volumes: [parseFloat(data[i].volume)],\n                            volume_normals: [parseFloat(data[i].volume_normal)],\n                        }],\n                        pdx_json: [{\n                            model: data[i].model_id.replace(/\\./g, ' ').replace(/\\s/g, '-'),\n                            batch: data[i].patient_id,\n                            exp_type: data[i].type,\n                            time: parseInt(data[i].time),\n                            volume: parseFloat(data[i].volume),\n                            volume_normal: parseFloat(data[i].volume_normal),\n                        }],\n\n                    };\n                    dataFormatted.push(newDatapt);\n                } else if (data[i].time <= 200) {\n                    dataFormatted[dataFormatted.length - 1].pdx_points[0]\n                        .times.push(parseInt(data[i].time));\n                    dataFormatted[dataFormatted.length - 1].pdx_points[0]\n                        .volumes.push(parseFloat(data[i].volume));\n                    dataFormatted[dataFormatted.length - 1].pdx_points[0]\n                        .volume_normals.push(parseFloat(data[i].volume_normal));\n                    dataFormatted[dataFormatted.length - 1].pdx_json.push(\n                        {\n                            model: data[i].model_id,\n                            batch: data[i].patient_id,\n                            exp_type: data[i].type,\n                            time: parseInt(data[i].time),\n                            volume: parseFloat(data[i].volume),\n                            volume_normal: parseFloat(data[i].volume_normal),\n                        },\n                    );\n                }\n            }\n        }\n        this.setState({ dataFormatted });\n    }\n\n    render() {\n        const { patientParam, drugParam, dataFormatted } = this.state;\n        return (\n            <div>\n                { dataFormatted.length === 0\n                    ? <div> Loading </div>\n                    : (\n                        <TumorGrowthCurve\n                            patientParam={patientParam}\n                            drugParam={drugParam}\n                            data={dataFormatted}\n                        />\n                    )}\n            </div>\n        );\n    }\n}\n\n\nexport default GrowthCurveData;\n","import styled from 'styled-components';\n\nconst StyleBar = styled.div`\n    margin-top: 30vh;\n    font-family: 'Raleway', sans-serif;\n    display:flex;\n    margin:auto;\n    \n    .search-container {\n        max-width: 1000px;\n        text-align:center;\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        align-items: center;\n        border-radius:25px;\n        max-height: 700px;\n    }\n\n    .select-component {\n        background: rgb(255,255,255,0.8);\n        width: 45%;\n        min-width: 750px;\n        margin-top: 0px;\n        max-height: 550px;\n        display: flex;\n        flex-wrap: wrap;\n        margin: 35px;\n        padding: 10px 25px 50px 25px;\n        \n        justify-content: space-around;\n        border-radius: 20px;\n\n        .div-dataset, .div-drug {\n            max-width: 49%;\n            min-width: 295px;\n        }\n        .div-genomics, .div-gene {\n            margin: 10px;\n            min-width: 600px;\n            max-width: 70%;\n        }\n\n        .div-rnaseq {\n            text-align: left;\n            padding-left: 5px;\n            margin: 5px;\n            min-width: 600px;\n            max-width: 70%;\n            font-size: 15px;\n            color: #3453b0;\n            \n            input {\n                color: #3453b0;\n                font-size: 14px;\n                border: 1px solid #3453b0;\n                border-radius: 4px;\n                outline-style: none;\n                padding: 2px;\n                margin-left: 4px;\n            }\n        }\n\n        .div-gene-enter {\n            margin-top: 15px;\n            min-width: 620px;\n            max-height: 150px;\n            textarea {\n                min-width: 600px;\n                min-height: 120px;\n                outline-style: none;\n                border-radius: 10px;\n                color: #3453b0;\n                font-weight: 300;\n                font-size: 15px;\n                border: 1px solid #3453b0;\n                padding: 10px;\n                overflow-wrap: break-word;\n                box-sizing: border-box;\n                resize: none\n            }\n        }\n\n        .sample {\n            margin: 10px 0px 0px 15px;\n            min-width: 600px;\n            font-size: 16px;\n            text-align: left;\n            font-weight: 550;\n            a {\n                color: #3453b0;\n                text-decoration: none;\n            }\n            a:hover {\n                color: #cd5686;\n                cursor: pointer;\n            }\n            font-style: italic;\n        }\n\n    }\n\n    .two-col {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        align-items: flex-end;\n        min-width: 610px;\n        max-width: 70%;\n        margin-bottom:10px;\n    }\n\n    h1 {\n      color: #3453b0;\n      text-align: center;\n      font-size: 36px;\n    }    \n\n   @media screen and (max-width: 1700px) {\n        h1 {\n            font-size: 22px;\n        }\n        .select-component {\n            width: 55%;\n            max-height: 400px;\n            min-width: 650px;\n        }\n        .search-container {\n            max-height: 500px;\n        }\n        .div-gene-enter {\n            min-height: 100px !important;\n            margin: 10px !important;\n            textarea {\n                min-height: 100px !important;\n                max-height: 100px;\n            }\n        }\n        .div-genomics, .div-gene {\n            margin: 5px !important;\n        }\n        .sample {\n            font-size: 14px !important;\n            margin: 0px 0px -10px 10px !important;\n        }\n        .stylebutton {\n            font-size: 28px;\n            padding: 6px 10px 6px 10px;\n        }\n   }\n\n   @media screen and (max-width: 650px) {\n       h1 {\n           font-size: 18px;\n       }\n   }\n`;\n\n\nconst StyleButton = styled.button`\n    background-color: #3453b0;\n    border: none;\n    border-radius: 6px;\n    color: #ffffff;\n    padding: 10px 20px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 32px;\n    font-family: 'Raleway', sans-serif;\n    font-weight:700;\n    margin: auto;\n    transition: .3s;\n    outline-style: none;\n    margin-top: 0px;\n    &:hover {\n        opacity: 1;\n        cursor: pointer;\n        color:  #3453b0;\n        background-color: #ffffff;\n        border: 1px solid #3453b0;\n    }\n`;\n\n\nconst customStyles = {\n    placeholder: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        fontWeight: '400',\n        fontSize: '15px',\n    }),\n\n    control: (provided) => ({\n        ...provided,\n        '&:hover': { borderColor: '#3453b0' },\n        border: '1px solid #3453b0',\n        boxShadow: 'none',\n        padding: '0px 5px',\n        borderRadius: '5px',\n        background: 'rgb(255,255,255,0.7)',\n    }),\n\n    indicatorSeparator: (provided) => ({\n        ...provided,\n        background: '#3453b0',\n        '&:hover': { background: '#3453b0' },\n        height: '30px',\n    }),\n\n    dropdownIndicator: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        '&:hover': {\n            color: '#3453b0',\n            cursor: 'pointer',\n        },\n    }),\n\n    option: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        background: '#ffffff',\n        margin: '0px 0px',\n        '&:hover': {\n            background: '#fee8c8',\n        },\n        fontSize: '14px',\n        textAlign: 'left',\n    }),\n\n    singleValue: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        fontSize: '15px',\n    }),\n\n    multiValue: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        fontSize: '15px',\n    }),\n\n    input: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n    }),\n\n    clearIndicator: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        '&:hover': {\n            color: '#3453b0',\n        },\n    }),\n\n    valueContainer: (provided) => ({\n        ...provided,\n        minHeight: '10px',\n        height: '40px',\n        paddingTop: '0',\n        paddingBottom: '0',\n        overflow: 'auto',\n    }),\n};\n\n\nexport {\n    StyleBar,\n    customStyles,\n    StyleButton,\n};\n","export const GeneList = [\n    'Prostate Cancer: AR Signaling=SOX9 RAN TNK2 EP300 PXN NCOA2 AR NRIP1 NCOR1 NCOR2',\n    'Prostate Cancer: AR and steroid synthesis enzymes=AKR1C3 AR CYB5A CYP11A1 CYP11B1 CYP11B2 CYP17A1 CYP19A1 CYP21A2 HSD17B1 HSD17B10 HSD17B11 HSD17B12 HSD17B13 HSD17B14 HSD17B2 HSD17B3 HSD17B4 HSD17B6 HSD17B7 HSD17B8 HSD3B1 HSD3B2 HSD3B7 RDH5 SHBG SRD5A1 SRD5A2 SRD5A3 STAR',\n    'Prostate Cancer: Steroid inactivating genes=AKR1C1 AKR1C2 AKR1C4 CYP3A4 CYP3A43 CYP3A5 CYP3A7 UGT2B15 UGT2B17 UGT2B7',\n    'Prostate Cancer: Down-regulated by androgen=BCHE CDK8 CTBP1 ACKR3 DDC DPH1 FN1 HES6 MMP16 MYC PEG3 PIK3R3 PRKD1 SCNN1A SDC4 SERPINI1 SLC29A1 ST7 TULP4',\n    'Glioblastoma: TP53 Pathway=CDKN2A MDM2 MDM4 TP53',\n    'Glioblastoma: RTK/Ras/PI3K/AKT Signaling=EGFR ERBB2 PDGFRA MET KRAS NRAS HRAS NF1 SPRY2 FOXO1 FOXO3 AKT1 AKT2 AKT3 PIK3R1 PIK3CA PTEN',\n    'Glioblastoma: RB Pathway=CDKN2A CDKN2B CDKN2C CDK4 CDK6 CCND2 RB1',\n    'Ovarian Cancer: Oncogenes associated with epithelial ovarian cancer=RAB25 MECOM EIF5A2 PRKCI PIK3CA KIT FGF1 MYC EGFR NOTCH3 KRAS AKT1 ERBB2 PIK3R1 CCNE1 AKT2 AURKA',\n    'Ovarian Cancer: Putative tumor-suppressor genes in epithelial ovarian cancer=DIRAS3 RASSF1 DLEC1 SPARC DAB2 PLAGL1 RPS6KA2 PTEN OPCML BRCA2 ARL11 WWOX TP53 DPH1 BRCA1 PEG3',\n    'General: Cell Cycle Control=RB1 RBL1 RBL2 CCNA1 CCNB1 CDK1 CCNE1 CDK2 CDC25A CCND1 CDK4 CDK6 CCND2 CDKN2A CDKN2B MYC CDKN1A CDKN1B E2F1 E2F2 E2F3 E2F4 E2F5 E2F6 E2F7 E2F8 SRC JAK1 JAK2 STAT1 STAT2 STAT3 STAT5A STAT5B',\n    'General: p53 signaling=TP53 MDM2 MDM4 CDKN2A CDKN2B TP53BP1',\n    'General: Notch signaling=ADAM10 ADAM17 APH1A APH1B ARRDC1 CIR1 CTBP1 CTBP2 CUL1 DLL1 DLL3 DLL4 DTX1 DTX2 DTX3 DTX3L DTX4 EP300 FBXW7 HDAC1 HDAC2 HES1 HES5 HEYL ITCH JAG1 JAG2 KDM5A LFNG MAML1 MAML2 MAML3 MFNG NCOR2 NCSTN NOTCH1 NOTCH2 NOTCH3 NOTCH4 NRARP NUMB NUMBL PSEN1 PSEN2 PSENEN RBPJ RBPJL RFNG SNW1 SPEN HES2 HES4 HES7 HEY1 HEY2',\n    'General: DNA Damage Response=CHEK1 CHEK2 RAD51 BRCA1 BRCA2 MLH1 MSH2 ATM ATR MDC1 PARP1 FANCF',\n    'General: Other growth / proliferation signaling=CSF1 CSF1R IGF1 IGF1R FGF1 FGFR1 AURKA DLEC1 PLAGL1 OPCML DPH1',\n    'General: Survival / cell death regulation signaling=NFKB1 NFKB2 CHUK DIRAS3 FAS HLA-G BAD BCL2 BCL2L1 APAF1 CASP9 CASP8 CASP10 CASP3 CASP6 CASP7 GSK3B ARL11 WWOX PEG3 TGFB1 TGFBR1 TGFBR2',\n    'General: Telomere maintenance=TERC TERT',\n    'General: RTK signaling family=EGFR ERBB2 ERBB3 ERBB4 PDGFA PDGFB PDGFRA PDGFRB KIT FGF1 FGFR1 IGF1 IGF1R VEGFA VEGFB KDR',\n    'General: PI3K-AKT-mTOR signaling=PIK3CA PIK3R1 PIK3R2 PTEN PDPK1 AKT1 AKT2 FOXO1 FOXO3 MTOR RICTOR TSC1 TSC2 RHEB AKT1S1 RPTOR MLST8',\n    'General: Ras-Raf-MEK-Erk/JNK signaling=KRAS HRAS BRAF RAF1 MAP3K1 MAP3K2 MAP3K3 MAP3K4 MAP3K5 MAP2K1 MAP2K2 MAP2K3 MAP2K4 MAP2K5 MAPK1 MAPK3 MAPK4 MAPK6 MAPK7 MAPK8 MAPK9 MAPK12 MAPK14 DAB2 RASSF1 RAB25',\n    'General: Regulation of ribosomal protein synthesis and cell growth=RPS6KA1 RPS6KA2 RPS6KB1 RPS6KB2 EIF5A2 EIF4E EIF4EBP1 RPS6 HIF1A',\n    'General: Angiogenesis=VEGFA VEGFB KDR CXCL8 CXCR1 CXCR2',\n    'General: Folate transport=SLC19A1 FOLR1 FOLR2 FOLR3 IZUMO1R',\n    'General: Invasion and metastasis=MMP1 MMP2 MMP3 MMP7 MMP9 MMP10 MMP11 MMP12 MMP13 MMP14 MMP15 MMP16 MMP17 MMP19 MMP21 MMP23B MMP24 MMP25 MMP26 MMP27 MMP28 ITGB3 ITGAV PTK2 CDH1 SPARC WFDC2',\n];\n\n\nexport default {\n    GeneList,\n};\n","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable no-plusplus */\n/* eslint-disable consistent-return */\n/* eslint-disable array-callback-return */\n/* eslint-disable react/no-deprecated */\n\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport Popup from 'reactjs-popup';\nimport { StyleBar, customStyles, StyleButton } from './SearchStyle';\nimport { GeneList } from '../../util/GeneList';\n\nclass Search extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            drugs: [],\n            datasets: [],\n            genes: [],\n            selectedGeneSearch: ['Enter Gene Symbol(s)'],\n            selectedDrugs: [],\n            selectedDataset: '',\n            genomicsValue: ['All', 'Mutation', 'CNV', 'Gene Expression'],\n            selectedGenomics: [],\n            allDrugs: [],\n            threshold: 2,\n            toggleRNA: false,\n            genomics: [],\n            drugValue: [],\n            axiosConfig: {},\n        };\n        this.handleDrugChange = this.handleDrugChange.bind(this);\n        this.handleDatasetChange = this.handleDatasetChange.bind(this);\n        this.handleGeneListChange = this.handleGeneListChange.bind(this);\n        this.handleGeneSearchChange = this.handleGeneSearchChange.bind(this);\n        this.handleExpressionChange = this.handleExpressionChange.bind(this);\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.redirectUser = this.redirectUser.bind(this);\n        this.handleThreshold = this.handleThreshold.bind(this);\n        this.checkInput = this.checkInput.bind(this);\n        this.clearText = this.clearText.bind(this);\n    }\n\n\n    componentWillMount() {\n        const { genomicsValue } = this.state;\n        const genes = GeneList.map((item) => ({\n            value: item.split('=')[1].replace(/\\s/g, ','),\n            label: `${item.split('=')[0]} (${item.split('=')[1].split(' ').length})`,\n        }));\n\n        this.setState({\n            genes: [{ value: 'user defined list', label: 'User-Defined List' }, ...genes],\n        });\n\n        const genomic = genomicsValue.map((item, i) => ({\n            label: item,\n            value: i,\n        }));\n        this.setState({\n            genomicsValue: [...genomic],\n            axiosConfig: {\n                headers: {\n                    'Content-Type': 'application/json;charset=UTF-8',\n                    Accept: 'application/json',\n                },\n            },\n        });\n    }\n\n    componentDidMount() {\n        axios.get('/api/v1/datasets', { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                const datasets = response.data.data.map((item) => ({\n                    value: item.dataset_id,\n                    label: item.dataset_name,\n                }));\n                this.setState({\n                    datasets: [...datasets],\n                });\n            });\n    }\n\n\n    handleDrugChange(selectedOption) {\n        if (selectedOption !== null && selectedOption.length > 0) {\n            // destructuring the state.\n            const { drugs, allDrugs } = this.state;\n\n            // loop through the label to give the array of selectedOptions.\n            const label = selectedOption.map((value) => (value.label).replace(/\\s/g, '').replace('+', '_'));\n\n            // function to check if label array contains the All string.\n            const doesItContain = (labelVal) => {\n                let truth = false;\n                const regex = RegExp('All');\n                labelVal.map((val) => {\n                    if (regex.test(val)) {\n                        truth = true;\n                    }\n                });\n                return truth;\n            };\n\n            // if all is selected then everything except all is in the value for select.\n            if (doesItContain(label)) {\n                const data = drugs.filter((item, value) => {\n                    if (value !== 0) {\n                        return ({\n                            value,\n                            label: item.drug,\n                        });\n                    }\n                });\n                this.setState({\n                    selectedDrugs: allDrugs,\n                    drugValue: data,\n                });\n            } else { // else the selected option and label the array of drugs.\n                this.setState({\n                    selectedDrugs: label,\n                    drugValue: selectedOption,\n                });\n            } // if it's empty or null put the drugValue to be an empty array.\n        } else if (selectedOption === null || selectedOption.length === 0) {\n            this.setState({\n                drugValue: [],\n            });\n        }\n    }\n\n    // handle the dataset change and sends a post\n    // request to grab drugs based on the particular dataset.\n    handleDatasetChange(selectedOption) {\n        const { axiosConfig } = this.state;\n        this.setState({\n            selectedDataset: selectedOption.value,\n        });\n        const label = selectedOption.value;\n        let initial = 1;\n        axios.post('/api/v1/drugpatient/dataset', { label }, { headers: { Authorization: localStorage.getItem('user') } }, axiosConfig.headers)\n            .then((response) => {\n                const data = response.data.data[0].map((item) => ({\n                    value: initial++,\n                    label: item.drug,\n                }));\n                this.setState({\n                    drugs: [{ value: 'all', label: `All (${data.length})` }, ...data],\n                });\n                const drug = response.data.data[0].map((item) => (item.drug).replace(/\\s/g, '').replace('+', '_'));\n                this.setState({\n                    allDrugs: [...drug],\n                });\n            });\n    }\n\n    // sets the value of selected gene search,\n    // empty if it's user defined list else the option selected.\n    handleGeneListChange(selectedOption) {\n        if (selectedOption.value === 'user defined list') {\n            this.setState({\n                selectedGeneSearch: '',\n            });\n        } else {\n            this.setState({\n                selectedGeneSearch: selectedOption.value,\n            });\n        }\n    }\n\n    // sets the value on event change.\n    handleGeneSearchChange(event) {\n        this.setState({\n            selectedGeneSearch: event.target.value,\n        });\n    }\n\n    // this adds the value either mutation or cnv or RNASeq.\n    handleExpressionChange(selectedOption) {\n        const { genomicsValue } = this.state;\n        if (selectedOption !== null && selectedOption.length > 0) {\n            // map through the options in order to store the selected value.\n            const genomicsCurrentValue = selectedOption.map((value) => value.label);\n\n            // if all then everything will be passed else the selected value.\n            if (genomicsCurrentValue.includes('All')) {\n                const genomic = genomicsValue.filter((item, i) => {\n                    if (i !== 0) {\n                        return ({\n                            label: item,\n                            value: i,\n                        });\n                    }\n                });\n                this.setState({\n                    genomics: genomic,\n                    selectedGenomics: ['Mutation', 'CNV', 'RNASeq'],\n                });\n            } else {\n                this.setState({\n                    genomics: selectedOption,\n                    selectedGenomics: genomicsCurrentValue,\n                });\n            }\n\n            // and if it includes RNASeq or all then toggle should be true.\n            if (genomicsCurrentValue.includes('Gene Expression') || genomicsCurrentValue.includes('All')) {\n                this.setState({\n                    toggleRNA: true,\n                });\n            } else {\n                this.setState({\n                    toggleRNA: false,\n                });\n            }\n        } else if (selectedOption === null || selectedOption.length === 0) {\n            this.setState({\n                toggleRNA: false,\n                genomics: [],\n            });\n        }\n    }\n\n    // threshold for GeneExpression.\n    handleThreshold(event) {\n        this.setState({\n            threshold: event.target.value,\n        });\n    }\n\n\n    handleKeyPress(event) {\n        if (event.key === 'Enter') {\n            this.redirectUser();\n        }\n    }\n\n    // redirects the user to search page.\n    redirectUser() {\n        const {\n            selectedDataset, selectedDrugs, selectedGeneSearch,\n            selectedGenomics, threshold, genomics,\n        } = this.state;\n        // this removes spaces from gene list.\n        const formatedGeneList = selectedGeneSearch.replace(/\\s/g, '');\n        // only renders if all the data is available.\n        if ((selectedDataset !== '') && (selectedDrugs.length > 0) && (selectedGeneSearch[0] !== 'Enter Gene Symbol(s)' && selectedGeneSearch !== '') && (genomics.length > 0)) {\n            const { history } = this.props;\n            history.push(`/search/?drug=${selectedDrugs}&dataset=${selectedDataset}&genes=${formatedGeneList}&genomics=${selectedGenomics}&threshold=${threshold}`);\n        }\n    }\n\n    // check if all fields are selected.\n    checkInput() {\n        const {\n            selectedDataset, selectedDrugs, selectedGeneSearch, genomics,\n        } = this.state;\n        return ((selectedDataset !== '') && (selectedDrugs.length > 0) && (selectedGeneSearch[0] !== 'Enter Gene Symbol(s)' && selectedGeneSearch !== '') && (genomics.length > 0));\n    }\n\n    // clear the text from text area.\n    clearText() {\n        const { selectedGeneSearch } = this.state;\n        if (selectedGeneSearch[0] === 'Enter Gene Symbol(s)') {\n            this.setState({\n                selectedGeneSearch: '',\n            });\n        }\n    }\n\n\n    render() {\n        const {\n            datasets, drugs, drugValue, genomicsValue, genomics,\n            threshold, toggleRNA, genes, selectedGeneSearch,\n        } = this.state;\n        return (\n\n            <StyleBar className=\"wrapper\">\n                <div className=\"search-container\">\n                    <div className=\"select-component\" onKeyPress={this.handleKeyPress}>\n                        <h1>\n                            {' '}\n                            <span style={{ color: '#cd5686' }}>XevaDB:</span>\n                            {' '}\n                                A Database For PDX Pharmacogenomic Data\n                            {' '}\n                        </h1>\n                        <div className=\"two-col\">\n                            <div className=\"div-dataset\">\n                                <Select\n                                    options={datasets}\n                                    styles={customStyles}\n                                    placeholder=\"Select the Dataset\"\n                                    onChange={this.handleDatasetChange}\n                                />\n                            </div>\n                            <div className=\"div-drug\">\n                                <Select\n                                    options={drugs}\n                                    styles={customStyles}\n                                    placeholder=\"Search for the Drug (eg. CLR457)\"\n                                    onChange={this.handleDrugChange}\n                                    isMulti\n                                    isSearchable\n                                    isClearable\n                                    value={drugValue}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"div-genomics\">\n                            <Select\n                                options={genomicsValue}\n                                styles={customStyles}\n                                placeholder=\"Genomics\"\n                                onChange={this.handleExpressionChange}\n                                isMulti\n                                isClearable\n                                value={genomics}\n                            />\n                        </div>\n\n                        <div className=\"div-rnaseq\">\n                            {\n                                toggleRNA\n                                    ? (\n                                        <div>\n                                            Enter a z-score threshold \n                                            <input\n                                                type=\"text\"\n                                                name=\"title\"\n                                                value={threshold}\n                                                onChange={this.handleThreshold}\n                                            />\n                                        </div>\n                                    )\n                                    : null\n                            }\n                        </div>\n\n                        <div className=\"div-gene\">\n                            <Select\n                                options={genes}\n                                styles={customStyles}\n                                placeholder=\"User Defined or Pre-Defined Gene List\"\n                                onChange={this.handleGeneListChange}\n                            />\n                        </div>\n\n                        <div className=\"div-gene-enter\">\n                            <form>\n                                <textarea\n                                    type=\"text\"\n                                    value={selectedGeneSearch}\n                                    onChange={this.handleGeneSearchChange}\n                                    onClick={this.clearText}\n                                />\n                            </form>\n                        </div>\n\n                        <div className=\"sample\">\n                            <a href=\"/search/?drug=BGJ398,binimetinib,BKM120,BYL719&dataset=1&genes=SOX9,RAN,TNK2,EP300,PXN,NCOA2,AR,NRIP1,NCOR1,NCOR2&genomics=Mutation,CNV,RNASeq&threshold=2\"> Feeling Lucky? </a>\n                        </div>\n\n                        <div>\n                            {\n                                this.checkInput()\n                                    ? (\n                                        <StyleButton onClick={this.redirectUser} type=\"button\" className=\"stylebutton\">\n                                            <span>\n                                                Search\n                                            </span>\n                                        </StyleButton>\n                                    )\n                                    : (\n                                        <Popup\n                                            trigger={(\n                                                <StyleButton onClick={this.redirectUser} type=\"button\" className=\"stylebutton\">\n                                                    <span>\n                                                        Search\n                                                    </span>\n                                                </StyleButton>\n                                            )}\n                                            position=\"right center\"\n                                        >\n                                            <div style={{\n                                                color: '#3453b0', fontFamily: 'Raleway', fontSize: '17px', fontWeight: '500',\n                                            }}\n                                            >\n                                                Complete all the fields!!\n                                            </div>\n                                        </Popup>\n                                    )\n                            }\n                        </div>\n                    </div>\n                </div>\n            </StyleBar>\n        );\n    }\n}\n\n\nexport default withRouter(Search);\n","import styled from 'styled-components';\n\n\nconst Container = styled.div`\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n`;\n\nexport default Container;\n","import React from 'react';\nimport Search from '../Search/Search';\nimport CounterNav from '../CounterNav/CounterNav';\nimport Container from './HomeStyle';\n\n\nconst Home = () => (\n    <Container>\n        <Search />\n        <CounterNav />\n    </Container>\n);\n\n\nexport default Home;\n","import styled from 'styled-components';\n\n\nconst Paper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 300px;\n    width: 400px;\n    margin: auto;\n    margin-top: 20vh;\n`;\n\nconst PaperGradient = styled.div`\n    background-image: linear-gradient(\n        to right,\n        #CBC5EA,\n        #EAEAEA\n    );\n    height: 400px;\n    width: 530px;\n    border-radius: 5px;\n    margin:auto;\n`;\n\nconst SubmitStyle = styled.div`\n    margin-top: 2vh;\n`;\n\nconst LogoStyle = styled.img`\n    width:calc(5em + 2vw);\n    margin-top:2px;\n    z-index:999;\n    position: relative;\n    margin-left: calc(100vw - (3vw + 5em))\n`;\n\nconst LogoBack = styled.div`\n    background-image: linear-gradient(\n        to right,\n        #CBC5EA,\n        #EAEAEA\n    );\n`;\n\n\nexport {\n    Paper,\n    SubmitStyle,\n    LogoStyle,\n    PaperGradient,\n    LogoBack,\n};\n","/* eslint-disable class-methods-use-this */\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport axios from 'axios';\nimport {\n    Paper, SubmitStyle, LogoStyle, PaperGradient, LogoBack,\n} from './LoginStyle';\nimport logo from '../../images/logo.png';\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            isAuthenticated: false,\n            axiosConfig: {\n                headers: {\n                    'Content-Type': 'application/json;charset=UTF-8',\n                    Accept: 'application/json',\n                },\n            },\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleUserChange = this.handleUserChange.bind(this);\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\n        this.isAuthenticated = this.isAuthenticated.bind(this);\n    }\n\n\n    handleUserChange(event) {\n        this.setState({\n            username: event.target.value,\n        });\n    }\n\n    handlePasswordChange(event) {\n        this.setState({\n            password: event.target.value,\n        });\n    }\n\n    handleSubmit(event) {\n        // prevent the default behaviour.\n        event.preventDefault();\n\n        // destructuring the state.\n        const { username, password, axiosConfig } = this.state;\n\n        // post request.\n        axios.post('/api/v1/login', {\n            username,\n            password,\n        }, axiosConfig.headers)\n            .then((response) => {\n                localStorage.setItem('user', response.headers['auth-token']);\n                this.setState({\n                    isAuthenticated: this.isAuthenticated(),\n                });\n            })\n            .catch((error) => {\n                // console.log(error, 'authentication failed');\n                alert('Authentication Failed, Please Enter a valid Password and Username');\n            });\n    }\n\n    isAuthenticated() {\n        const token = localStorage.getItem('user');\n        return token && token.length > 10;\n    }\n\n\n    render() {\n        const { isAuthenticated } = this.state;\n        return (\n            <div>\n                { isAuthenticated ? <Redirect to={{ pathname: '/' }} /> : (\n                    <div>\n                        <Link to=\"/\">\n                            <LogoBack>\n                                <LogoStyle src={logo} alt=\"logo\" />\n                            </LogoBack>\n                        </Link>\n\n                        <PaperGradient>\n                            <Paper>\n\n                                <Typography\n                                    component=\"h1\"\n                                    variant=\"h5\"\n                                    style={{\n                                        color: '#3f51b5', marginTop: '4.5vh', fontWeight: '700', fontSize: '30px',\n                                    }}\n                                >\n                                    Sign in\n                                </Typography>\n\n                                <form onSubmit={this.handleSubmit}>\n                                    <TextField\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        id=\"email\"\n                                        label=\"Username\"\n                                        name=\"username\"\n                                        onChange={this.handleUserChange}\n                                    />\n                                    <TextField\n                                        variant=\"outlined\"\n                                        margin=\"normal\"\n                                        required\n                                        fullWidth\n                                        name=\"password\"\n                                        label=\"Password\"\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                        onChange={this.handlePasswordChange}\n                                    />\n\n                                    <SubmitStyle>\n                                        <Button\n                                            type=\"submit\"\n                                            fullWidth\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                        >\n                                            Sign In\n                                        </Button>\n                                    </SubmitStyle>\n\n                                    <Grid container style={{ marginTop: '15px' }}>\n                                        <Grid item xs>\n                                            <Link href=\"#\" variant=\"body2\">\n                                                Forgot password?\n                                            </Link>\n                                        </Grid>\n                                    </Grid>\n                                </form>\n\n                            </Paper>\n                        </PaperGradient>\n\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\n\nexport default Login;\n","/* eslint-disable no-shadow */\nimport React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport HeatMap from '../HeatMap/HeatMap';\n\nclass SearchResultHeatMap extends React.Component {\n    constructor(props) {\n        super(props);\n        // setting the states for the data.\n        this.state = {\n            drugData: [],\n            patientIdDrug: [],\n            drugId: [],\n            dimensions: {},\n            margin: {},\n        };\n        // binding the functions declared.\n        this.parseData = this.parseData.bind(this);\n    }\n\n    componentDidMount() {\n        const { drugParam } = this.props;\n        const { datasetParam } = this.props;\n\n        axios.get(`/api/v1/response?drug=${drugParam}&dataset=${datasetParam}`, { headers: { Authorization: localStorage.getItem('user') } })\n            .then((response) => {\n                this.parseData(response.data);\n            });\n    }\n\n    // this function takes the parsed result and set the states.\n    parseData(result) {\n        // defining the variables.\n        const dataset = [];\n        let patient = [];\n        const drug = [];\n\n        // patient array.\n        patient = result.pop();\n\n        // this function will loop through the elements and\n        // assign empty values in case model information is not available.\n        result.forEach((element) => {\n            const dataObject = {};\n            drug.push(element.Drug);\n            patient.forEach((patient) => {\n                if (!element[patient]) {\n                    dataObject[patient] = '';\n                } else {\n                    dataObject[patient] = element[patient];\n                }\n            });\n            dataset.push(dataObject);\n        });\n\n        // patient from one of the object elements to keep it in sync.\n        patient = Object.keys(dataset[0]);\n\n        // setting the states using the defined variables.\n        this.setState({\n            drugId: drug,\n            patientIdDrug: patient,\n            drugData: dataset,\n            dimensions: { height: 35, width: 20 },\n            margin: {\n                top: 300, right: 200, bottom: 0, left: 250,\n            },\n        });\n    }\n\n    render() {\n        const {\n            drugData, drugId,\n            patientIdDrug, dimensions,\n            margin,\n        } = this.state;\n        const { datasetParam } = this.props;\n        return (\n            drugData.length > 0 ? (\n                <HeatMap\n                    data={drugData}\n                    drugId={drugId}\n                    patientId={patientIdDrug}\n                    dimensions={dimensions}\n                    margin={margin}\n                    className=\"searchedheatmap\"\n                    dataset={datasetParam}\n                />\n            ) : ''\n        );\n    }\n}\n\nSearchResultHeatMap.propTypes = {\n    datasetParam: PropTypes.string.isRequired,\n    drugParam: PropTypes.string.isRequired,\n};\n\nexport default SearchResultHeatMap;\n","/* eslint-disable no-shadow */\nimport React from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Oncoprint from '../Oncoprint/Oncoprint';\nimport Spinner from '../SpinnerUtil/Spinner';\nimport Error from '../Error/Error';\n\nclass SearchResultOncoprint extends React.Component {\n    constructor(props) {\n        super(props);\n        // setting the states for the data.\n        this.state = {\n            threshold: 0,\n            hmapPatients: [],\n            genesMut: [],\n            genesRna: [],\n            genesCnv: [],\n            patientMut: [],\n            patientRna: [],\n            patientCnv: [],\n            dataMut: [],\n            dataRna: [],\n            dataCnv: [],\n            dimensions: {},\n            margin: {},\n            loading: true,\n            error: false,\n        };\n        // binding the functions declared.\n        this.updateResults = this.updateResults.bind(this);\n    }\n\n\n    componentDidMount() {\n        const { datasetParam } = this.props;\n        const { geneParam } = this.props;\n        const { genomicsParam } = this.props;\n        const queryData = [];\n        const genomics = [];\n\n        // making get requests based on the genomics parameters.\n        // sequence is important (first cnv or mutation) then rnaseq has to be pushed.\n        if (genomicsParam.includes('Mutation')) {\n            queryData.push(axios.get(`/api/v1/mutation?genes=${geneParam}&dataset=${datasetParam}`, { headers: { Authorization: localStorage.getItem('user') } }));\n            genomics.push('Mutation');\n        }\n        if (genomicsParam.includes('RNASeq') || genomicsParam.includes('Expression')) {\n            queryData.push(axios.get(`/api/v1/rnaseq?genes=${geneParam}&dataset=${datasetParam}`, { headers: { Authorization: localStorage.getItem('user') } }));\n            genomics.push('RNASeq');\n        }\n        if (genomicsParam.includes('CNV')) {\n            queryData.push(axios.get(`/api/v1/cnv?genes=${geneParam}&dataset=${datasetParam}`, { headers: { Authorization: localStorage.getItem('user') } }));\n            genomics.push('CNV');\n        }\n\n        Promise.all([...queryData])\n            .then((response) => {\n                this.updateResults(response, genomics);\n            })\n            .catch((err) => {\n                if (err) {\n                    this.setState({\n                        error: true,\n                    });\n                }\n            });\n    }\n\n    updateResults(result, genomics) {\n        // grab the last array(patient array) from result[0]\n        const dataset = result[0].data;\n\n        // grabbing the total patients from hmap.\n        let hmapPatients = dataset.pop();\n\n        // removing last element from each array element of result\n        if (result.length > 1) {\n            result.forEach((value, i) => {\n                if (i !== 0) {\n                    value.data.pop();\n                }\n            });\n        }\n\n        // this is according to the object and heatmap sequence.\n        result.forEach((value, i) => { // can't break in forEach use for if wanna break.\n            const dataObject = {};\n            if (value.data.length > 0) {\n                hmapPatients.forEach((patient) => {\n                    if (!result[i].data[0][patient]) {\n                        dataObject[patient] = '';\n                    } else {\n                        dataObject[patient] = result[i].data[0][patient];\n                    }\n                });\n            }\n            hmapPatients = Object.keys(dataObject);\n        });\n\n        // setting patients genes and data for each of mutation,\n        // cnv and rna (given they are present)\n        const patient = {};\n        const genes = {};\n        const data = {};\n\n        genomics.forEach((value, i) => {\n            const val = value.substring(0, 3).toLowerCase();\n\n            // setting patients\n            const patientId = Object.keys(result[i].data[0]).filter((value) => {\n                let returnValue = '';\n                if (value !== 'gene_id') {\n                    returnValue = value;\n                }\n                return returnValue;\n            });\n            patient[`patient_${val}`] = patientId;\n\n            // genes\n            const geneId = result[i].data.map((data) => data.gene_id);\n            genes[`genes_${val}`] = geneId;\n\n            // data\n            data[`data_${val}`] = result[i].data;\n        });\n\n        // destructuring the states and prop.\n        const {\n            dataMut, dataRna, dataCnv,\n            genesMut, genesRna, genesCnv,\n            patientMut, patientRna, patientCnv,\n        } = this.state;\n        const { threshold } = this.props;\n\n        this.setState({\n            threshold,\n            hmapPatients,\n            patientMut: patient.patient_mut ? patient.patient_mut : patientMut,\n            patientRna: patient.patient_rna ? patient.patient_rna : patientRna,\n            patientCnv: patient.patient_cnv ? patient.patient_cnv : patientCnv,\n            genesMut: genes.genes_mut ? genes.genes_mut : genesMut,\n            genesRna: genes.genes_rna ? genes.genes_rna : genesRna,\n            genesCnv: genes.genes_cnv ? genes.genes_cnv : genesCnv,\n            dataMut: data.data_mut ? data.data_mut : dataMut,\n            dataRna: data.data_rna ? data.data_rna : dataRna,\n            dataCnv: data.data_cnv ? data.data_cnv : dataCnv,\n            dimensions: { height: 35, width: 20 },\n            margin: {\n                top: 75, right: 200, bottom: 100, left: 250,\n            },\n            loading: true,\n        });\n    }\n\n\n    render() {\n        const {\n            dimensions, margin, threshold, dataMut, dataRna, dataCnv, hmapPatients, error,\n            genesMut, genesRna, genesCnv, patientMut, patientRna, patientCnv, loading,\n        } = this.state;\n\n        function renderingData() {\n            let data = '';\n            if (dataMut.length || dataCnv.length || dataRna.length) {\n                data = (\n                    <Oncoprint\n                        className=\"oprint_result\"\n                        dimensions={dimensions}\n                        margin={margin}\n                        threshold={Number(threshold)}\n                        hmap_patients={hmapPatients}\n                        genes_mut={genesMut}\n                        genes_rna={genesRna}\n                        genes_cnv={genesCnv}\n                        patient_mut={patientMut}\n                        patient_rna={patientRna}\n                        patient_cnv={patientCnv}\n                        data_mut={dataMut}\n                        data_rna={dataRna}\n                        data_cnv={dataCnv}\n                    />\n                );\n            } else if (error) {\n                return <Error />;\n            } else {\n                data = (<div className=\"oprint-wrapper\"><Spinner loading={loading} /></div>);\n            }\n            return data;\n        }\n\n        return (\n            renderingData()\n        );\n    }\n}\n\n\nSearchResultOncoprint.propTypes = {\n    datasetParam: PropTypes.string.isRequired,\n    geneParam: PropTypes.string.isRequired,\n    genomicsParam: PropTypes.string.isRequired,\n    threshold: PropTypes.string.isRequired,\n};\n\n\nexport default SearchResultOncoprint;\n","import React from 'react';\nimport SearchResultHeatMap from './SearchResultHeatMap';\nimport SearchResultOncoprint from './SearchResultOncoprint';\nimport GlobalStyles from '../../GlobalStyles';\nimport TopNav from '../TopNav/TopNav';\nimport { PatientProvider } from '../Context/PatientContext';\n\nclass SearchResult extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.setPatients = (patients) => {\n            this.setState({\n                globalPatients: patients,\n            });\n        };\n\n        this.state = {\n            drugParam: '',\n            datasetParam: '',\n            geneParam: '',\n            genomicsParam: '',\n            threshold: 0,\n            globalPatients: [],\n            setPatients: this.setPatients,\n        };\n    }\n\n    static getDerivedStateFromProps(props) {\n        // eslint-disable-next-line react/prop-types\n        const { location } = props;\n        // eslint-disable-next-line react/prop-types\n        const params = new URLSearchParams(location.search);\n        const genomics = params.get('genomics');\n        const drug = params.get('drug');\n        const dataset = params.get('dataset');\n        const gene = params.get('genes');\n        const threshold = params.get('threshold');\n        return {\n            drugParam: drug,\n            datasetParam: dataset,\n            geneParam: gene,\n            genomicsParam: genomics,\n            threshold,\n        };\n    }\n\n    render() {\n        const {\n            drugParam, datasetParam, geneParam, genomicsParam,\n            threshold, globalPatients, setPatients,\n        } = this.state;\n        const providerData = {\n            globalPatients,\n            setPatients,\n        };\n        return (\n            <div>\n                <TopNav />\n                <GlobalStyles />\n                <div className=\"wrapper\" style={{ margin: 'auto' }}>\n                    <PatientProvider value={providerData}>\n                        <SearchResultHeatMap\n                            drugParam={drugParam}\n                            datasetParam={datasetParam}\n                        />\n                        <SearchResultOncoprint\n                            geneParam={geneParam}\n                            datasetParam={datasetParam}\n                            genomicsParam={genomicsParam}\n                            threshold={threshold}\n                        />\n                    </PatientProvider>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nexport default SearchResult;\n","/* eslint-disable react/prefer-stateless-function */\nimport React, { useEffect } from 'react';\nimport ReactGA from 'react-ga';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport {\n    CounterNav,\n    Dataset,\n    DatasetDonut,\n    Documentation,\n    DonutDrug,\n    DonutTissue,\n    DrugTable,\n    Footer,\n    GrowthCurveData,\n    HeatMapData,\n    Home,\n    Login,\n    OncoprintData,\n    SearchResult,\n    StatTable,\n} from './Components/index';\n\n\nconst Merge = () => (\n    <div>\n        <HeatMapData />\n        <OncoprintData />\n        <Footer />\n    </div>\n);\n\n\nconst App = () => {\n    // Google analytics setup.\n    useEffect(() => {\n        ReactGA.initialize('UA-102362625-5');\n        // To Report Page View\n        ReactGA.pageview(window.location.pathname + window.location.search);\n    }, []);\n\n    useEffect(() => {\n        console.log(window.location.pathname);\n    });\n\n    return (\n        <div>\n            <Router>\n                <Switch>\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/curve\" exact component={GrowthCurveData} />\n                    <Route path=\"/datasets\" exact component={DatasetDonut} />\n                    <Route path=\"/dataset/:id\" exact component={Dataset} />\n                    <Route path=\"/doc\" exact component={Documentation} />\n                    <Route path=\"/drugs\" exact component={DonutDrug} />\n                    <Route path=\"/drug/:id\" exact component={DrugTable} />\n                    <Route path=\"/home\" exact component={CounterNav} />\n                    <Route path=\"/login\" exact component={Login} />\n                    <Route path=\"/maps\" exact component={Merge} />\n                    <Route path=\"/search\" exact component={SearchResult} />\n                    <Route path=\"/tissues\" exact component={DonutTissue} />\n                    <Route path=\"/stat\" exact component={StatTable} />\n                    <Route render={() => <h1> 404 Error </h1>} />\n                </Switch>\n            </Router>\n        </div>\n    );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.1de5f71c.png\";","module.exports = __webpack_public_path__ + \"static/media/bgImg7.3eb67c7e.png\";","module.exports = \"data:image/gif;base64,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\""],"sourceRoot":""}