{"version":3,"sources":["Components/CounterNav/CounterStyle.js","GlobalStyles.js","Components/TopNav/NavStyle.js","Components/TopNav/TopNav.js","Components/CounterNav/CounterNav.js","Components/HeatMap/HeatMap.js","Components/HeatMap/HeatMapData.js","Components/Oncoprint/Oncoprint.js","Components/Oncoprint/OncoprintData.js","Components/Footer/Footer.js","Components/Dataset/Dataset.js","Components/DonutChart/DonutChart.js","Components/Dataset/DatasetDonut.js","Components/Documentation/Documentation.js","Components/Drug/DrugTableStyle.js","Components/Drug/DrugTable.js","Components/Drug/DonutDrug.js","Components/DonutChart/DonutPatient.js","Components/Tissue/DonutTissue.js","Components/Search/SearchStyle.js","Components/Search/GeneList.js","Components/Search/Search.js","Components/Home/HomeStyle.js","Components/Home/Home.js","Components/Login/LoginStyle.js","Components/Login/Login.js","Components/Search/SearchResultOncoprint.js","Components/Search/SearchResultHeatMap.js","Components/Search/SearchResult.js","Components/TumorGrowthCurve/TumorGrowthCurve.js","App.js","index.js","images/logo.png","images/bgImg7.png"],"names":["DonutNav","styled","div","_templateObject","GlobalStyles","createGlobalStyle","GlobalStyles_templateObject","bgImg","HeaderStyle","header","NavStyle_templateObject","LinkStyle","_templateObject2","LogoStyle","img","_templateObject3","TopNav","react_default","a","createElement","react_router_dom","to","src","logo","alt","React","Component","CounterNav","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","drugs","patients","datasets","tissues","_this2","axios","get","then","response","setState","data","react","Components_TopNav_TopNav","src_GlobalStyles","CounterStyle","build_default","start","end","duration","useEasing","HeatMap","bind","assertThisInitialized","makeHeatmap","node","drug","drug_id","patient_id","dimensions","margin","patient","plotId","rect_height","height","rect_width","width","length","target_eval","value","color","target_color","drug_use","drug_index","patient_use","max_drug","drug_evaluations","i","CR","PR","SD","PD","NA","empty","patient_evaluations","j","total","calculate_evaluations","d","drug_alt","current_max_drug","_i","_keys","keys","entries","key","querystring_value","concat","rectKeys","yScale","d3","domain","rangeRound","xScale","yAxis","scale","tickSize","tickPadding","xAxis","svg","append","attr","bottom","top","left","right","skeleton","gskeleton","selectAll","enter","values","map","p_count","drug_class","replace","style","on","split","lines","temp","slice","push","text","target_rect","drug_eval","drug_Scale","range","x_axis","ticks","tickFormat","drug_height_Scale","drugEvaluationRectangle","iterator","x_range","forEach","type","max_patientid_total","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","next","done","curent_max","err","return","patient_eval","patient_Scale","patient_scales","y_axis","patientEvaluationRectangle","y_range","ref","className","HeatMapData","dataset_param","parseData","result","dataset","pop","element","data_object","Drug","fontSize","Components_HeatMap_HeatMap","Oncoprint","threshold","hmap_patients","data_mut","data_rna","genes_mut","genes_rna","patient_mut","patient_rna","makeOncoprint","Array","prototype","unique","splice","genes","rect_alterations_mut","rect_alterations_rna","rect_alterations","toConsumableArray","geneNames","_loop","geneAxis","alterations","highlight","gene_alterations","patient_alterations","mut","amp","del","diff","filter","x","includes","colorReactangles","rect","colorNotSequenced","indexOf","z","Number","maxPAmp","maxPMut","maxPHomdel","maxGAmp","maxGMut","maxGHomdel","max_width_arr","max_width","xrange_gene","gene_alter","geneAlterationReactangle","stroke_width","xrange_scale","select","max_height_arr","max_height","patient_alter","yrange_patient","patientAlterationReactangle","yrange_axis","nice","each","remove","_loop2","OncoprintData","updateResults","onco","val","substring","toLowerCase","return_value","console","log","gene_id","mutation_data","rnaseq_data","Promise","all","Components_Oncoprint_Oncoprint","styles","textAlign","paddingTop","minHeight","display","flexDirection","position","minWidth","backgroundColor","fontFamily","Footer","Dataset","match","params","id","HeatMap_HeatMapData","Oncoprint_OncoprintData","Components_Footer_Footer","DonutChart","makeDonutChart","chartId","tooltip","arc","outerRadius","innerRadius","labelArc","pie","sort","arcs","parameter","piearc","transition","ease","attrTween","b","startAngle","endAngle","t","mouseover","selection","mousemove","pageX","pageY","mouseout","centroid","donut_rect","Wrapper","DatasetDonut_templateObject","DatasetDonut","dataset_name","dataset_id","Components_DonutChart_DonutChart","Documentation","TableWrapper","DrugTableStyle_templateObject","h1Style","DrugTable","DrugTableStyle","es","columns","Header","accessor","sortable","defaultPageSize","filterable","DonutDrug_templateObject","DonutDrug","new_values","class_name","model_ids","DonutDrug_Wrapper","Drug_DrugTable","DonutTissue_templateObject","DonutTissue","tissue_name","DonutTissue_Wrapper","StyleBar","SearchStyle_templateObject","StyleButton","button","SearchStyle_templateObject2","customStyles","placeholder","provided","objectSpread","fontWeight","control","&:hover","borderColor","border","boxShadow","padding","borderRadius","background","indicatorSeparator","dropdownIndicator","cursor","option","singleValue","input","clearIndicator","GeneList","Search","axiosConfig","headers","Content-Type","Accept","handleDrugChange","selectedOption","action","selectedDrugs","allDrugs","label","handleDatasetChange","selectedDataset","initial","post","item","handleGeneListChange","selectedGeneSearch","handleGeneSearchChange","event","target","handleExpressionChange","genomics_value","selectedGenomics","toggleRNA","handleThreshold","handleKeyPress","redirectUser","history","genomics","genomic","onKeyPress","react_select_browser_esm","options","onChange","isMulti","isSearchable","isClearable","name","onClick","withRouter","Container","HomeStyle_templateObject","Home","HomeStyle","Components_Search_Search","Components_CounterNav_CounterNav","Paper","LoginStyle_templateObject","PaperGradient","LoginStyle_templateObject2","FormStyle","form","LoginStyle_templateObject3","SubmitStyle","_templateObject4","_templateObject5","LogoBack","_templateObject6","Login","handleUserChange","username","handlePasswordChange","password","handleSubmit","preventDefault","LoginStyle_LogoStyle","Container_Container","component","maxWidth","Typography","variant","marginTop","onSubmit","TextField","required","fullWidth","autoFocus","autoComplete","Button","Grid","container","xs","href","SearchResultOncoprint","genomics_param","gene_param","query_data","SearchResultHeatMap","drug_data","patient_id_drug","drug_param","class","SearchResult","URLSearchParams","location","search","gene","Search_SearchResultHeatMap","Search_SearchResultOncoprint","TumorGrowthCurve","getParams","norm","dataParse","makeTumorGrowthCurve","batchToggle","patient_param","drugid_param","first","batch_select","data_formatted","batches","String","replaceAll","s","r","RegExp","new_datapt","exp_type","batch","model","pdx_points","times","parseInt","volumes","parseFloat","volume_normals","pdx_json","time","volume","volume_normal","property","index","self","plotBatch","graph","xrange","yrange","dots","paths","linepath","y","timeUnion","minControl","minTreatment","treatment","getUnionOfTimepoints","exp_types","shift","ypoint_arr","all_ypoint","n","exp","_groups","temp_ycoord","path","ycoord","findY","invert","mean","mean_svg","tooltips","html","mean_dots","mean_path","plotMeans","arr","pathLength","getTotalLength","Math","max","getPointAtLength","min","pos","abs","maxTimeArray","minVolArray","maxVolArray","maxVolNormArray","maxTime","apply","maxVolume","maxVolNorm","legend","yAxisAdd","volumeToggle","tumorCurve","_this3","Merge","App","react_router","exact","render","ReactDOM","src_App","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.7bd56ea5.chunk.js","sourcesContent":["import styled from 'styled-components'\n\n\nconst DonutNav = styled.div`\n    display: flex;\n    background-color: rgb(255,255,255,0.8);\n    min-height: 70px;\n    max-height: 70px;\n    position: fixed;\n    bottom:0;\n    left:0;\n    width: 100%;\n    align-items: flex-end;\n    justify-content: space-around;\n    flex-wrap: wrap;\n    font-family: 'Montserrat', sans-serif;\n    font-weight:500;\n    font-size: 1.4em;\n    padding-bottom:5px;\n    a{\n        padding: 10px;\n        color: #3453b0;\n        letter-spacing: 2px;\n        font-weight: bold;\n        font-size: 20px;\n        text-decoration: none;\n        &:hover {\n            color: #e5ac11;\n        }\n        text-align:center;\n    }\n    h4 {\n        margin-top: 3px;\n        margin-bottom: 0px;\n    }\n\n    @media screen and (max-width: 1500px) {\n        a {\n            font-size: 18px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 100px;\n        }\n    }\n\n    @media screen and (max-width: 1300px) {\n        a {\n            font-size: 18px;\n        }\n        \n        a:nth-child(1) {\n            margin-left : 10px;\n        }\n    }\n\n    @media screen and (max-width: 1000px) {\n        a {\n           font-size: 14px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n\n    @media screen and (max-width: 700px) {\n        a {\n           font-size: 10px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n`;\n\n\nexport default DonutNav","import bgImg from './images/bgImg7.png';\nimport { createGlobalStyle } from 'styled-components';\n\n\n\nconst GlobalStyles = createGlobalStyle`\n\n  body {\n    background: linear-gradient(\n      to right top,\n      rgba(255, 255, 255, 0.3), \n      rgba(255, 255, 255, 0.3)\n    ),url('${bgImg}');\n    background-size: cover;\n    background-attachment: fixed;\n    background-position: center;\n    margin: auto;\n    width:100%;\n  }\n\n  #root {\n    display: flex;\n    min-height: 100vh;\n    flex-direction: column;\n    \n    min-width:100vw;\n    width:auto;\n    position:relative;\n    margin:0px;\n  }\n\n  .wrapper {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    h1 {\n      font-family:'Raleway', sans-serif;\n      font-weight:700;\n      text-align:center;\n      color: #3453b0;\n    }\n  }\n\n  .heatmap-wrapper, .doc-wrapper {\n    margin-top: 200px;\n  }\n\n  .oprint-wrapper {\n    margin-bottom:100px;\n  }\n\n  .heatmap-wrapper, .oprint-wrapper {\n    min-width:1000px;\n  }\n  .heatmap-wrapper, .oprint-wrapper, .curve-wrapper,\n  .donut-wrapper, .doc-wrapper { //put all wrappers here and wrap them with wrapper\n    background:white;\n    font-family:Arial;\n  }\n\n  .donut-wrapper {\n    margin-bottom:20px;\n    min-width:1300px;\n  }\n\n  .heatmap, .oprint {\n    height:700px;\n    overflow:auto;\n  }\n\n  .curve-wrapper {\n    min-width:1300px;\n    display:flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    a {\n      text-decoration:none;\n      font-size:16px;\n      padding:20px;\n      font-family: 'Raleway', sans-serif;\n      color: #3453b0;\n    }\n\n    .no-graph {\n      padding:50px;\n    }\n  }\n`\n\n\nexport default GlobalStyles;","import styled from 'styled-components'\n\nconst HeaderStyle = styled.header`\n    *{\n        margin: 0px;\n        padding: 0px;\n        box-sizing: border-box;\n    }\n\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    min-height: 80px;\n    max-height: 100px;\n    font-family: 'Raleway', sans-serif;\n    background-color: rgb(255,255,255,0.8);\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n`;\n\nconst LinkStyle = styled.div`\n    display: flex;\n    justify-content: space-around;\n    width: 60%;\n\n    a {\n        color: #3453b0;\n        text-decoration: none;\n        letter-spacing:1px;\n        font-family: 'Raleway', sans-serif;\n        font-weight:700;\n        font-size: 24px;\n        &:hover {\n            color: #e5ac11;\n            cursor:pointer;\n        }\n    }\n\n    a:nth-child(1) {\n        margin-left : 200px;\n    }\n\n    @media screen and (max-width: 1700px) {\n        a {\n            font-size: 20px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 100px;\n        }\n    }\n\n    @media screen and (max-width: 1300px) {\n        a {\n            font-size: 18px;\n        }\n        \n        a:nth-child(1) {\n            margin-left : 10px;\n        }\n    }\n\n    @media screen and (max-width: 1000px) {\n        a {\n           font-size: 14px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n\n    @media screen and (max-width: 700px) {\n        a {\n           font-size: 10px;\n        }\n\n        a:nth-child(1) {\n            margin-left : 0px;\n        }\n    }\n`\n\nconst LogoStyle = styled.img`\n    width:calc(5em + 2vw);\n    margin-top:2px;\n    z-index:999;\n`;\n\n\nexport {\n    HeaderStyle,\n    LogoStyle,\n    LinkStyle\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {HeaderStyle, LogoStyle, LinkStyle} from './NavStyle'\nimport logo from '../../images/logo.png';\n\nclass TopNav extends React.Component {\n    render() {\n        return (\n            <HeaderStyle>\n                <Link to='/'>\n                    <LogoStyle src={logo} alt='logo' />\n                </Link>\n                <LinkStyle>\n                    <Link to='/'> Home </Link>\n                    <Link to='/datasets'> Datasets </Link>\n                    <Link to='/drugs'> Drugs </Link>\n                    <Link to='/tissues'> Tissues </Link>\n                    <Link to='/doc'> Documentation </Link>\n                </LinkStyle>         \n            </HeaderStyle>\n        )\n    }\n}\n\n\n\nexport default TopNav","import React, { Fragment } from 'react'\nimport CountUp from 'react-countup'\nimport { Link } from 'react-router-dom'\nimport DonutNav from './CounterStyle'\nimport axios from 'axios'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nclass CounterNav extends React.Component {\n\n    constructor(props) {\n        super(props)\n        // setting states for all the variables.\n        this.state = {\n            drugs: 0,\n            patients: 0,\n            datasets: 8,\n            tissues: 0\n        }\n    }\n\n    componentDidMount() {\n        axios.get(`/api/v1/counter`)\n            .then(response => {\n                this.setState({\n                    tissues: response.data.data[0][0]['tissues'],\n                    drugs: response.data.data[1][0]['drugs'],\n                    patients: response.data.data[2][0]['patients']\n                })\n            })\n    }\n\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <DonutNav>\n\n                    <Link>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.datasets} \n                            duration = {3}\n                            useEasing={true}\n                        />\n                        <h4> DATASETS </h4>\n                    </Link>\n\n\n                    <Link to='/tissues'>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.tissues} \n                            duration = {3}\n                            useEasing={true}\n                        />\n                        <h4> TISSUES </h4>\n                    </Link>\n\n\n                    <Link>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.patients} \n                            duration = {3}\n                            useEasing={true}\n                        />\n                        <h4> PATIENTS </h4> \n                    </Link>\n\n\n                    <Link to='/drugs'>\n                        <CountUp \n                            start = {0}\n                            end = {this.state.drugs}\n                            duration = {3}\n                            useEasing={true}\n                        /> \n                        <h4> DRUGS </h4>\n                    </Link>\n                </DonutNav>\n            </Fragment>\n        )\n    }\n\n}\n\nexport default CounterNav","import React from 'react'\nimport * as d3 from 'd3'\nimport PropTypes from 'prop-types'\n\nclass HeatMap extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.HeatMap = this.HeatMap.bind(this);\n        this.makeHeatmap = this.makeHeatmap.bind(this);\n    }\n\n    componentDidMount() {\n        //this.HeatMap()\n    }\n\n    componentDidUpdate() {\n        this.HeatMap()\n    }\n\n    HeatMap() {\n        const node = this.node;\n        let data = this.props.data;\n        let drug = this.props.drug_id;\n        let patient_id = this.props.patient_id;\n        let dimensions = this.props.dimensions;\n        let margin = this.props.margin;\n        let plotId = 'plots';\n        this.makeHeatmap(data, patient_id, drug, plotId, dimensions, margin, node)\n    }\n\n// main heatmap function taking parameters as data, all the patient ids and drugs.\n   makeHeatmap(data, patient, drug, plotId, dimensions, margin, node) {\n    this.node = node\n\n    // height and width for the SVG based on the number of drugs and patient/sample ids.\n    // height and width of the rectangles in the main skeleton.\n    let rect_height = dimensions.height;\n    let rect_width = dimensions.width;\n\n    // this height and width is used for setting the body.\n    let height = drug.length * rect_height + 100;\n    let width = patient.length * rect_width + 100;\n\n    let target_eval = [\n                            { value : 'CR', color: '#0033CC' },\n                            { value: 'PR', color: '#1a9850' },\n                            { value : 'SD', color: '#fed976' },\n                            { value: 'PD', color: '#e41a1c'}\n    ]\n    let target_color = ['#0033CC', '#1a9850', '#fed976', '#e41a1c', 'lightgray']\n\n    //setting the query strings\n    let drug_use = '' \n    let drug_index = 0\n    let patient_use = patient\n\n    // drug evaluations\n    let max_drug = 0;\n    let drug_evaluations = {}\n    for(let i=0; i<drug.length; i++) {\n        drug_evaluations[drug[i]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0}\n    }\n\n    // patient evaluations\n    let patient_evaluations = {}\n    for(let j=0; j<patient.length; j++) {\n        patient_evaluations[patient[j]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0, 'total':0}\n    }\n\n    /* this code will add to the drug_evaluations and \n      patient_evaluations object the values for PD,SD,PR,CR \n      and also sets the value of the letiable max_drug. */\n    function calculate_evaluations(d,i) {\n        let drug_alt = drug[i];\n            keys = Object.entries(d);\n            let current_max_drug = 0;\n            for(const key of keys) {\n                if(key[1] === '') {key[1] = 'empty'}\n                drug_evaluations[drug_alt][key[1]]++\n                patient_evaluations[key[0]][key[1]]++\n                if(key[1] !== 'NA' || key[1] !== 'empty') { \n                    current_max_drug++;\n                    patient_evaluations[key[0]].total++;\n                }\n            }\n            if (current_max_drug > max_drug) { max_drug = current_max_drug }\n    }\n\n\n    /* This code is used to produce the query strings */\n    function querystring_value(d,i) {\n        if(i === 0) {\n            drug_use = drug[drug_index]\n            drug_index++\n        }\n        if (d.length === 2 || d.length === 'empty') {\n            return `/curve?patient=${patient_use[i]}&drug_id=${drug_use}` \n        }\n    }\n    \n\n                                    /** SCALE FOR MAIN SKELETON **/\n\n    //defining the scale that we will use for our x-axis and y-axis for the skeleton.\n    let yScale = d3.scaleBand()\n                   .domain(drug)\n                   .rangeRound([rect_height, drug.length * rect_height + rect_height])\n\n    let xScale = d3.scaleBand()\n                   .domain(patient)\n                   .rangeRound([0, patient.length * rect_width])\n\n    // defining the x-axis for the main skeleton and setting tick size to zero will remove the ticks.\n    let yAxis = d3.axisLeft()\n                  .scale(yScale)\n                  .tickSize(0)\n                  .tickPadding(15)\n                  \n    \n    let xAxis = d3.axisTop()\n                  .scale(xScale)\n                  .tickSize(5)\n                  \n                                    /** SETTING SVG ATTRIBUTES **/\n\n    // make the SVG element.\n    let svg = d3.select(node)\n                .append('svg')\n                .attr('id', 'heatmap-' + plotId)\n                .attr('xmlns', 'http://wwww.w3.org/2000/svg')\n                .attr('xmlns:xlink', 'http://wwww.w3.org/1999/xlink')\n                .attr('height',height + margin.bottom + margin.top) \n                .attr('width', width + margin.left + margin.right)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n                \n                \n    \n\n                                    /** HEATMAP SKELETON **/\n\n    // structure of the heatmap\n    let skeleton = svg.append('g')\n                       .attr('id', 'skeleton')\n    \n                       \n    // this will create g element for each of data row (equivalent to total number of row)\n    let drug_response = skeleton.append('g')\n                                .attr('id', 'targ_rect')\n\n    \n    let gskeleton =  drug_response.selectAll('g')\n                                  .data(data)\n                                  .enter()\n                                  .append('g')\n                                  .attr('transform', function(d,i) {\n                                        return `translate(0,${i * rect_height})`\n                                  })\n\n\n    let rectKeys;\n    // this will append rect equivalent to number of patient ids.\n    let drawrectangle = gskeleton.selectAll('rect.hmap-rect')\n                                .data(function(d,i) {  \n                                    //calling the function and passing the data d as parameter.\n                                    calculate_evaluations(d,i);\n                                    //this returns the object values to next chaining method.\n                                    rectKeys = Object.keys(d);\n                                    const rectValue = Object.values(d,i)\n                                                            .map((value) => {\n                                                                // console.log(value, 'length is' ,value.length)                                \n                                                                if (value.length === 2) {\n                                                                    return value\n                                                                } else if (value.length === 0) {\n                                                                    return value = 'empty'\n                                                                }\n                                                            })\n                                    return rectValue;\n                                    })\n                                .enter()\n                                .append('a')\n                                .attr('xlink:href', function(d,i) {\n                                    return querystring_value(d,i)\n                                })\n                                .append('rect')\n                                .attr('class', function(d,i) {\n                                    return 'hmap-rect heatmap-' + rectKeys[i]\n                                })\n                                .attr('width', rect_width - 2)\n                                .attr('height', rect_height - 2)\n                                .attr('x', function(d,i) {\n                                    return i * rect_width ;  \n                                })\n                                .attr('y', rect_height)\n\n\n                                 \n    // this will fill the rectangles with different color based on the data. \n            drawrectangle.attr('fill', function(d) {\n                                    if (d === 'CR') {\n                                        return target_color[0]\n                                    } else if (d === 'PR') {\n                                        return target_color[1]\n                                    } else if (d === 'SD') {\n                                        return target_color[2]\n                                    } else if (d === 'PD') {\n                                        return target_color[3]\n                                    } else {\n                                        return target_color[4]\n                                    }\n                                })     \n                                \n    //reset \n    drug_evaluations = {}\n    for(let i=0; i<drug.length; i++) {\n        drug_evaluations[drug[i]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0}\n    }\n\n    // patient evaluations\n    patient_evaluations = {}\n    for(let j=0; j<patient.length; j++) {\n        patient_evaluations[patient[j]] = {'CR':0, 'PR': 0, 'SD': 0, 'PD': 0, 'NA':0, 'empty': 0, 'total':0}\n    }\n    let p_count = 0;\n    drug_index = 0;\n\n    //let highlight = \n    gskeleton.selectAll('rect.hmap-hlight')\n                        .data(function(d,i) {  \n                            //console.log(d)\n                            //calling the function and passing the data d as parameter.\n                            calculate_evaluations(d,i);\n                            //this returns the object values to next chaining method.\n                            rectKeys = Object.keys(d);\n                            const rectValue = Object.values(d,i)\n                                                    .map((value) => {\n                                                        // console.log(value, 'length is' ,value.length)                                \n                                                        if (value.length === 2) {\n                                                            return value\n                                                        } else if (value.length === 0) {\n                                                            return value = 'empty'\n                                                        }\n                                                    })\n                            return rectValue;\n                            })\n                        .enter()\n                        .append('a')\n                        .attr('xlink:href', function(d,i) {\n                            return querystring_value(d,i)\n                        })\n                        .append('rect')\n                        .attr('class', function(d, i) {\n                            let drug_class = drug[p_count].replace(/\\s/g,'').replace(/[+]/,'-')\n                            if (i === (patient.length - 1)) {\n                                p_count++\n                            }\n                            return 'hmap-hlight-' + rectKeys[i] + ' hmap-hlight-' + drug_class\n                        })\n                        .attr('width', rect_width - 2)\n                        .attr('height', rect_height - 2)\n                        .attr('x', function(d,i) {\n                            return i * rect_width ;  \n                        })\n                        .attr('fill', 'rgb(0,0,0)')\n                        .attr('y', rect_height)\n                        .style('opacity', 0)\n                        .on('mouseover', function(d,i) {\n                            let drug_class = d3.select(this).attr('class').split(' ')[1]\n                            d3.selectAll('.hmap-hlight-' + rectKeys[i])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.oprint-hlight-' + rectKeys[i])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.hlight-space-' + rectKeys[i])\n                                .style('opacity', 0.2)\n                        \n                        })\n                        .on('mouseout', function(d,i) {\n                            let drug_class = d3.select(this).attr('class').split(' ')[1]\n                            d3.selectAll('.hmap-hlight-' + rectKeys[i])\n                                .style('opacity', 0)\n                            d3.selectAll('.oprint-hlight-' + rectKeys[i])\n                                .style('opacity', 0)\n                            d3.selectAll('.hlight-space-' + rectKeys[i])\n                                .style('opacity', 0)\n                        })\n\n    //Creating lines.\n    let lines = svg.append('g')\n                    .attr('id', 'lines')\n                    .attr('transform', function(d,i) {\n                        return `translate(2,${height-62})`\n                    })\n\n    const temp = patient.slice(0)\n    temp.push(\"\")\n\n                lines.selectAll('line.dashed-line')\n                        .data(temp)\n                        .enter()\n                            .append('line')\n                            .attr('class', 'dashed-line')\n                            .attr('x1', function(d,i) {\n                                return i * (rect_width) - 3;  \n                            })\n                            .attr('x2', function(d,i) {\n                                return i * (rect_width) - 3;  \n                            })\n                            .attr('y1', 2)\n                            .attr('y2', 200)\n                            .attr('stroke', 'black')\n                            .attr('stroke-width', 1)\n                            .style('stroke-dasharray', '3 2')\n                            .style('opacity', .2)\n\n                lines.selectAll('rect.hlight-space')\n                        .data(patient)\n                        .enter()\n                        .append('rect')\n                        .attr('class', function(d) {\n                            return 'hlight-space-' + d\n                        })\n                        .attr('width', rect_width - 2)\n                        .attr('height', 200)\n                        .attr('x', function(d,i) {\n                            return i * rect_width - 2;  \n                        })\n                        .attr('fill', 'rgb(0,0,0)')\n                        .attr('y', 0)\n                        .style('opacity', 0)    \n\n                            /** X-AXIS AND Y-AXIS FOR THE SKELETON **/\n                                                                        \n    // calling the y-axis and removing the stroke.\n    let drug_name = skeleton.append('g')\n                    .attr('id', 'drug_name')\n\n                    drug_name.attr('stroke-width', '0')\n                            .style('font-size', '12px')\n                            .attr('font-weight', '500')\n                            .call(yAxis)\n                            .selectAll('text')\n                            .attr('fill', function(d) {\n                                if(d === 'untreated') {return '#3453b0'}\n                                else return 'black'\n                            })\n                            .on('mouseover', function() {\n                            let drug_class = d3.select(this).text().replace(/\\s/g,'').replace(/[+]/,'-')\n                            d3.selectAll('.hmap-hlight-' + drug_class)\n                                        .style('opacity', 0.2)    \n                            })\n                            .on('mouseout', function() {\n                            let drug_class = d3.select(this).text().replace(/\\s/g,'').replace(/[+]/,'-')\n                            d3.selectAll('.hmap-hlight-' + drug_class)\n                                        .style('opacity', 0)\n                            });\n\n    // calling the x-axis to set the axis and we have also transformed the text.\n    let patient_id = skeleton.append('g')\n                             .attr('id', 'patient_id')\n    \n    patient_id.attr('stroke-width', '0')\n              .style('font-size', '13px')\n              .call(xAxis)\n              .selectAll('text')\n              .attr('transform', 'rotate(-90)')\n              .attr('font-weight', '500')\n              .attr('x','0.5em')\n              .attr('y','.15em')\n\n\n                                    /** SMALL RECTANGLES ON RIGHT SIDE OF HEATMAP **/\n\n    // This will create four rectangles on right side for the Evaluation of target lesions.\n    let target_rect = skeleton.append('g')\n                              .attr('id', 'small_rect')\n\n                      target_rect.selectAll('rect')\n                                 .data(target_eval)\n                                 .enter()\n                                 .append('rect')\n                                 .attr('x', (patient.length * rect_width + 120))\n                                 .attr('y', function(d, i) {\n                                    return (drug.length * 10) + i * 25;\n                                 })\n                                 .attr('height', '15')\n                                 .attr('width', '15')\n                                 .attr('fill', function(d) {\n                                     return d.color;\n                                 })\n                        \n                      target_rect.selectAll('text')\n                                 .data(target_eval)\n                                 .enter()\n                                 .append('text')\n                                 .attr('x', (patient.length * rect_width + 140))\n                                 .attr('y', function(d,i) {\n                                     return (drug.length * 10 + 12) + i * 25;\n                                 })\n                                 .text(function(d) {\n                                     return d.value;\n                                 })\n                                 .attr('font-size', '14px')\n\n\n                                            /** VERTICAL GRAPH ON RIGHT SIDE OF HEATMAP **/\n\n    let stroke_width = 0.75;\n    \n    // This will make a right side vertical graph.\n    let drug_eval = svg.append('g')\n                      .attr('id', 'drug_eval')\n\n    let drug_Scale = d3.scaleLinear()\n                       .domain([0,max_drug])\n                       .range([0,80])\n\n    // This will set an x-axis for the vertical graph.\n    let x_axis = d3.axisTop()\n                    .scale(drug_Scale)\n                    .ticks(4)\n                    .tickSize(3)\n                    .tickFormat(d3.format('.0f'));\n\n                svg.append('g')\n                    .attr('transform', 'translate(' + (patient.length * rect_width + 20) + ',' + 35 + ')')\n                    .call(x_axis)\n                    .selectAll('text')\n                    .attr('fill', 'black')\n                    .style('font-size', 8)\n                    .attr('stroke', 'none');\n            \n\n    let  drug_height_Scale = d3.scaleLinear()\n                               .domain([0, (44 + (drug.length - 1) * 40)])\n                               .range([0, (rect_height * drug.length) + 10])\n\n                            drug_eval.append('rect')\n                               .attr('class', 'drug_eval_rect')\n                               .attr('x', patient.length * rect_width + 20)\n                               .attr('y', 35)\n                               .attr('height', rect_height * drug.length)\n                               .attr('width', drug_Scale(max_drug))\n                               .attr('fill', 'white')\n                               .style('stroke', 'black')\n                               .style('stroke-width', 1)\n\n\n    //rectangle for vertical graph. \n    let drugEvaluationRectangle = (iterator) => {\n        let response_eval_types = ['CR', 'PR', 'SD', 'PD']\n        let x_range = patient.length * rect_width + 20\n        let width = 0 \n        response_eval_types.forEach((type, j) => {\n            // x range for the rectangles.\n            x_range = x_range + width\n            width = drug_Scale(drug_evaluations[drug[iterator]][type])\n            drug_eval.append('rect')\n                    .attr('class', `drug_eval_${type}`)\n                    .attr('height', 26)\n                    .attr('width', width)\n                    .attr('x', x_range)\n                    .attr('y', drug_height_Scale(42 + iterator * 40))\n                    .attr('fill', target_color[j])\n                    .style('stroke', 'black')\n                    .style('stroke-width', stroke_width)\n        })\n    }\n\n    for(let i=0; i < drug.length; i++) {\n        drugEvaluationRectangle(i)\n    }\n\n\n                                        /** HORIZONTAL GRAPH AT THE TOP OF HEATMAP **/\n\n    let max_patientid_total = 0;\n    let box_height = 80;\n\n    // This will set the maximum number of total letiants.\n    let keys = Object.entries(patient_evaluations);\n    for(const key of keys) {\n        let curent_max = key[1].total;\n        if(curent_max > max_patientid_total) {\n            max_patientid_total = curent_max;\n        }\n    }\n\n    // This will only run if the length of the drug array is greater than 1 (it has more than one drug)\n    if(drug.length > 1) {\n        // appending 'g' element to the SVG.\n        let patient_eval = svg.append('g')\n                                .attr('id', 'patient_eval')\n\n\n        // setting the outer rectangle.\n        patient_eval.append('rect')\n                    .attr('class', 'patient_eval_rect')\n                    .attr('x', 0)\n                    .attr('y', -130)\n                    .attr('height', box_height)\n                    .attr('width', patient.length * 20)\n                    .attr('fill', 'white')\n                    .style('stroke', 'black')\n                    .style('stroke-width', 1)\n\n        // setting scale to map max patient_id value to range (height of the box.)\n        let patient_Scale = d3.scaleLinear()\n                                .domain([0,max_patientid_total])\n                                .range([0,box_height])\n\n        // This code will set y-axis of the graph at top\n        if(max_patientid_total !== 0) {\n\n            let patient_scales = d3.scaleLinear()\n                                    .domain([0,max_patientid_total])\n                                    .range([box_height,0]);\n                \n            let y_axis = d3.axisLeft()\n                            .scale(patient_scales)\n                            .ticks(2)\n                            .tickSize(0)\n                            .tickFormat(d3.format('.0f'));\n\n            svg.append('g')\n                .attr('transform', 'translate(0,-130.5)')\n                .call(y_axis)\n        }\n\n        // function to calculate patient evaluations.\n        let patientEvaluationRectangle = (iterator) => {\n            let response_eval_types = ['CR', 'PR', 'SD', 'PD']\n            let height = 0\n            let y_range = -130 + box_height \n\n            response_eval_types.forEach((type, j) => {\n                height = patient_Scale(patient_evaluations[patient[iterator]][type])\n                y_range = y_range - height\n                patient_eval.append('rect')\n                            .attr('class', 'patient_eval_cr')\n                            .attr('height', height)\n                            .attr('width', 16)\n                            .attr('x', iterator * 20)\n                            .attr('y', y_range)\n                            .attr('fill', target_color[j])\n                            .style('stroke', 'black')\n                            .style('stroke-width', stroke_width)\n            })\n        }\n      \n        for(let i=0; i<patient.length; i++) {\n            patientEvaluationRectangle(i)\n        }\n    }\n\n}\n\n    render() {\n        return (\n            <div ref = {node => this.node = node} className='heatmap-wrapper'>\n            </div>\n        )\n    }\n}\n\n\n\nHeatMap.propTypes = {\n    drug_id: PropTypes.array.isRequired,\n    patient_id: PropTypes.array.isRequired,\n    data: PropTypes.array.isRequired,\n    dimensions: PropTypes.object.isRequired,\n    margin: PropTypes.object.isRequired\n}\n\n\nexport default HeatMap","import React, {Fragment} from 'react'\nimport HeatMap from './HeatMap'\nimport axios from 'axios'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nclass HeatMapData extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting the states for the data.\n        this.state = {\n            data : [],\n            patient_id : [],\n            drug_id : [],\n            dataset_param : 0\n        };\n        //binding the functions declared.\n        this.parseData = this.parseData.bind(this);\n    }\n\n    // this function takes the parsed result and set the states.\n    parseData(result) {\n        let dataset = []\n        let patient = []\n        let drug = []\n\n        //patient array.\n        patient = result.pop()\n        \n        // this function will loop through the elements and\n        // assign empty values in case model information is not available.\n        result.forEach(element => {\n            let data_object = {}\n            drug.push(element.Drug)\n            patient.forEach((patient) => {\n                if(!element[patient]) {\n                    data_object[patient] = ''\n                } else {\n                    data_object[patient] = element[patient]\n                }\n            })\n            dataset.push(data_object)\n        });\n\n        this.setState({\n            drug_id : drug,\n            patient_id : patient,\n            data: dataset\n        })\n    }\n\n    componentWillMount() {\n        this.setState ({\n            dataset_param : this.props.dataset\n        })\n    }\n\n    componentDidMount() {\n        if(this.state.dataset_param > 0) {\n            axios.get(`/api/v1/response/${this.state.dataset_param}`)\n             .then(response => {\n                 this.parseData(response.data);\n             })\n        } else {\n            axios.get(`/api/v1/respeval`)\n            .then(response => {\n                this.parseData(response.data);\n            })\n        }\n    }\n\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 200,\n        right: 200,\n        bottom: 20,\n        left: 250\n    }\n\n    \n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <div className='wrapper' style={{margin:'auto', fontSize:'0'}}>\n                    <HeatMap\n                        data = {this.state.data} \n                        drug_id = {this.state.drug_id} \n                        className = 'heatmap'\n                        patient_id = {this.state.patient_id} \n                        dimensions = {this.dimensions}\n                        margin = {this.margin}\n                    />\n                </div>\n            </Fragment>\n        )\n    }\n}\n\nexport default HeatMapData","import React from 'react'\nimport * as d3 from 'd3'\nimport PropTypes from 'prop-types'\n\nclass Oncoprint extends React.Component {\n    constructor(props) {\n        super(props)\n        this.Oncoprint = this.Oncoprint.bind(this);\n    }\n\n    componentDidMount() {\n        //this.Oncoprint()\n    }\n\n    componentDidUpdate() {\n        this.Oncoprint()\n    }\n\n    Oncoprint() {\n        const node = this.node;\n        let plotId = 'plots';\n        let dimensions = this.props.dimensions;\n        let margin = this.props.margin;\n        let threshold = this.props.threshold;\n        let hmap_patients = this.props.hmap_patients;\n        let data_mut = this.props.data_mut;\n        let data_rna = this.props.data_rna\n        let genes_mut = this.props.genes_mut;\n        let genes_rna = this.props.genes_rna;\n        let patient_mut = this.props.patient_mut;\n        let patient_rna = this.props.patient_rna;\n\n        this.makeOncoprint(node, plotId, dimensions, margin, threshold, hmap_patients, data_mut, data_rna, genes_mut, genes_rna, patient_mut, patient_rna)\n    }\n\n\n    makeOncoprint(node, plotId, dimensions, margin, threshold, hmap_patients, data_mut, data_rna, genes_mut, genes_rna, patient_mut, patient_rna) {\n\n        // to merge two arrays and give the unique values.\n        // eslint-disable-next-line no-extend-native\n        Array.prototype.unique = function() {\n            let a = this.concat();\n            for(let i=0; i<a.length; ++i) {\n                for(let j=i+1; j<a.length; ++j) {\n                    if(a[i] === a[j])\n                        a.splice(j--, 1);\n                }\n            }\n            return a;\n        };\n        let genes = genes_mut.concat(genes_rna).unique(); \n        \n        this.node = node\n\n        // height and width for the SVG based on the number of genes_mut and patient/sample ids.\n        // height and width of the rectangles in the main skeleton.\n        let rect_height = dimensions.height;\n        let rect_width = dimensions.width;\n\n        // this height and width is used for setting the body.\n        let height = genes.length * rect_height + 100;\n        let width = hmap_patients.length * rect_width + 100;\n\n        // adding this for rectangles on right side of oncoprint.\n        // only if the mutation data is present.\n        let rect_alterations_mut = []\n        if(data_mut.length > 0) {\n            rect_alterations_mut = [\n                { value: 'Mutation', color: '#e41a1c'},\n                { value : 'Deep Deletion', color: '#0033CC' },\n                { value: 'Amplification', color: '#1a9850' },\n            ]\n        }\n        // only if rnaseq data is available.\n        let rect_alterations_rna = []\n        if(data_rna.length > 0) {\n            rect_alterations_rna = [\n                { value: 'mRNA High', color: 'none'},\n                { value: 'mRNA Low', color: 'none'},\n            ]\n        }\n        \n        let rect_alterations = [\n            ...rect_alterations_mut,\n            ...rect_alterations_rna,\n            { value: 'Wild Type', color: 'lightgray'},\n            { value: 'Not Available', color: 'none'}\n        ]\n       \n\n                                                    /** SETTING SVG ATTRIBUTES and Oncoprint SKELETON **/\n        const settingAttributes = () => {\n                // make the svg element\n                return svg = d3.select(node)\n                                .append('svg')\n                                .attr('id', 'oncoprint-' + plotId) // set an id so that I can remove+replace on refresh\n                                .attr('xmlns', 'http://www.w3.org/2000/svg')\n                                .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink') \n                                .attr('width', width + margin.left + margin.right)\n                                .attr('height', height + margin.top + margin.bottom)\n                                .append('g')\n                                .attr('transform',\n                                        'translate(' + margin.left + ',' + (margin.top) + ')')\n        }\n        let svg = settingAttributes()\n\n        // skeleton of the oncoprint\n        let skeleton = svg.append('g')\n                          .attr('id', 'skeleton')\n\n\n        \n                                                            /**  Gene Names on Y-Axis **/\n        // gene names on the y axis\n        let geneAxis = () => {\n            for (let i = 0; i < genes.length; i++) {\n                geneNames.append('text')\n                        .attr('class', genes[i])\n                        .attr('dx', -20)\n                        .style('text-anchor', 'end')\n                        .style('font-size', '13px')\n                        .attr('dy', i * (rect_height) + 23)\n                        .attr('font-weight', '500')\n                        .text(genes[i])\n                        .on('mouseover', function() {\n                            d3.selectAll('.oprint-hlight-' + genes[i])\n                            .style('opacity', 0.2)\n                        })\n                        .on('mouseout', function() {\n                            d3.selectAll('.oprint-hlight-' + genes[i])\n                            .style('opacity', 0)\n                        });\n            }\n        }\n\n        let geneNames = skeleton.append('g')\n                                .attr('id', 'gene-names')\n        \n        // create gene-name y-axis.\n        geneAxis()\n    \n        \n    \n                                                /** Setting Alterations **/\n\n        // alterations: mutations are #1a9850 and a third, AMP/del are #e41a1c/#0033CC and full respectively\n        let alterations = svg.append('g')\n                             .attr('id', 'alterations')\n\n        let highlight = svg.append('g')\n                           .attr('id', 'highlight')\n    \n\n        // collect info about alterations per gene/patient for plotting later\n        let gene_alterations = {}\n        let patient_alterations = []\n        if(genes_mut.length > 0) {\n            for (let i = 0; i < genes_mut.length; i++) {\n                gene_alterations[genes_mut[i]] = {'mut':0,'amp':0,'del':0}\n            } \n            \n            for (let i = 0; i < hmap_patients.length; i++) {\n                patient_alterations.push({'mut':0,'amp':0,'del':0})\n            }\n        }\n       \n        // take the difference of patient_mut from hmap_patients\n        let diff = []\n        if(patient_mut.length > 0) {\n            diff = hmap_patients.filter(x => !patient_mut.includes(x))\n        } else {\n            diff = hmap_patients.filter(x => !patient_rna.includes(x))\n        }\n        \n\n\n                                                            /** Coloring the rectangles based on mutation data **/\n\n        // this will take four parameters and color the rectangle accordingly\n        let colorReactangles = (value, color, i, j) => {\n            // setting a = 12 if value is mut\n            let a = value === 'mut' ? 12 : 0    \n            // setting the color based on value param.\n            if(value !== 'empty' && value !== 'highrna' && value !== 'lowrna') {\n                gene_alterations[genes_mut[i]][value]++;\n                patient_alterations[j][value]++;\n            }\n            // this is for mutation data and rnaseq.\n            let rect = alterations.append('rect')\n                                    .attr('class', `alter-rect ${value}`)\n                                    .attr('width', rect_width - 6)\n                                    .attr('height', rect_height - 6 - (2 * a))\n                                    .attr('fill', color)\n                                    .attr('x', j * (rect_width)) \n                                    .attr('y', i * (rect_height) + 2 * a/2)\n                                    \n            // setting the boder high-rna and low-rna.\n            if(value === 'highrna') {\n                rect.attr('stroke', 'red')   \n                    .style('opacity', 0.6)\n                   \n            } else if (value === 'lowrna') {\n                rect.attr('stroke', 'blue')\n                    .style('opacity', 0.6)\n                \n            }            \n        }\n\n\n        // stroke for not sequenced patients.\n        let colorNotSequenced = (i, j) => {\n            alterations.append('rect')\n                        .attr('class', 'alter-rect nseq')\n                        .attr('width', rect_width - 6)\n                        .attr('height', rect_height - 6)\n                        .attr('fill', 'white')\n                        .attr('stroke', 'lightgray')\n                        .attr('stroke-width', '1px')\n                        .attr('x', j * (rect_width) + 1) \n                        .attr('y', i * (rect_height) + 1)\n        }\n\n\n        // coloring the rectangles.\n        for (let i = 0; i < genes_mut.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                if (diff.indexOf(hmap_patients[j]) !== -1) {\n                    // if not sequenced, make it white with a border\n                    colorNotSequenced(i ,j)\n                } else {\n                    // complete layer of lightgrey rectangles.\n                    colorReactangles('empty', 'lightgrey', i, j)\n                    // based on the data gives different colors to the rectangle.\n                    if (data_mut[i][hmap_patients[j]].includes('Del0.8') || data_mut[i][hmap_patients[j]].includes('Deletion')) {\n                        colorReactangles('del', '#0033CC', i, j)\n                    }\n                    if (data_mut[i][hmap_patients[j]].includes('Amp') || data_mut[i][hmap_patients[j]].includes('Amplification')) {\n                        colorReactangles('amp', '#1a9850', i, j)\n                    }\n                    if (data_mut[i][hmap_patients[j]].includes('MutNovel') || data_mut[i][hmap_patients[j]].includes('mutation') || data_mut[i][hmap_patients[j]].includes('MutKnownFunctional')) {\n                        colorReactangles('mut', '#e41a1c', i, j)\n                    }\n                }\n            }\n        }   \n\n                                                          /** Coloring the rectangles borders based on rna sequencing data **/\n\n        // variable for taking care of rnaseq data sequence.\n        let z = 0;\n        for(let i = 0; i < genes.length ; i++) {\n            if (genes_rna.includes(genes[i])) {\n                for(let j = 0; j < hmap_patients.length; j++) {\n                    if (diff.indexOf(hmap_patients[j]) !== -1) {\n                        // if not sequenced, make it white with a border\n                        colorNotSequenced(i ,j)\n                    } else { //only if the element is not included \n                        // complete layer of lightgrey rectangles only if mutation data is not available.\n                        if(data_mut.length === 0) {\n                            colorReactangles('empty', 'lightgrey', i, j)\n                        }\n                        if (Number(data_rna[z][hmap_patients[j]]) > threshold) {\n                            colorReactangles('highrna', 'none', i, j)\n                        } else if (Number(data_rna[z][hmap_patients[j]]) < -threshold) {\n                            colorReactangles('lowrna', 'none', i, j)\n                        }\n                    }\n                }\n                z++;\n            }\n        }\n\n                                                    /** Setting Maxes for the alterations **/\n    \n        // getting the maxes\n        let maxPAmp = []; \n        let maxPMut = []; \n        let maxPHomdel = [];\n\n        if(genes_mut.length > 0) {\n            for (let i = 0; i < patient_alterations.length; i++) {\n                maxPAmp.push(patient_alterations[i]['amp'])\n                maxPHomdel.push(patient_alterations[i]['del'])\n                maxPMut.push(patient_alterations[i]['mut'])\n            }\n            maxPAmp = d3.max(maxPAmp)\n            maxPHomdel = d3.max(maxPHomdel)\n            maxPMut = d3.max(maxPMut)\n        }\n       \n        // getting the maxes\n        let maxGAmp = []; \n        let maxGMut = []; \n        let maxGHomdel = [];\n\n        if(genes_mut.length > 0) {\n            for (let i = 0; i < genes_mut.length; i++) {\n                maxGAmp.push(gene_alterations[genes_mut[i]]['amp'])\n                maxGHomdel.push(gene_alterations[genes_mut[i]]['del'])\n                maxGMut.push(gene_alterations[genes_mut[i]]['mut'])\n            }\n            maxGAmp = d3.max(maxGAmp)\n            maxGHomdel = d3.max(maxGHomdel)\n            maxGMut = d3.max(maxGMut)\n        }\n        \n                                                        /** ALTERATION GRAPHS **/\n        \n                                                          /** Vertical Graph **/\n\n        if(genes_mut.length > 0) {\n             // calculating max width\n            let max_width_arr = []\n            for (let i = 0; i < genes_mut.length; i++) { \n                max_width_arr.push(gene_alterations[genes_mut[i]]['mut'] + gene_alterations[genes_mut[i]]['amp'] + gene_alterations[genes_mut[i]]['del'])\n            }\n        \n            let max_width = d3.max(max_width_arr)\n\n            let xrange_gene = d3.scaleLinear()\n                                .domain([0, d3.max([maxGAmp, maxGMut, maxGHomdel])])\n                                .range([0,50]);\n\n            \n            let gene_alter = svg.append('g')\n                                .attr('id', 'gene-alter')\n                                .attr('transform', 'translate(' + (hmap_patients.length * rect_width + 20) + ',0)')\n\n            let stroke_width = 1; // this will set the stroke width of the outer rectangle \n\n            // setting the outer rectangle.\n            gene_alter.append('rect')\n                        .attr('class', 'patient_eval_rect')\n                        .attr('x', 0)\n                        .attr('y', 0)\n                        .attr('height', (rect_height) * (genes.length) - 6)\n                        .attr('width', xrange_gene(max_width))\n                        .attr('fill', 'white')\n                        .style('stroke', 'black')\n                        .style('stroke-width', stroke_width)\n\n\n            // function to caculate alterations.\n            let geneAlterationReactangle = (iterator) => {\n                // variables.\n                let gene_class = ['mut', 'amp', 'del']\n                let i = iterator\n                let x_range = stroke_width/2\n                // loops through each type for each of the genes_mut.\n                gene_class.forEach((type) => {\n                    // color setting.\n                    let color = ''\n                    if (type === 'mut') {\n                        color = '#e41a1c'\n                    } else if (type === 'amp') {\n                        color = '#1a9850'\n                        x_range = x_range + xrange_gene(gene_alterations[genes_mut[i]]['mut'])\n                    } else if (type === 'del') {\n                        color = '#0033CC'\n                        x_range = x_range + xrange_gene(gene_alterations[genes_mut[i]]['amp'])\n                    }\n                    // rectangle coloring.\n                    gene_alter.append('rect')\n                            .attr('class', `gene-rect ${type}`)\n                            .attr('height', rect_height - 6)\n                            .attr('width', xrange_gene(gene_alterations[genes_mut[i]][type]))\n                            .attr('fill', color)\n                            .attr('y', (i * (rect_height)))\n                            .attr('x', x_range)\n                })\n            }\n\n            // calculate alterations for each row.\n            for (let i = 0; i < genes_mut.length; i++) {\n                geneAlterationReactangle(i)\n            }\n                \n            // This will set the axis and scale.\n            let xrange_scale = d3.scaleLinear() \n                                .domain([0, max_width])\n                                .range([0, xrange_gene(max_width)]);\n\n            let x_axis = d3.axisTop()\n                            .scale(xrange_scale)\n                            .ticks(4)\n                            .tickSize(3)\n                            .tickFormat(d3.format('.0f'));\n\n            svg.append('g')\n                .attr('class', 'x_axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .attr('transform', 'translate(' + (hmap_patients.length * rect_width + 20) + ' -0 )')\n                .call(x_axis)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n            \n            svg.selectAll('.tick')\n                .select('text')\n                .attr('fill', 'black')\n                .attr('stroke', 'none')\n        }\n       \n\n            \n                                                         /** Horizontal Graph **/\n\n                                                         // calculating max height\n\n        if(genes_mut.length > 0) {\n\n            let max_height_arr = []\n            for (let i = 0; i < patient_alterations.length; i++) { \n                max_height_arr.push(patient_alterations[i]['mut'] + patient_alterations[i]['amp'] + patient_alterations[i]['del'])\n            }\n        \n            let max_height = d3.max(max_height_arr)\n\n            let patient_alter = svg.append('g')\n                                    .attr('id', 'patient-alter')\n        \n            let yrange_patient = d3.scaleLinear() // #TODO: scale.linear\n                                    .domain([0, d3.max([maxPAmp, maxPMut, maxPHomdel])])\n                                    .range([35, 0]);\n\n\n            // function to caculate alterations.\n            let patientAlterationReactangle = (iterator) => {\n                // variables.\n                let patient_class = ['mut', 'amp', 'del']\n                let i = iterator\n                let y_range = 0\n\n                // loops through each type for each of the genes_mut.\n                patient_class.forEach((type, j) => {\n                    // set value to 1 if j is greater than 1.\n                    j = j > 1 ? j / j : j\n                    // setting y range.\n                    y_range = (yrange_patient(patient_alterations[i][type])) - ((35 * j) - y_range)\n                    // color setting.\n                    let color = ''\n                    if (type === 'mut') {\n                        color = '#e41a1c'\n                    } else if (type === 'amp') {\n                        color = '#1a9850'\n                    } else if (type === 'del') {\n                        color = '#0033CC'\n                    }\n                    // rectangle coloring.\n                    patient_alter.append('rect')\n                            .attr('class', `patient-rect${type}`)\n                            .attr('height', 35 - yrange_patient(patient_alterations[i][type]))\n                            .attr('width', rect_width - 5)\n                            .attr('fill', color)\n                            .attr('y', y_range)\n                            .attr('x', i * 20 + 1)\n                            .attr('transform', 'translate(0,-40)')\n                })\n            }\n                            \n            for (let i = 0; i < patient_alterations.length; i++) {\n                patientAlterationReactangle(i)\n            }\n\n            let yrange_axis = d3.scaleLinear() \n                                .domain([0, max_height])\n                                .range([35 - yrange_patient(max_height), 0]).nice();\n\n            let y_axis = d3.axisLeft()\n                            .scale(yrange_axis)\n                            .ticks(4)\n                            .tickSize(3)\n                            .tickFormat(d3.format('.0f'));\n        \n            svg.append('g')\n                .attr('class', 'y_axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .attr('transform', 'translate(-10,' + (-(35 - yrange_patient(max_height))-5) + ')')\n                .call(y_axis)\n                .selectAll('text')\n                .attr('fill', 'black')\n                .style('font-size', 8)\n                .attr('stroke', 'none');\n        \n            svg.selectAll('.tick')\n                    .select('text')\n                    .attr('fill', 'black')\n                    .attr('stroke', 'none')\n        \n            // removing the 0 tick\n            svg.selectAll('.y_axis .tick')\n                .each(function (d) {\n                    if ( d === 0 ) {\n                        this.remove();\n                    }\n            });\n        }    \n            // dotted lines.\n            let lines = svg.append('g')\n                            .attr('id', 'lines')\n                            .attr('transform', function(d,i) {\n                                return `translate(2,-200)`\n                            })\n            const temp = hmap_patients.slice(0)\n            temp.push('')\n\n            lines.selectAll('line.dashed-line')\n                    .data(temp)\n                    .enter()\n                        .append('line')\n                        .attr('class', 'dashed-line')\n                        .attr('x1', function(d,i) {\n                            return i * (rect_width) - 3;  \n                        })\n                        .attr('x2', function(d,i) {\n                            return i * (rect_width) - 3;  \n                        })\n                        .attr('y1', 0)\n                        .attr('y2', 200)\n                        .attr('stroke', 'black')\n                        .attr('stroke-width', 1)\n                        .style('stroke-dasharray', '3 2')\n                        .style('opacity', 0.2)\n\n            lines.selectAll('rect.hlight-space')\n                        .data(hmap_patients)\n                        .enter()\n                        .append('rect')\n                        .attr('class', function(d) {\n                            return 'hlight-space-' + d\n                        })\n                        .attr('width', rect_width - 2)\n                        .attr('height', 200)\n                        .attr('x', function(d,i) {\n                            return i * rect_width - 2;  \n                        })\n                        .attr('fill', 'rgb(0,0,0)')\n                        .attr('y', 0)\n                        .style('opacity', 0)  \n        //}\n                                                                                         /** SMALL RECTANGLES ON RIGHT SIDE OF Oncoprint **/\n                                                                                         \n        // This will create rectangles on right side for alterations.\n        // legends\n        let target_rect = skeleton.append('g')\n                                    .attr('id', 'small_rectangle')\n\n                        target_rect.selectAll('rect')\n                                    .data(rect_alterations)\n                                    .enter()\n                                    .append('rect')\n                                    .attr('x', (hmap_patients.length * rect_width + 120))\n                                    .attr('y', function(d, i) {\n                                        return (genes.length * 10) + i * 25;\n                                    })\n                                    .attr('height', '15')\n                                    .attr('width', '15')\n                                    .attr('fill', function(d) {\n                                        if (d.color === 'none') {\n                                            d3.select(this).attr('stroke','lightgray')\n                                                            .attr('transform', 'translate(1,1)')\n                                                            .attr('width', 14)\n                                                            .attr('height', 14)\n                                            return 'white'\n                                        }\n                                        return d.color;\n                                    })\n                                    .attr('stroke', d => {\n                                        if(d.value === 'mRNA High') {\n                                            return 'red'\n                                        } else if (d.value === 'mRNA Low') {\n                                            return 'blue'\n                                        } else if (d.value === 'Not Available') {\n                                            return 'lightgray'\n                                        }\n                                    })\n                                    .attr('stroke-width', '.5px')\n\n                        target_rect.selectAll('text')\n                                    .data(rect_alterations)\n                                    .enter()\n                                    .append('text')\n                                    .attr('x', (hmap_patients.length * rect_width + 140))\n                                    .attr('y', function(d,i) {\n                                        return (genes.length * 10 + 12) + i * 25;\n                                    })\n                                    .text(function(d) {\n                                        return d.value;\n                                    })\n                                    .attr('font-size', '14px')\n\n\n        // highlight\n        for (let i = 0; i < genes.length; i++) {\n            for (let j = 0; j < hmap_patients.length; j++) {\n                highlight.append('rect')\n                        .attr('class', 'oprint-hlight-' + hmap_patients[j] + ' oprint-hlight-' + genes[i])\n                        .attr('width', rect_width - 2)\n                        .attr('height', rect_height - 2)\n                        .attr('fill', 'black')\n                        .attr('x', j * (rect_width))\n                        .attr('y', i * (rect_height ))\n                        .style('opacity', 0)\n                        .on('mouseover', function(d,x) {\n                            d3.selectAll('.hmap-hlight-' + hmap_patients[j])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.oprint-hlight-' + hmap_patients[j])\n                                .style('opacity', 0.2)\n                            d3.selectAll('.hlight-space-' + hmap_patients[j])\n                                .style('opacity', 0.2)\n                        \n                        })\n                        .on('mouseout', function(d,x) {\n                            d3.selectAll('.hmap-hlight-' + hmap_patients[j])\n                                .style('opacity', 0)\n                            d3.selectAll('.oprint-hlight-' + hmap_patients[j])\n                                .style('opacity', 0)\n                            d3.selectAll('.hlight-space-' + hmap_patients[j])\n                                .style('opacity', 0)\n                        })\n            }\n        }                           \n\n    }\n\n    render() {\n        return (\n            <div ref = {node => this.node = node} className='oprint-wrapper'>\n            </div>\n        )\n    }\n}\n\n\nOncoprint.propTypes = {\n    genes_mut: PropTypes.array.isRequired,\n    patient_mut: PropTypes.array.isRequired,\n    hmap_patients: PropTypes.array.isRequired,\n    data: PropTypes.array.isRequired\n}\n\n\nexport default Oncoprint","import React from 'react'\nimport Oncoprint from './Oncoprint'\nimport axios from 'axios'\n\nclass OncoprintData extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            dataset_param : 0,\n            threshold : 2,\n            hmap_patients: [],\n            genes_mut : [],\n            genes_rna : [],\n            patient_mut : [],\n            patient_rna : [],\n            data_mut : [],\n            data_rna : []\n        };\n        this.updateResults = this.updateResults.bind(this);\n    }\n\n    updateResults(onco) {\n        // total patients.\n        const dataset = onco[0].data;\n        let hmap_patients = [];\n        // grabbing the total patients from hmap.\n        hmap_patients = dataset.pop()\n\n        //setting patients genes and data for each of mutation, cnv and rna (given they are present)\n        let patient = {}\n        let genes = {}\n        let data = {}\n        let genomics = ['Mutation', 'RNASeq']\n\n        genomics.forEach((value, i) => {\n            let val = value.substring(0,3).toLowerCase()\n\n            // setting patients\n            let patient_id = Object.keys(onco[i].data[0]).filter(value => {\n                let return_value = ''\n                if(value !== 'gene_id') {\n                    return_value = value\n                }\n                return return_value\n            });\n            console.log(patient_id)\n            patient[`patient_${val}`] = patient_id\n\n            // genes\n            let gene_id = onco[i].data.map((data) => {\n                return data['gene_id']\n            })\n            genes[`genes_${val}`] = gene_id\n\n            //data\n            data[`data_${val}`] = onco[i].data\n        })\n\n\n        this.setState({\n            hmap_patients : hmap_patients,\n            patient_mut : patient['patient_mut'],\n            patient_rna : patient['patient_rna'],\n            genes_mut : genes['genes_mut'],\n            genes_rna : genes['genes_rna'],\n            data_mut : data['data_mut'],\n            data_rna : data['data_rna'],\n        })\n    }\n\n    componentWillMount() {\n        this.setState ({\n            dataset_param : this.props.dataset\n        })\n    }\n\n    componentDidMount() {\n        if(this.state.dataset_param > 0) {\n            let mutation_data = axios.get(`/api/v1/mutation/${this.state.dataset_param}`)\n            let rnaseq_data = axios.get(`/api/v1/rnaseq/${this.state.dataset_param}`)\n            \n            Promise.all([mutation_data, rnaseq_data])\n                    .then(response => {\n                        this.updateResults(response);  \n                    })\n        } else { // this is basically useless else statement.\n            axios.get(`/api/v1/mutation`)\n                .then(response => {\n                    this.updateResults(response.data);\n                })\n        }\n    }\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 100,\n        right: 200,\n        bottom: 0,\n        left: 250\n    }\n\n    render() {\n        return (\n            <div className='wrapper' style={{margin:'auto', fontSize:'0'}}>\n                <Oncoprint \n                    className = 'oprint'\n                    dimensions = {this.dimensions}\n                    margin = {this.margin}\n                    threshold = {this.state.threshold}\n                    hmap_patients = {this.state.hmap_patients}\n                    genes_mut = {this.state.genes_mut} \n                    genes_rna = {this.state.genes_rna}\n                    patient_mut = {this.state.patient_mut}\n                    patient_rna = {this.state.patient_rna}\n                    data_mut = {this.state.data_mut} \n                    data_rna = {this.state.data_rna}\n                />   \n            </div>    \n        )\n    }\n}\n\nexport default OncoprintData","import React from 'react';\n\n\nconst styles = {\n\tcolor: '#3453b0',\n\tfontSize: 18, \n\ttextAlign: 'center',\n    paddingTop: '30px',\n    minHeight: '50px',\n    bottom: '0',\n    right: '0',\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    minWidth:'100vw',\n    backgroundColor: 'rgb(255,255,255,0.8)',\n    fontFamily: 'sans-serif',\n   \n};\n\n\nclass Footer extends React.Component {\n    render() {\n        return (\n            <div style={styles}>\n                BHKLab 2019\n            </div>\n        )\n    }\n}\n\n\n\nexport default Footer","import React, {Fragment} from 'react'\nimport HeatMapData from '../HeatMap/HeatMapData'\nimport OncoprintData from '../Oncoprint/OncoprintData'\nimport Footer from '../Footer/Footer'\n\nclass Dataset extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            dataset : 0\n        }\n    }\n\n    componentWillMount() {\n        let dataset_param = this.props.match.params.id\n        this.setState ({\n            dataset: dataset_param\n        })\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <HeatMapData  \n                    dataset = {this.state.dataset}\n                />\n                <OncoprintData\n                    dataset = {this.state.dataset}\n                />\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\n\n\nexport default Dataset","import React from 'react'\nimport * as d3 from 'd3'\nimport PropTypes from 'prop-types'\n\n\nclass DonutChart extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.DonutChart = this.DonutChart.bind(this);\n        this.makeDonutChart = this.makeDonutChart.bind(this);\n    }\n\n    componentDidMount() {\n        //this.DonutChart()\n    }\n\n    componentDidUpdate() {\n        this.DonutChart()\n    }\n\n    DonutChart() {\n        const node = this.node\n        const data = this.props.data\n        const height = this.props.dimensions.height\n        const width = this.props.dimensions.width\n        const left = this.props.margin.left\n        const top = this.props.margin.top\n        const bottom = this.props.margin.bottom\n        const right = this.props.margin.right\n        this.makeDonutChart(node, data, height, width, left, top, bottom, right)\n    }\n\n    // data should be like => {id: 'Gastric Cancer', value: 1007}\n    makeDonutChart(node, data, height, width, left, top, bottom, right) {\n        //console.log(data)\n        let chartId = this.props.chartId\n\n                                                /** SETTING SVG ATTRIBUTES **/\n        d3.select('svg').remove()\n        // make the SVG element.\n        let svg = d3.select(node)\n                    .append('svg')\n                    .attr('id', 'donutchart-' + this.props.chartId)\n                    .attr('xmlns', 'http://wwww.w3.org/2000/svg')\n                    .attr('xmlns:xlink', 'http://wwww.w3.org/1999/xlink')\n                    .attr('height',height + top + bottom)\n                    .attr('width',width + left + right)\n                    .append('g')\n                    .attr('transform', 'translate(' + left + ',' + top + ')')\n        \n                                                /* Skeleton for the pie/donut chart */\n        // structure of the chart\n        let skeleton = svg.append('g')\n                          .attr('id', 'skeleton')\n\n                                                        /* Donut Chart */\n\n        // color scheme for the pie/donut chart using the ordinal scale.     \n        \n        let colors = ['#E64B35FF' ,'#4DBBD5FF' ,'#00A087FF' ,'#3C5488FF' ,'#F39B7FFF'  ,'#8491B4FF' ,'#91D1C2FF' ,'#B09C85FF'\n                        ,'#0073C2FF' ,'#868686FF' ,'#CD534CFF' ,'#7AA6DCFF' ,'#003C67FF' ,'#3B3B3BFF' ,'#A73030FF' ,'#4A6990FF'\n                       ,'#00468BBF' ,'#42B540BF' ,'#0099B4BF' ,'#925E9FBF' ,'#FDAF91BF' ,'#AD002ABF' ,'#ADB6B6BF'\n                     ]\n\n        let color = d3.scaleOrdinal()\n                      .domain(data)\n                      .range(colors);\n\n\n                                                        /* div element for the tooltip */\n        // create a tooltip\n        let tooltip = d3.select(node)\n                            .append('div')\n                            .style('position', 'absolute')\n                            .style('visibility', 'hidden')\n                            .style('border', 'solid')\n                            .style('border-width', '2px')\n                            .style('border-radius', '5px')\n                            .style('padding', '5px')\n                            .attr('top', 10)\n                            .attr('left', 20);\n\n\n                                                        /* Arc for the main pie chart and label arc */\n\n        // arc generator\n        let arc = d3.arc()\n                    .outerRadius(this.props.arc.outerRadius)\n                    .innerRadius(this.props.arc.innerRadius)\n\n        // this is used to set the labels\n        let labelArc = d3.arc()\n                         .outerRadius(this.props.arc.outerRadius - 20)\n                         .innerRadius(this.props.arc.innerRadius + 10)\n\n                                                             /* Pie/Donut chart layout */\n\n        // pie generator/layout\n        let pie = d3.pie()\n                    .sort(null)\n                    .value((d) => {\n                        return d.value;\n                    })\n        \n        // this will send the data to the pie generator and appending the class arc.\n        let arcs = skeleton.selectAll('.arc')\n                      .data(() => {\n                          return pie(data);\n                      })\n                      .enter()  \n                      .append('a')\n                      .attr('xlink:href', function(d,i) {\n                           if(chartId === 'donut_datasets') {\n                                return `/dataset/${data[i].parameter}`\n                           }\n                      })\n                      .append('g')\n                      .attr('class', (d) => {\n                          return (d.data.id).replace(/\\s/g,'').replace(/[(-)]/g, '') + '_Arc'\n                      })\n        \n        // here we are appending path and use of d element to create the path.\n        let piearc = arcs.append('path')\n                         .attr('d', arc)\n                         .attr('fill', (d) => {\n                            return color(d.data.value);\n                         })\n                         .attr('stroke', 'black')\n                         .style('stroke-width', '.5px')\n              \n        // transition of the arcs for the pie chart itself.\n        piearc.transition()\n                .ease(d3.easeLinear)\n                .duration(500)\n                .attrTween('d', pieTween);\n\n        function pieTween(b) {\n            b.innerRadius = 0;\n            let i = d3.interpolate({startAngle: 0, endAngle:0}, b);\n            return function(t) {\n                return arc(i(t))\n            }\n        }\n                       \n        // this is a very basic tooltip.\n                /*\n                piearc.append('title')\n                    .text((d) => {\n                        return 'value is ' + d.data.value\n                    })\n                */    \n                                                                        /* event listeners */\n\n        let mouseover = function(d) {\n            let selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')\n            d3.select('.' + selection + '_Arc')\n                .transition()\n                .duration(300)\n                .style('opacity', 0.4)\n                .style('cursor', 'pointer')\n            // tooltip on mousever setting the div to visible.\n            tooltip\n                .style('visibility', 'visible')\n        }\n\n        let mousemove = function(d) {\n            let selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')\n            d3.select('.' + selection + '_Arc')\n                .transition()\n                .duration(300)\n                .style('opacity', 0.4)\n                .style('cursor', 'pointer')\n            // tooltip grabbing event.pageX and event.pageY and set color according to the ordinal scale.\n            let value = ' (' + d.data.value + ')'\n            tooltip\n                .text([d.data.id + value])\n                .style('left', d3.event.pageX + 10 + 'px')\n                .style('top', d3.event.pageY + 10 + 'px')\n                .style('color', 'white')\n                .style('background-color', color(d.data.value))\n        }\n\n        let mouseout = function(d) {\n            let selection = (d.data.id).replace(/\\s/g, '').replace(/[(-)]/g, '')\n            d3.select('.' + selection + '_Arc')\n                .transition()\n                .duration(300)\n                .style('opacity', 1)\n                .style('cursor', 'pointer')\n            // tooltip on mouseout.\n            tooltip\n                .style('visibility', 'hidden')\n                .style('background-color', 'black')\n        }\n\n        // transition while mouseover and mouseout on each slice.\n          piearc.on('mouseover', (d) => {\n                       mouseover(d)\n                    })\n                    .on('mousemove', (d,i) => {\n                        mousemove(d)\n                    })\n                    .on('mouseout', (d) => {\n                       mouseout(d)\n                    })\n    \n                                                                    /* Label with event listeners */\n\n        // append the text labels.\n        if(this.props.chartId !== 'donut_drugs' && this.props.chartId !== 'donut_datasets' && this.props.chartId !== 'donut_tissues') {\n            arcs.append('text')\n                    .attr('transform', (d) => {\n                        return 'translate(' + labelArc.centroid(d) + ')'\n                    })\n                    .attr('dy', '0.35em')\n                    .text(d => {\n                        if (d.data.id === 'Non-small Cell Lung Carcinoma') {\n                            return 'NSCLC'\n                        }\n                        else { return d.data.id }\n                    })\n                    //.attr('font-weight', 'bold')\n                    .style('text-anchor', 'middle')\n                    .style('font-size', 14)\n                    .attr('fill', 'white')\n                    .on('mouseover', (d) => {\n                        mouseover(d)\n                    })\n                    .on('mousemove', (d) => {\n                        mousemove(d)\n                    })\n                    .on('mouseout', (d) => {\n                        mouseout(d)\n                    })             \n        }\n            \n                        \n\n                                                                    /**   Legends for the Donut Chart **/\n\n        // small side rectangles or legends for the donut chart.\n            let donut_rect = svg.append('g')\n                                     .attr('id', 'donut_small_rect')\n                            \n                            \n                            donut_rect.selectAll('rect')\n                                        .data(data)\n                                        .enter()\n                                        .append('rect')\n                                        .attr('x', (width) - 240)\n                                        .attr('y', function(d, i) {\n                                            return (-20 * i + (data.length)*10) - i * 8\n                                        })\n                                        .attr('width', 20)\n                                        .attr('height', 20)\n                                        .attr('fill', (d) => {\n                                            return color(d.value);\n                                        })\n\n                            donut_rect.selectAll('text')\n                                        .data(data)\n                                        .enter()\n                                        .append('text')\n                                        .attr('x', (width) - 200)\n                                        .attr('y', function(d, i) {\n                                            return (-20 * i + (data.length)*10) - i * 8 + 15\n                                        })\n                                        .attr('fill', (d) => {\n                                            return color(d.value)\n                                        })\n                                        .text(d => {\n                                            //console.log(d)\n                                            return d.id;\n                                        })              \n    }\n\n    render() {\n        return (\n            <div \n                ref = {node => this.node = node} \n                className = 'donut-chart'\n            >\n            </div>\n        )\n    }\n}\n\n\nDonutChart.propTypes = {\n    dimensions: PropTypes.object.isRequired,\n    margin: PropTypes.object.isRequired,\n    chartId: PropTypes.string.isRequired,\n    data: PropTypes.array.isRequired,\n    arc: PropTypes.object.isRequired\n}\n\nexport default DonutChart","import React, {Fragment} from 'react'\nimport DonutChart from '../DonutChart/DonutChart'\nimport axios from 'axios';\nimport styled from 'styled-components'\nimport Footer from '../Footer/Footer'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    color: #3453b0;\n    margin-bottom: 100px;\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`\n\nclass DatasetDonut extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        axios.get(`/api/v1/dataset/patients`)\n            .then((response) => {\n                response = response.data.data.map((element) => {\n                    return ({\n                        id: element.dataset_name,\n                        value: element.patient_id,\n                        parameter: element.dataset_id\n                    })\n                })\n                this.setState({\n                    data: response\n                })\n            })\n    }\n\n    dimensions = {\n        width: 650,\n        height: 250\n    }\n\n    margin = {\n        top: 320,\n        right: 100,\n        bottom: 100,\n        left: 380\n    }\n\n    arc = {\n        outerRadius: 260,\n        innerRadius: 150\n    }\n\n    chartId = 'donut_datasets'\n\n    render() {\n        return (\n            <Fragment>\n                <GlobalStyles/>\n                <TopNav/>\n                <Wrapper>\n                    <div className='donut-wrapper'>\n                        <h1> Number of Patient IDs Per Dataset </h1>\n                        <DonutChart \n                            dimensions = {this.dimensions} \n                            margin = {this.margin} \n                            chartId = {this.chartId} \n                            data = {this.state.data}\n                            arc = {this.arc}\n                        />\n                    </div>\n                </Wrapper>\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\n\nexport default DatasetDonut","import React, {Fragment} from 'react'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\n\nclass Documentation extends React.Component {\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <div className='wrapper'>\n                    <div className='doc-wrapper'>\n                        <h1> Documentation will be added Later. </h1>\n                    </div>\n                </div>\n            </Fragment>\n        )\n    }\n}\n\n\nexport default Documentation","import styled from 'styled-components'\n\n\nconst TableWrapper = styled.div`\n    padding:10px 20px 30px 20px;\n\n    .ReactTable * {\n        box-sizing: border-box;\n    }\n\n    .ReactTable .rt-table {\n        align-items: stretch;\n        width: 100%;\n        border-collapse: collapse;\n        overflow: auto\n    }\n\n    .ReactTable .rt-thead {\n        color:  #3453b0;\n        font-size: 18px;\n        font-weight: 600;\n    }\n\n    .ReactTable .rt-thead .rt-tr {\n        text-align: center\n    }\n\n    .ReactTable .rt-tbody{\n        color:  #3453b0;\n        font-size: 16px;\n    }\n\n    .-previous, .-next, .-btn {\n      background: #3453b0;\n      color:white !important;\n    }\n\n    .ReactTable .-pagination .-pageJump input{\n        color: #3453b0;\n    }\n`\n\n\nexport default TableWrapper","import React, {Fragment} from 'react'\nimport axios from 'axios'\nimport ReactTable from 'react-table'\nimport 'react-table/react-table.css'\nimport TableWrapper from './DrugTableStyle'\n\n\nvar h1Style = {\n  color: '#3453b0',\n  margin: '50px'\n}\n\nclass DrugTable extends React.Component {\n\n    constructor(props) {\n      super(props) \n      //setting the states for the data.\n      this.state = {\n        data: []\n      }\n    }\n\n    componentDidMount() {\n      axios.get(`/api/v1/drugs`)\n            .then(response => {\n                this.setState ({\n                  data: response.data\n                })\n            })\n    }\n\n    render() {\n      const data = this.state.data\n\n      const columns = [\n        {\n          Header: 'Drug',\n          accessor: 'drug_id',\n          minWidth: 180,\n          //Cell: props => props.value.toUpperCase(),\n          sortable: true\n        }, \n        //{\n        //  Header: 'StandardName',\n        //  accessor: 'standard_name',\n        //  minWidth: 180,\n        //  Cell: props => props.value.toUpperCase()\n        //}, \n        {\n          Header: 'TreatmentType',\n          accessor: 'treatment_type',\n          minWidth: 150\n        },\n        //{\n        //  Header: 'PubchemID',\n        //  accessor: 'pubchemId',\n        //},\n        //{\n        //  Header: 'Class',\n        //  accessor: 'class',\n        //  minWidth: 230\n        //},\n        {\n          Header: 'Class',\n          accessor: 'class_name',\n          minWidth: 230\n        },\n        {\n          Header: 'Targets',\n          accessor: 'targets',\n          minWidth: 150\n        },\n        {\n          Header: 'Source',\n          accessor: 'source',\n        }\n      ]\n      \n        return (\n          <Fragment>\n            <h1 style = {h1Style}> Drug Table </h1>\n            <TableWrapper className='wrap'>\n              <ReactTable\n                data = {data}\n                columns = {columns}\n                className = '-highlight'\n                defaultPageSize = {10}\n                filterable\n              /> \n            </TableWrapper>         \n          </Fragment>\n        )\n    }\n\n}\n \nexport default DrugTable","import React, {Fragment} from 'react'\nimport DonutChart from '../DonutChart/DonutChart'\nimport Footer from '../Footer/Footer'\nimport DrugTable from './DrugTable'\nimport axios from 'axios'\nimport styled from 'styled-components'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    margin-bottom: 100px;\n    color: #3453b0\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`\n\nclass DonutDrug extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        let new_values = []\n        axios.get(`/api/v1/drug/class`)\n             .then((response) => {\n                 response.data.data.forEach((data) => {\n                     let value = {}\n                     if(data.class_name !== '') {\n                        value['id'] = (data.class_name).replace('\"', '').replace(\"/\", \"_\")\n                        value['value'] = data.model_ids\n                        new_values.push(value)\n                     }\n                 })\n                 this.setState({\n                     data : new_values\n                 })\n             })\n             \n    }\n\n    dimensions = {\n        width: 600,\n        height: 250\n    }\n\n    margin = {\n        top: 320,\n        right: 100,\n        bottom: 100,\n        left: 380\n    }\n\n    arc = {\n        outerRadius: 260,\n        innerRadius: 150\n    }\n\n    chartId = 'donut_drugs'\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <Wrapper>\n                    <div className='donut-wrapper'>\n                        <h1> Number of Model IDs Per Drug class </h1>\n                        <DonutChart \n                            dimensions = {this.dimensions} \n                            margin = {this.margin} \n                            chartId = {this.chartId} \n                            data = {this.state.data}\n                            arc = {this.arc}\n                        />\n                    </div>\n                    <div className='donut-wrapper'>\n                        <DrugTable/>\n                    </div>\n                </Wrapper>\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\nexport default DonutDrug","import React from 'react'\nimport DonutChart from './DonutChart'\nimport axios from 'axios'\n\n                                                    // This code is not being used anywhere for now //\nclass DonutPatient extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        let new_values = []\n        const promise1 = axios.get(`/api/v1/getinboth`);\n        const promise2 = axios.get(`/api/v1/getonlydrug`);\n        const promise3 = axios.get(`/api/v1/getonlysequencing`);\n\n        Promise.all([promise1, promise2, promise3])\n             .then((response) => {\n                let i = 1;\n                response.forEach((data) => {\n                    if(data.data.length !== 0) {\n                        let value = {}\n                        if (i===1) {\n                            value['id'] = 'Sequence and Drug Data'\n                        } else if (i===2) {\n                            value['id'] = 'Only Drug Data'\n                        } else if (i===3) {\n                            value['id'] = 'Only Sequence Data'\n                        }\n                        i++;\n                        value['value'] = data.data.length;\n                        new_values.push(value)\n                    }\n                })\n                this.setState({\n                    data : new_values\n                })\n             })\n    }\n\n    dimensions = {\n        width: 130,\n        height: 80\n    }\n\n    margin = {\n        top: 220,\n        right: 100,\n        bottom: 100,\n        left: 250\n    }\n\n    arc = {\n        outerRadius: 160,\n        innerRadius: 70\n    }\n\n    chartId = 'donut_patient'\n\n    render() {\n        return (\n            <div className='DonutPatient'>\n                <DonutChart \n                    dimensions = {this.dimensions} \n                    margin = {this.margin} \n                    chartId = {this.chartId} \n                    data = {this.state.data}\n                    arc = {this.arc}\n                />\n            </div>\n        )\n    }\n}\n\nexport default DonutPatient","import React, {Fragment} from 'react'\nimport DonutChart from '../DonutChart/DonutChart'\nimport Footer from '../Footer/Footer'\nimport axios from 'axios'\nimport styled from 'styled-components'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-top: 200px;\n    color: #3453b0;\n    margin-bottom: 100px;\n\n    h1 {\n        font-family:'Raleway', sans-serif;\n        font-weight:700;\n        text-align:center;\n    }\n`\n\n\nclass DonutTissue extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : []\n        }\n    }\n\n    componentDidMount() {\n        let new_values = []\n        axios.get(`/api/v1/tissue/patients`)\n             .then((response) => {\n                 response.data.data.forEach((data) => {\n                     let value = {}\n                     value['id'] = data.tissue_name\n                     value['value'] = data.total\n                     new_values.push(value)\n                 })\n                 this.setState({\n                     data : new_values\n                 })\n             })\n    }\n\n   \n    dimensions = {\n        width: 600,\n        height: 300\n    }\n\n    margin = {\n        top: 320,\n        right: 100,\n        bottom: 100,\n        left: 380\n    }\n\n    arc = {\n        outerRadius: 280,\n        innerRadius: 150\n    }\n\n    chartId = 'donut_tissues'\n\n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <Wrapper>\n                    <div className='donut-wrapper'>\n                        <h1> Number of Model IDs Per Tissue Type </h1>\n                        <DonutChart \n                            dimensions={this.dimensions} margin={this.margin} \n                            chartId={this.chartId} data={this.state.data}\n                            arc={this.arc}\n                        />\n                    </div>\n                </Wrapper>\n                <Footer/>\n            </Fragment>\n        )\n    }\n}\n\nexport default DonutTissue","import styled from 'styled-components'\n\nconst StyleBar = styled.div`\n    margin-top: 30vh;\n    font-family: 'Raleway', sans-serif;\n    display:flex;\n    margin:auto;\n    \n    .search-container {\n        max-width: 1000px;\n        text-align:center;\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        align-items: center;\n        border-radius:25px;\n        max-height: 700px;\n    }\n\n    .select-component {\n        background: rgb(255,255,255,0.8);\n        width: 45%;\n        min-width: 750px;\n        margin-top: 0px;\n        max-height: 550px;\n        display: flex;\n        flex-wrap: wrap;\n        margin: 35px;\n        padding: 10px 25px 50px 25px;\n        \n        justify-content: space-around;\n        border-radius: 20px;\n\n        .div-dataset, .div-drug {\n            max-width: 49%;\n            min-width: 295px;\n        }\n        .div-genomics, .div-gene {\n            margin: 10px;\n            min-width: 600px;\n            max-width: 70%;\n        }\n\n        .div-rnaseq {\n            text-align: left;\n            padding-left: 5px;\n            margin: 5px;\n            min-width: 600px;\n            max-width: 70%;\n            font-size: 15px;\n            color: #3453b0;\n            \n            input {\n                color: #3453b0;\n                font-size: 14px;\n                border: 1px solid #3453b0;\n                border-radius: 4px;\n                outline-style: none;\n                padding: 2px;\n                margin-left: 4px;\n            }\n        }\n\n        .div-gene-enter {\n            margin: 15px;\n            min-width: 620px;\n            max-height: 150px;\n            input {\n                min-width: 600px;\n                min-height: 120px;\n                outline-style: none;\n                border-radius: 10px;\n                color: #3453b0;\n                font-weight: 300;\n                font-size: 16px;\n                border: 1px solid #3453b0;\n                padding: 20px;\n                box-sizing: border-box;\n            }\n        }\n\n    }\n\n    .two-col {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-around;\n        align-items: flex-end;\n        min-width: 610px;\n        max-width: 70%;\n        margin-bottom:10px;\n    }\n\n    h1 {\n      color: #3453b0;\n      text-align: center;\n      font-size: 36px;\n    }    \n\n   @media screen and (max-width: 1700px) {\n        h1 {\n            font-size: 22px;\n        }\n        .select-component {\n            width: 55%;\n            max-height: 395px;\n            min-width: 650px;\n        }\n        .search-container {\n            max-height: 500px;\n        }\n        .div-gene-enter {\n            min-height: 100px !important;\n            margin: 10px !important;\n            input {\n                min-height: 100px !important;\n                max-height: 100px;\n            }\n        }\n        .div-genomics, .div-gene {\n            margin: 5px !important;\n        }\n   }\n\n   @media screen and (max-width: 650px) {\n       h1 {\n           font-size: 18px;\n       }\n   }\n`;\n\n\nconst StyleButton = styled.button`\n    background-color: #3453b0;\n    border: none;\n    border-radius: 6px;\n    color: #ffffff;\n    padding: 10px 20px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 32px;\n    font-family: 'Raleway', sans-serif; \n    font-weight:700;\n    margin: auto;\n    transition: .3s;\n    outline-style: none;\n    margin-top: 0px;\n    &:hover {\n        opacity: 1;\n        cursor: pointer;\n        color:  #3453b0;\n        background-color: #ffffff;\n        border: 1px solid #3453b0;\n    }\n`;\n\n\nconst customStyles = {\n    placeholder: (provided) => ({\n          ...provided,\n          color: '#3453b0',\n          fontWeight:'400',\n          fontSize: '15px'\n    }),\n\n    control: (provided) => ({\n        ...provided,\n        '&:hover': { borderColor: '#3453b0' },\n        border: '1px solid #3453b0',\n        boxShadow: 'none',\n        padding: '0px 5px',\n        borderRadius: '5px',\n        background: 'rgb(255,255,255,0.7)',\n    }),\n\n    indicatorSeparator: (provided) => ({\n        ...provided,\n        background: '#3453b0',\n        '&:hover': { background: '#3453b0'},\n        height: '30px'\n    }), \n    \n    dropdownIndicator: (provided ) => ({\n        ...provided,\n        color: '#3453b0',\n        '&:hover': {\n          color: '#3453b0',\n          cursor: 'pointer'\n        }\n    }),\n\n    option: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        background: '#ffffff',\n        margin: '0px 0px',\n        '&:hover': {\n          background: '#fee8c8'\n        },\n        fontSize: '14px',\n        textAlign: 'left'\n    }),\n\n    singleValue: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        fontSize: '16px'\n    }),\n\n    input: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n    }),\n\n    clearIndicator: (provided) => ({\n        ...provided,\n        color: '#3453b0',\n        '&:hover': {\n          color: '#3453b0',\n        }\n    })\n}\n\n\n\nexport {\n    StyleBar,\n    customStyles,\n    StyleButton\n}","export const GeneList = [\n            'Prostate Cancer: AR Signaling=SOX9 RAN TNK2 EP300 PXN NCOA2 AR NRIP1 NCOR1 NCOR2',\n            'Prostate Cancer: AR and steroid synthesis enzymes=AKR1C3 AR CYB5A CYP11A1 CYP11B1 CYP11B2 CYP17A1 CYP19A1 CYP21A2 HSD17B1 HSD17B10 HSD17B11 HSD17B12 HSD17B13 HSD17B14 HSD17B2 HSD17B3 HSD17B4 HSD17B6 HSD17B7 HSD17B8 HSD3B1 HSD3B2 HSD3B7 RDH5 SHBG SRD5A1 SRD5A2 SRD5A3 STAR',\n            'Prostate Cancer: Steroid inactivating genes=AKR1C1 AKR1C2 AKR1C4 CYP3A4 CYP3A43 CYP3A5 CYP3A7 UGT2B15 UGT2B17 UGT2B7',\n            'Prostate Cancer: Down-regulated by androgen=BCHE CDK8 CTBP1 ACKR3 DDC DPH1 FN1 HES6 MMP16 MYC PEG3 PIK3R3 PRKD1 SCNN1A SDC4 SERPINI1 SLC29A1 ST7 TULP4',\n            'Glioblastoma: TP53 Pathway=CDKN2A MDM2 MDM4 TP53',\n            'Glioblastoma: RTK/Ras/PI3K/AKT Signaling=EGFR ERBB2 PDGFRA MET KRAS NRAS HRAS NF1 SPRY2 FOXO1 FOXO3 AKT1 AKT2 AKT3 PIK3R1 PIK3CA PTEN',\n            'Glioblastoma: RB Pathway=CDKN2A CDKN2B CDKN2C CDK4 CDK6 CCND2 RB1',\n            'Ovarian Cancer: Oncogenes associated with epithelial ovarian cancer=RAB25 MECOM EIF5A2 PRKCI PIK3CA KIT FGF1 MYC EGFR NOTCH3 KRAS AKT1 ERBB2 PIK3R1 CCNE1 AKT2 AURKA',\n            'Ovarian Cancer: Putative tumor-suppressor genes in epithelial ovarian cancer=DIRAS3 RASSF1 DLEC1 SPARC DAB2 PLAGL1 RPS6KA2 PTEN OPCML BRCA2 ARL11 WWOX TP53 DPH1 BRCA1 PEG3',\n            'General: Cell Cycle Control=RB1 RBL1 RBL2 CCNA1 CCNB1 CDK1 CCNE1 CDK2 CDC25A CCND1 CDK4 CDK6 CCND2 CDKN2A CDKN2B MYC CDKN1A CDKN1B E2F1 E2F2 E2F3 E2F4 E2F5 E2F6 E2F7 E2F8 SRC JAK1 JAK2 STAT1 STAT2 STAT3 STAT5A STAT5B',\n            'General: p53 signaling=TP53 MDM2 MDM4 CDKN2A CDKN2B TP53BP1',\n            'General: Notch signaling=ADAM10 ADAM17 APH1A APH1B ARRDC1 CIR1 CTBP1 CTBP2 CUL1 DLL1 DLL3 DLL4 DTX1 DTX2 DTX3 DTX3L DTX4 EP300 FBXW7 HDAC1 HDAC2 HES1 HES5 HEYL ITCH JAG1 JAG2 KDM5A LFNG MAML1 MAML2 MAML3 MFNG NCOR2 NCSTN NOTCH1 NOTCH2 NOTCH3 NOTCH4 NRARP NUMB NUMBL PSEN1 PSEN2 PSENEN RBPJ RBPJL RFNG SNW1 SPEN HES2 HES4 HES7 HEY1 HEY2',\n            'General: DNA Damage Response=CHEK1 CHEK2 RAD51 BRCA1 BRCA2 MLH1 MSH2 ATM ATR MDC1 PARP1 FANCF',\n            'General: Other growth / proliferation signaling=CSF1 CSF1R IGF1 IGF1R FGF1 FGFR1 AURKA DLEC1 PLAGL1 OPCML DPH1',\n            'General: Survival / cell death regulation signaling=NFKB1 NFKB2 CHUK DIRAS3 FAS HLA-G BAD BCL2 BCL2L1 APAF1 CASP9 CASP8 CASP10 CASP3 CASP6 CASP7 GSK3B ARL11 WWOX PEG3 TGFB1 TGFBR1 TGFBR2',\n            'General: Telomere maintenance=TERC TERT',\n            'General: RTK signaling family=EGFR ERBB2 ERBB3 ERBB4 PDGFA PDGFB PDGFRA PDGFRB KIT FGF1 FGFR1 IGF1 IGF1R VEGFA VEGFB KDR',\n            'General: PI3K-AKT-mTOR signaling=PIK3CA PIK3R1 PIK3R2 PTEN PDPK1 AKT1 AKT2 FOXO1 FOXO3 MTOR RICTOR TSC1 TSC2 RHEB AKT1S1 RPTOR MLST8',\n            'General: Ras-Raf-MEK-Erk/JNK signaling=KRAS HRAS BRAF RAF1 MAP3K1 MAP3K2 MAP3K3 MAP3K4 MAP3K5 MAP2K1 MAP2K2 MAP2K3 MAP2K4 MAP2K5 MAPK1 MAPK3 MAPK4 MAPK6 MAPK7 MAPK8 MAPK9 MAPK12 MAPK14 DAB2 RASSF1 RAB25',\n            'General: Regulation of ribosomal protein synthesis and cell growth=RPS6KA1 RPS6KA2 RPS6KB1 RPS6KB2 EIF5A2 EIF4E EIF4EBP1 RPS6 HIF1A',\n            'General: Angiogenesis=VEGFA VEGFB KDR CXCL8 CXCR1 CXCR2',\n            'General: Folate transport=SLC19A1 FOLR1 FOLR2 FOLR3 IZUMO1R',\n            'General: Invasion and metastasis=MMP1 MMP2 MMP3 MMP7 MMP9 MMP10 MMP11 MMP12 MMP13 MMP14 MMP15 MMP16 MMP17 MMP19 MMP21 MMP23B MMP24 MMP25 MMP26 MMP27 MMP28 ITGB3 ITGAV PTK2 CDH1 SPARC WFDC2'\n]\n\n\nexport default {\n    GeneList\n}","import React from 'react'\nimport { withRouter } from 'react-router-dom';\nimport {StyleBar, customStyles, StyleButton} from './SearchStyle'\nimport Select from 'react-select'\nimport axios from 'axios'\nimport { GeneList } from './GeneList'\n\n\n\nclass Search extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            data : [],\n            datasets: [],\n            genes: [],\n            selectedGeneSearch: ['Enter Gene Symbol(s)'],\n            selectedDrugs: [],\n            selectedDataset: '' ,\n            genomics: ['All', 'Mutation', 'CNV', 'RNASeq'],\n            selectedGenomics: [],\n            allDrugs: [],\n            threshold: 2,\n            toggleRNA: false\n        }\n        this.handleDrugChange = this.handleDrugChange.bind(this)\n        this.handleDatasetChange = this.handleDatasetChange.bind(this)\n        this.handleGeneListChange = this.handleGeneListChange.bind(this)\n        this.handleGeneSearchChange = this.handleGeneSearchChange.bind(this)\n        this.handleExpressionChange = this.handleExpressionChange.bind(this)\n        this.handleKeyPress = this.handleKeyPress.bind(this)\n        this.redirectUser = this.redirectUser.bind(this)\n        this.handleThreshold = this.handleThreshold.bind(this)\n    } \n\n    axiosConfig = {\n        headers: {\n            'Content-Type': 'application/json;charset=UTF-8',\n            'Accept': 'application/json'\n        }\n    };\n\n    componentWillMount() {\n        const genes = GeneList.map(item => ({\n            value: item.split('=')[1].replace(/\\s/g, ','),\n            label: `${item.split('=')[0]} (${item.split('=')[1].split(' ').length})`\n        }))\n    \n        this.setState ({\n            genes: [{value: 'user defined list', label: 'User-Defined List'}, ...genes]\n        })\n        \n        const genomic = this.state.genomics.map((item, i) => {\n            return ({\n                label: item,\n                value: i\n            })\n        })\n        this.setState({\n            genomics: [...genomic]\n        })\n    }\n\n    componentDidMount() {\n        axios.get(`/api/v1/datasets`)\n            .then((response) => {\n                const datasets = response.data.data.map(item => ({\n                        value: item.dataset_id,\n                        label: item.dataset_name\n                }))\n                this.setState ({\n                    datasets: [...datasets]\n                })\n            })\n    }\n\n\n    handleDrugChange = (selectedOption, action) => {\n        // console.log(this.state.allDrugs)\n        // console.log(this.state.data)\n        if (selectedOption !== null && selectedOption.length > 0)  {\n            if (selectedOption[0].value === 'all') {\n                this.setState ({\n                    selectedDrugs : this.state.allDrugs,\n                    //data : []\n                })\n            }\n            else {\n                const label = selectedOption.map((value) => {\n                    return (value.label).replace(/\\s/g,'').replace('+','_');\n                })\n                this.setState ({\n                    selectedDrugs : label\n                })\n            }\n        }\n    }\n\n    // handle the dataset change and sends a post request to grab drugs based on the particular dataset.\n    handleDatasetChange = selectedOption => {\n        this.setState({\n            selectedDataset: selectedOption.value\n        })\n        const label = selectedOption.value\n        let initial = 1;\n        axios.post(`/api/v1/drugpatient/dataset`, {label}, this.axiosConfig)\n             .then((response) => {\n                const data = response.data.data[0].map(item => ({\n                    value: initial++,\n                    label: item.drug\n                }))\n                this.setState ({\n                    data: [ {value: 'all', label:'All'}, ...data]\n                })\n                const drug = response.data.data[0].map(item => {\n                    return (item.drug).replace(/\\s/g,'').replace('+','_');\n                })\n                this.setState ({\n                    allDrugs: [...drug]\n                })\n             })\n    }\n\n    // sets the value of selected gene search, empty if it's user defined list else the option selected.\n    handleGeneListChange = selectedOption => {\n        if(selectedOption.value === 'user defined list') {\n            this.setState({\n                selectedGeneSearch: ''\n            })\n        } else {\n            this.setState({\n                selectedGeneSearch: selectedOption.value\n            })\n        }\n    }\n\n    // sets the value on event change.\n    handleGeneSearchChange = (event) => {\n        this.setState({\n            selectedGeneSearch: event.target.value\n        })\n    }\n\n    // this adds the value either mutation or cnv or rnaseq.\n    handleExpressionChange = selectedOption => {\n        if (selectedOption !== null && selectedOption.length > 0) {\n            // map through the options in order to store the selected value.\n            const genomics_value = selectedOption.map(value => {\n                return value.label\n            })\n            // if all then everything will be passed else the selected value.\n            if(genomics_value.includes('All')) {\n                this.setState({\n                    selectedGenomics : ['Mutation', 'CNV', 'RNASeq']\n                })\n            } else {\n                this.setState({\n                    selectedGenomics : genomics_value\n                })\n            }\n            // and if it includes RNASeq or all then toggle should be true.\n            if(genomics_value.includes('RNASeq') || genomics_value.includes('All')) {\n                this.setState({\n                    toggleRNA : true\n                })\n            } else {\n                this.setState({\n                    toggleRNA : false\n                })\n            }\n        } else if (selectedOption === null || selectedOption.length === 0) {\n            this.setState({\n                toggleRNA : false\n            })\n        }\n    }\n\n    // threshold for rnaseq.\n    handleThreshold = (event) => {\n        this.setState({\n            threshold : event.target.value\n        })\n    }\n\n\n    handleKeyPress = (event) => {\n        if(event.key === 'Enter'){\n           this.redirectUser()\n        }\n    }\n\n\n    redirectUser = () => {\n        if((this.state.selectedDataset !== '') && (this.state.selectedDrugs.length > 0) && (this.state.selectedGeneSearch[0] !== 'Enter Gene Symbol(s)')) {\n            const { history } = this.props\n            history.push(`/search/?drug=${this.state.selectedDrugs}&dataset=${this.state.selectedDataset}&genes=${this.state.selectedGeneSearch}&genomics=${this.state.selectedGenomics}&threshold=${this.state.threshold}`)\n        }\n    }\n\n\n    render() {\n        return (\n            <StyleBar className='wrapper'>\n                <div className='search-container'>\n                    <div className='select-component' onKeyPress={this.handleKeyPress}>\n                        <h1> <span>XevaDB:</span> A Database For PDX Pharmacogenomic Data </h1>\n                        <div className='two-col'>\n                            <div className='div-dataset'>\n                                <Select \n                                    options={this.state.datasets} \n                                    styles={customStyles}\n                                    placeholder={'Select the datasets'}\n                                    onChange={this.handleDatasetChange}\n                                />\n                            </div>\n                            <div className='div-drug'>\n                                <Select \n                                    options={this.state.data} \n                                    styles={customStyles}\n                                    placeholder={'Search for Drug (eg. CLR457)'}\n                                    onChange={this.handleDrugChange}\n                                    isMulti\n                                    isSearchable\n                                    isClearable\n                                />\n                            </div>\n                        </div>\n                        \n                        <div className='div-genomics'> \n                            <Select \n                                options={this.state.genomics} \n                                styles={customStyles}\n                                placeholder={'Genomics'}\n                                onChange={this.handleExpressionChange}\n                                isMulti\n                                isClearable\n                            />\n                        </div>\n\n                        <div className='div-rnaseq'> \n                        {\n                            this.state.toggleRNA ? \n                                <div>\n                                    Enter a z-score threshold \n                                    <input \n                                        type='text' \n                                        name='title' \n                                        value={this.state.threshold} \n                                        onChange={this.handleThreshold}\n                                    />\n                                </div>\n                            : null\n                        }\n                            \n                        </div>\n\n                        <div className='div-gene'>\n                            <Select \n                                options={this.state.genes} \n                                styles={customStyles}\n                                placeholder={'User Defined List'}\n                                onChange={this.handleGeneListChange}\n                            />\n                        </div>\n\n                        <div className='div-gene-enter'>\n                            <form>\n                                <input\n                                    type='text' \n                                    value={this.state.selectedGeneSearch} \n                                    onChange={this.handleGeneSearchChange}\n                                />\n                            </form>\n                        </div>\n                        <div>\n                            <StyleButton onClick={this.redirectUser} type='button'> \n                                <span>\n                                    Search\n                                </span>\n                            </StyleButton>\n                        </div>       \n                    </div>\n                </div>\n            </StyleBar>\n        )\n    }\n}\n\n\nexport default withRouter(Search)\n","import styled from 'styled-components'\n\n\nconst Container = styled.div`\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n`\n\nexport default Container","import React from 'react'\nimport Search from '../Search/Search'\nimport CounterNav from '../CounterNav/CounterNav'\nimport Container from './HomeStyle'\n\n\n\nclass Home extends React.Component {\n    render() {\n        return (\n            <Container>\n                <Search/>\n                <CounterNav/>\n            </Container>\n        )\n    }\n}\n\n\nexport default Home","import styled from 'styled-components'\n\n\nconst Paper = styled.div`\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nheight: 300px;\nwidth: 400px;\nmargin: auto;\nmargin-top: 20vh;\n`\n\nconst PaperGradient = styled.div`\nbackground-image: linear-gradient(\n    to right,\n    #CBC5EA,\n    #EAEAEA\n);\nheight: 400px;\nwidth: 500px;\nborder-radius: 5px;\n`\n\nconst FormStyle = styled.form`\nwidth: 100%;\nmargin-top: 2.5vh;\n`\n\nconst SubmitStyle = styled.div`\nmargin-top: 2vh;\n`\n\nconst LogoStyle = styled.img`\n    width:calc(5em + 2vw);\n    margin-top:2px;\n    z-index:999;\n    position: relative;\n    margin-left: calc(100vw - (3vw + 5em))\n`;\n\nconst LogoBack = styled.div `\nbackground-image: linear-gradient(\n    to right,\n    #CBC5EA,\n    #EAEAEA\n);\n`\n\n\n\nexport {\n    Paper,\n    FormStyle,\n    SubmitStyle,\n    LogoStyle,\n    PaperGradient,\n    LogoBack\n}","import React, { Fragment } from 'react';\nimport { Link } from 'react-router-dom'\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport {Paper, FormStyle, SubmitStyle, LogoStyle, PaperGradient, LogoBack} from './LoginStyle'\nimport logo from '../../images/logo.png';\n\nclass Login extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username : '',\n      password : ''\n    }\n    \n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n\n  handleUserChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({\n      username: event.target.value\n    })\n  }\n\n\n  handlePasswordChange = (event) => {\n    //console.log(event.target.value)\n    this.setState({\n      username: event.target.password\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n\n  render() {\n    return (\n      <Fragment>\n        \n        <Link to='/'>\n          <LogoBack>\n            <LogoStyle src={logo} alt='logo' />\n          </LogoBack>\n        </Link>\n\n        <Container component=\"main\" maxWidth=\"xs\">\n          <PaperGradient>\n          <Paper>\n\n            <Typography component=\"h1\" variant=\"h5\" style={{color:'#3f51b5', marginTop: '1.5vh'}}>\n              Sign in\n            </Typography>\n\n            <FormStyle>\n              <form onSubmit={this.handleSubmit}>\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  id=\"email\"\n                  label=\"Username\"\n                  name=\"username\"\n                  autoFocus\n                  onChange={this.handleUserChange}\n                />\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={this.handlePasswordChange}\n                />\n\n                <SubmitStyle>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                >\n                  Sign In\n                </Button>\n                </SubmitStyle>\n                \n                <Grid container style={{marginTop: '5px'}}>\n                  <Grid item xs>\n                    <Link href=\"#\" variant=\"body2\">\n                      Forgot password?\n                    </Link>\n                  </Grid>\n                  <Grid item>\n                    <Link href=\"#\" variant=\"body2\">\n                      {\"Don't have an account? Sign Up\"}\n                    </Link>\n                  </Grid>\n                </Grid>\n              </form>\n            </FormStyle>\n\n          </Paper>\n          </PaperGradient>\n        </Container>\n\n      </Fragment>\n    )\n  }\n\n}\n\n\nexport default Login","import React from 'react'\nimport axios from 'axios'\nimport Oncoprint from '../Oncoprint/Oncoprint'\n\n\n\nclass SearchResultOncoprint extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting the states for the data.\n        this.state = {\n            threshold : 0,\n            hmap_patients: [],\n            genes_mut : [],\n            genes_rna : [],\n            //genes_cnv: [],\n            patient_mut : [],\n            patient_rna : [],\n            //patient_cnv : []\n            data_mut : [],\n            data_rna : []\n            //data_cnv : []\n        };\n        //binding the functions declared.\n        this.updateResults = this.updateResults.bind(this);\n    }\n\n    updateResults(result, genomics_param) {\n        let genomics = genomics_param.split(',')\n   \n        // temporary solution to remove cnv if everything is selected.\n        if(genomics.includes('Mutation') && genomics.includes('CNV')) {\n            genomics = ['Mutation', 'RNASeq']\n        }\n       \n        // grab the last array(patient array) from result[0]\n        const dataset = result[0].data;\n        let hmap_patients = [];\n        // grabbing the total patients from hmap.\n        hmap_patients = dataset.pop()\n\n        //removing last element from each array element of result\n        if(result.length > 1) {\n            result.forEach((value, i) => {\n                if (i !== 0) {\n                    value.data.pop()\n                }\n            })\n        }\n\n        //setting patients genes and data for each of mutation, cnv and rna (given they are present)\n        let patient = {}\n        let genes = {}\n        let data = {}\n\n        genomics.forEach((value, i) => {\n            let val = value.substring(0,3).toLowerCase()\n\n            // setting patients\n            let patient_id = Object.keys(result[i].data[0]).filter(value => {\n                let return_value = ''\n                if(value !== 'gene_id') {\n                    return_value = value\n                }\n                return return_value\n            });\n            patient[`patient_${val}`] = patient_id\n\n            // genes\n            let gene_id = result[i].data.map((data) => {\n                return data['gene_id']\n            })\n            genes[`genes_${val}`] = gene_id\n\n            //data\n            data[`data_${val}`] = result[i].data\n        })\n\n        this.setState({\n            threshold : this.props.threshold,\n            hmap_patients : hmap_patients,\n            patient_mut : patient['patient_mut'] === undefined ? this.state.patient_mut : patient['patient_mut'],\n            patient_rna : patient['patient_rna'] === undefined ? this.state.patient_rna : patient['patient_rna'],\n            //patient_cnv : patient['patient_cnv'],\n            genes_mut : genes['genes_mut'] === undefined ? this.state.genes_mut : genes['genes_mut'],\n            genes_rna : genes['genes_rna'] === undefined ? this.state.genes_rna : genes['genes_rna'],\n            //genes_cnv : genes['genes_cnv'],\n            data_mut : data['data_mut'] === undefined ? this.state.data_mut : data['data_mut'],\n            data_rna : data['data_rna'] === undefined ? this.state.data_rna : data['data_rna'],\n        })\n    }\n\n    componentDidMount() {\n        let dataset_param = this.props.dataset_param\n        let gene_param = this.props.gene_param\n        let genomics_param = this.props.genomics_param\n        let query_data = []\n\n        // making get requests based on the genomics parameters.\n        // sequence is important (first cnv or mutation) then rnaseq has to be pushed.\n        if (genomics_param.includes('CNV') || genomics_param.includes('Mutation')) {\n            query_data.push(axios.get(`/api/v1/mutation?genes=${gene_param}&dataset=${dataset_param}`))\n        }\n        if (genomics_param.includes('RNASeq')) {\n            query_data.push(axios.get(`/api/v1/rnaseq?genes=${gene_param}&dataset=${dataset_param}`))\n        } \n        \n        Promise.all([...query_data])\n                .then(response => {\n                    this.updateResults(response, genomics_param)\n                })\n    }\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 50,\n        right: 200,\n        bottom: 100,\n        left: 250\n    }\n\n    render() {\n        return (\n            <Oncoprint \n                className = 'oprint_result'\n                dimensions = {this.dimensions}\n                margin = {this.margin}\n                threshold = {this.state.threshold}\n                hmap_patients = {this.state.hmap_patients}\n                genes_mut = {this.state.genes_mut} \n                genes_rna = {this.state.genes_rna}\n                patient_mut = {this.state.patient_mut}\n                patient_rna = {this.state.patient_rna}\n                data_mut = {this.state.data_mut} \n                data_rna = {this.state.data_rna}\n            />\n        )\n    }\n}\n\n\n\nexport default SearchResultOncoprint\n","import React from 'react'\nimport HeatMap from '../HeatMap/HeatMap'\nimport axios from 'axios'\n\n\nclass SearchResultHeatMap extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting the states for the data.\n        this.state = {\n            drug_data : [],\n            patient_id_drug : [],\n            drug_id : [],\n            dataset_param : 0\n        };\n        //binding the functions declared.\n        this.parseData = this.parseData.bind(this);\n    }\n\n    // this function takes the parsed result and set the states.\n    parseData(result) {\n      \n        // defining the variables.\n        let dataset = []\n        let patient = []\n        let drug = []\n\n        //patient array.\n        patient = result.pop()\n        \n        // this function will loop through the elements and\n        // assign empty values in case model information is not available.\n        result.forEach(element => {\n            let data_object = {}\n            drug.push(element.Drug)\n            patient.forEach((patient) => {\n                if(!element[patient]) {\n                    data_object[patient] = ''\n                } else {\n                    data_object[patient] = element[patient]\n                }\n            })\n            dataset.push(data_object)\n        });\n\n        //setting the states using the defined variables.\n        this.setState({\n            drug_id : drug,\n            patient_id_drug : patient,\n            drug_data: dataset\n        })\n    }\n\n    componentDidMount() {\n        let drug_param = this.props.drug_param\n        let dataset_param = this.props.dataset_param\n        \n        axios.get(`/api/v1/response?drug=${drug_param}&dataset=${dataset_param}`)\n             .then(response => {\n                 this.parseData(response.data);\n             })\n    }\n\n    dimensions = {\n        height: 35,\n        width: 20,\n    }\n\n    margin = {\n        top: 300,\n        right: 200,\n        bottom: 0,\n        left: 250\n    }\n\n    render() {\n        return (\n            <HeatMap\n                data = {this.state.drug_data} \n                drug_id = {this.state.drug_id} \n                patient_id = {this.state.patient_id_drug} \n                dimensions = {this.dimensions}\n                margin = {this.margin}\n                class = 'searchedHeatMap'\n            />\n        )\n    }\n}\n\n\n\nexport default SearchResultHeatMap\n","import React, {Fragment} from 'react'\nimport SearchResultOncoprint from './SearchResultOncoprint'\nimport SearchResultHeatMap from './SearchResultHeatMap'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\n\nclass SearchResult extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            drug_param : '',\n            dataset_param : '',\n            gene_param : '',\n          //drug_param_for_onco : '',\n            genomics_param : '',\n            threshold : 0\n        }\n    }\n\n    componentWillMount() {\n        let params = new URLSearchParams(this.props.location.search);\n        let genomics = params.get('genomics')\n        let drug = params.get('drug')\n        let dataset = params.get('dataset')\n        let gene = params.get('genes')\n        let threshold = params.get('threshold')\n        //let drug_for_onco = drug.split(',')[0]\n        console.log(threshold)\n        this.setState({\n            drug_param : drug,\n            dataset_param : dataset,\n            gene_param : gene,\n            //drug_param_for_onco : drug_for_onco,\n            genomics_param : genomics,\n            threshold : threshold\n        })\n    }\n       \n    render() {\n        return (\n            <Fragment>\n                <TopNav/>\n                <GlobalStyles/>\n                <div className='wrapper' style={{margin:'auto', fontSize:'0'}}>\n                    <SearchResultHeatMap \n                        drug_param = {this.state.drug_param} \n                        dataset_param = {this.state.dataset_param}\n                    />\n                    <SearchResultOncoprint \n                        gene_param = {this.state.gene_param} \n                        dataset_param = {this.state.dataset_param} \n                        //drug_for_onco = {this.state.drug_param_for_onco}\n                        genomics_param = {this.state.genomics_param}\n                        threshold = {this.state.threshold}\n                    />\n                </div>\n            </Fragment>\n        )\n    }\n}\n\n\n\nexport default SearchResult","import React, {Fragment} from 'react'\nimport * as d3 from 'd3'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport GlobalStyles from '../../GlobalStyles'\nimport TopNav from '../TopNav/TopNav'\n\nclass TumorGrowthCurve extends React.Component {\n\n    constructor(props) {\n        super(props)\n        //setting states for the data.\n        this.state = {\n            data : []\n        }\n        //binding the functions declared.\n        this.getParams = this.getParams.bind(this)\n        this.norm = this.norm.bind(this)\n        this.dataParse = this.dataParse.bind(this)\n        this.makeTumorGrowthCurve = this.makeTumorGrowthCurve.bind(this)\n        this.batchToggle = this.batchToggle.bind(this)\n    }\n\n    //get the parameters and set the values in the variables.\n    getParams() {\n        const params = new URLSearchParams(this.props.location.search)\n        let patient_param = params.get('patient');\n        let drugid_param = params.get('drug_id');\n\n        return {patient_param: patient_param, drugid_param: drugid_param}\n    }\n\n    // unity normalization\n    norm(value, first) {\n        return (value/first) - 1 \n    }\n\n    // filters by batch - comment out the batch lines for full data\n    // call this command to create a curve!!!\n    dataParse(data, batch_select) {\n        let data_formatted = []\n        let batches = []\n        String.prototype.replaceAll = String.prototype.replaceAll || function(s, r) {\n            return this.replace(new RegExp(s, 'g'), r);\n        };        \n\n        // loop throuth the data and set the values in the variable.\n        for (let i = 0; i < data.length; i++) {\n            batches.push(data[i]['batch'])\n            if (data[i]['batch'] === batch_select) {\n                // let exp_type = ''\n                // //this is used to set the value of exp_type to control or treatment.\n                // if(data[i]['drug'] === 'untreated') { exp_type = 'control' } \n                // else { exp_type = 'treatment' }\n\n                if (data[i]['time'] === 0) {\n                    var new_datapt = {\n                        exp_type: data[i][\"type\"],\n                        batch: data[i]['patient_id'],\n                        model: data[i]['model_id'],\n                        drug: data[i]['drug'],\n                        pdx_points: [{\n                            times: [parseInt(data[i]['time'])],\n                            volumes: [parseFloat(data[i]['volume'])],\n                            volume_normals: [parseFloat(data[i]['volume_normal'])]\n                        }],\n                        pdx_json: [{\n                            model: data[i]['model_id'].replace(/\\./g,' ').replaceAll(' ', '-'),\n                            batch: data[i]['patient_id'],\n                            exp_type: data[i][\"type\"],\n                            time: parseInt(data[i]['time']),\n                            volume: parseFloat(data[i]['volume']),\n                            volume_normal: parseFloat(data[i]['volume_normal'])\n                        }]\n                        \n                    }\n                    data_formatted.push(new_datapt)\n                } else {\n                    if (data[i]['time'] <= 200) {\n                        data_formatted[data_formatted.length - 1].pdx_points[0].times.push(parseInt(data[i]['time']))\n                        data_formatted[data_formatted.length - 1].pdx_points[0].volumes.push(parseFloat(data[i]['volume']))\n                        data_formatted[data_formatted.length - 1].pdx_points[0].volume_normals.push(parseFloat(data[i]['volume_normal']))\n                        data_formatted[data_formatted.length - 1].pdx_json.push(\n                            {\n                                model: data[i]['model_id'],\n                                batch: data[i]['patient_id'],\n                                exp_type: data[i][\"type\"],\n                                time: parseInt(data[i]['time']),\n                                volume: parseFloat(data[i]['volume']),\n                                volume_normal: parseFloat(data[i]['volume_normal'])\n                            }\n                        )\n                    }\n                }\n            }\n        }\n\n        //normalizing\n        // for (var i = 0; i < data_formatted.length; i++) {\n        //     var item = data_formatted[i]\n        //     var first = item.pdx_points[0].volumes[0]\n        //     for (var j = 0; j < item.pdx_points[0].volumes.length; j++) {\n        //         data_formatted[i].pdx_points[0].volumes[j] = this.norm(item.pdx_points[0].volumes[j], first)\n        //         data_formatted[i].pdx_json[j].volume = item.pdx_points[0].volumes[j]\n        //     }\n        // }\n        console.log(data_formatted)\n        this.setState({ data: data_formatted })\n    }\n\n    // toggle if batches present\n    // currently no batch in the data, so took patient id as the batch.\n    batchToggle(plotId, batches) {\n        var select = d3.select('#pdx' + plotId) // TODO: PLOT ID\n                        .append('select')\n                        .attr('class','select')\n                        .on('change',onchange)\n                \n     \n        select.selectAll('option')\n                .data(batches).enter()\n                .append('option')\n                .text(function (d) { return d; });\n                    \n        function onchange() {\n            d3.select('select').property('value')\n            select('#pdxplot').remove()\n        };\n    } \n\n\n    componentDidMount() {\n        let drugid_param = this.getParams().drugid_param\n        let patient_param = this.getParams().patient_param\n        axios.get(`/api/v1/treatment?drug=${drugid_param}&patient=${patient_param}`)\n             .then(response => {\n                function unique(value, index, self) { \n                    return self.indexOf(value) === index;\n                }\n                let batches = []\n                for (let i = 0; i < response.data.length; i++) {\n                    batches.push(response.data[i][\"batch\"])\n                    \n                }\n                this.batchToggle(\"plot\", batches.filter(unique))\n                this.dataParse(response.data, batches[0]);\n             })\n    }\n\n    componentDidUpdate() {\n        const node = this.node;\n        let plotId = 'plot'\n        if (this.state.data.length !== 0) {\n            this.makeTumorGrowthCurve(this.state.data, plotId, node)\n            d3.select(\".no-graph\").remove()\n        } else {\n            d3.select(\"svg\").remove()\n        }\n        \n    }\n\n    // This is the main function to create Growth curves.\n\n    makeTumorGrowthCurve(data, plotId, node) {\n        this.node = node\n        tumorCurve(data, plotId, node)\n\n        String.prototype.replaceAll = String.prototype.replaceAll || function(s, r) {\n            return this.replace(new RegExp(s, 'g'), r);\n        };\n\n        // unique function\n        // usage: var a = [1,2,3,4]; unique = a.filter(unique);\n        function unique(value, index, self) { \n            return self.indexOf(value) === index;\n        }\n\n        // get the union set of all timepoints for the means\n        // until the last timepoint of the shortest graph\n        // returns [ [control] , [treatment] ]\n        function getUnionOfTimepoints(data) {\n            var control = []\n            var treatment = []\n            // var c_ind = data[0].exp_type == \"control\" ? 0 : 1\n            // var t_ind = data[0].exp_type == \"treatment\" ? 0 : 1\n            let minControl, minTreatment;\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].exp_type === \"control\") {\n                    minControl = data[i].pdx_points[0].times[data[i].pdx_points[0].times.length - 1]; \n                    break;\n                }\n            }\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].exp_type === \"treatment\") {\n                    minTreatment = data[i].pdx_points[0].times[data[i].pdx_points[0].times.length - 1]; \n                    break;\n                }\n            }\n             \n\n            // merging time point arrays, and then unique\n            for (var i = 0; i < data.length; i++) {\n                var temp = data[i].pdx_points[0].times;\n                if (data[i].exp_type === 'control') {\n                    control = control.concat(temp)\n                    minControl = temp[temp.length - 1] < minControl ? temp[temp.length - 1] : minControl\n                } else {\n                    treatment = treatment.concat(data[i].pdx_points[0].times)\n                    minTreatment = temp[temp.length - 1] < minTreatment ? temp[temp.length - 1] : minTreatment\n                }\n            }\n            // unique, sort, and cut off at the last timepoint of shortest graph\n            control = control.filter(unique).sort(function (a, b) {  return a - b;  });\n            var index = control.indexOf(minControl)\n            control = control.slice(0, index + 1)\n\n            treatment = treatment.filter(unique).sort(function (a, b) {  return a - b;  });\n            index = treatment.indexOf(minTreatment)\n            treatment = treatment.slice(0, index + 1)\n\n            return [control, treatment]\n          \n            \n             \n        }\n\n\n        function tumorCurve(data, plotId, node) {\n            // let drug = data[0]['drug']\n\n            //calculating max time, min/max volumes of all data\n            var maxTimeArray = [];\n            var minVolArray = [];\n            var maxVolArray = [];\n            var maxVolNormArray = [];\n            for (var i = 0; i < data.length; i++) {\n                maxTimeArray.push(d3.max(data[i].pdx_points[0].times));\n                minVolArray.push(d3.min(data[i].pdx_points[0].volumes));\n                maxVolArray.push(d3.max(data[i].pdx_points[0].volumes));\n                maxVolNormArray.push(d3.max(data[i].pdx_points[0].volume_normals));\n            }\n\n            var maxTime = Math.max.apply(null, maxTimeArray);\n            var minVolume = Math.min.apply(null, minVolArray);\n            var maxVolume = Math.max.apply(null, maxVolArray);\n            var maxVolNorm = Math.max.apply(null, maxVolNormArray);\n\n            var exp_types = ['control', 'treatment']\n\n            // positioning variables\n            var width = 970;\n            var height = 500;\n            var margin = {\n                top:50,\n                right:260,\n                bottom:200,\n                left:130\n            }\n            // make the svg element\n            var svg = d3.select(node)\n                        .append('svg')\n                        .attr('id', 'pdx' + plotId)\n                        .attr('xmlns', 'http://www.w3.org/2000/svg')\n                        .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink') // for downloading\n                        .attr('width', width + margin.left + margin.right)\n                        .attr('height', height + margin.top + margin.bottom)\n                        .append('g')\n                        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n\n            // legend\n            var legend = svg.selectAll('.legend')\n                            .data(exp_types)\n                            .enter()\n\n            legend.append('circle')\n                    .attr('id', function(d,i) {\n                        return 'legend-dot-' + exp_types[i]\n                    })\n                    .attr('class', 'legend')\n                    .attr('r', 5)\n                    .attr('fill',function(d,i) {\n                        if (exp_types[i] === 'control') {\n                            return '#cd5686';\n                        } else {\n                            return '#5974c4';\n                        }\n                    })\n                    .attr('cx', width + 30)\n                    .attr('cy', function(d,i) {return height/2 - 50 + (i*50);})\n\n            legend.append('text')\n                    .attr('id', function(d,i) {\n                        return 'legend-text-' + exp_types[i]\n                    })\n                    .attr('class', 'legend')\n                    .attr('fill','black')\n                    .style('font-size', '16px')\n                    .attr('x', width+40)\n                    .attr('y', function(d,i) {return height/2 - 45 + (i*50);})\n                    .text(function(d,i) {return exp_types[i]})\n\n\n            // set domain and range scaling\n            var xrange = d3.scaleLinear()\n                            .domain([0, maxTime]) \n                            .range([0, width])\n                            .nice();\n\n            var yrange = d3.scaleLinear()\n                            .domain([0, maxVolume])\n                            .range([height, 0])\n                            .nice();\n\n            //set axes for graph\n            var xAxis = d3.axisBottom()\n                            .scale(xrange)\n                            .tickPadding(2);\n\n            var yAxis = d3.axisLeft()\n                            .scale(yrange)\n                            .tickPadding(2);\n\n            // Add the X Axis\n            var xAxisAdd = svg.append('g')\n                .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + yrange(0) + ')')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .call(xAxis);\n\n            // X axis label\n            svg.append('text')\n                .attr('text-anchor', 'middle')\n                .attr('fill','black')\n                .attr('transform', 'translate('+ (width/2) +','+(height+40)+')')\n                .text('Time (days)');\n\n            // Add the Y Axis\n            var yAxisAdd = svg.append('g')\n                .attr('class', 'y axis')\n                .attr('fill', 'none')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .call(yAxis);\n\n            // Y axis label\n            svg.append('text')\n                .attr('text-anchor', 'middle')\n                .attr('fill','black')\n                .attr('transform', 'translate(' + -60 +','+(height/2)+')rotate(-90)')\n                .text('Volume (mm)');\n\n            // remove strokes for all ticks\n            svg.selectAll('.tick').select('text')\n                    .attr('fill', 'black')\n                    .attr('stroke', 'none')\n                    .attr(\"font-size\", \"14px\")\n            \n            let graph = svg.append(\"g\")\n                            .attr(\"id\", \"curves\")\n            // plot each model\n            plotBatch(data, graph, xrange, yrange, width, height, false)\n            volumeToggle(data, svg, xrange, yrange, yAxis, yAxisAdd, width, height, maxVolume, maxVolNorm, plotId)\n        }\n\n        function plotBatch(data, graph, xrange, yrange, width, height, norm) {\n            //when using d.model, use d.model.replace(/\\./g,' ').replaceAll(' ', '-')\n            //to replace all the periods with dashes because dots interfere with classes\n        \n            var models = graph.selectAll('g.model')\n                .data(data)\n                .enter()\n                    .append('g')\n                        .attr('class', 'model')\n        \n            // plotting the dots\n            var dots = models.selectAll('.model-dot')\n                .data(function(d) {return d.pdx_json})\n                .enter();\n        \n            var paths = graph.selectAll('.model-path')\n                .data(function(d) {return data})\n                .enter();\n        \n            // making tooltips\n            // var tooltips = models.selectAll('.tooltip-dot')\n            //     .data(function(d) {return d.pdx_json})\n            //     .enter();\n        \n            //     // timepoint\n            //     tooltips.append('text')\n            //         .attr('id', function(d,i) { return 'tooltip-t-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-') + '-' + d.exp_type + i})\n            //         .attr('class', 'tooltip-dot')\n            //         .attr('dx', width+20)\n            //         .attr('dy', height/2 + 30)\n            //         .attr('font-size', '14px')\n            //         .style('opacity', 0)\n            //         .attr('fill', 'black')\n            //         .html(function(d) {return 'Time: ' + d.time + ' days'})\n                \n            //     // volume\n            //     tooltips.append('text')\n            //         .attr('id', function(d,i) { return 'tooltip-v-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-') + '-' + d.exp_type + i})\n            //         .attr('class', 'tooltip-dot')\n            //         .attr('dx', width+20)\n            //         .attr('dy', height/2 + 45)\n            //         .attr('font-size', '14px')\n            //         .style('opacity', 0)\n            //         .attr('fill', 'black')\n            //         .html(function(d) {\n            //             if (norm) {\n            //                 return 'Volume: ' + d3.format('.2f')(d.volume_normal) + ' mm'\n            //             } else {\n            //                 return 'Volume: ' + d3.format('.2f')(d.volume) + ' mm'\n            //             }\n                        \n            //         })\n                \n            dots.append('circle')\n                .attr('id', function(d,i) {\n                    return 'dot-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-') + '-' + \n                            d.exp_type + i\n                })\n                .attr('class', function(d) {\n                    return 'model-dot ' + \n                            d.model.replace(/\\./g,' ').replaceAll(' ', '-') + ' ' + \n                            d.batch\n                })\n                .attr('r', 4)\n                .attr('fill', function(d,i) {\n                    if (d.exp_type === 'control') {\n                        return '#cd5686';\n                    } else {\n                        return '#5974c4';\n                    }\n                })\n                .style('opacity', 0.6)\n                .attr('cx', function(d) {return xrange(d.time);})\n                .attr('cy', function(d) {\n                    if (norm) {\n                        return yrange(d.volume_normal);\n                    } else {\n                        return yrange(d.volume);\n                    }\n                    \n                })\n\n        \n            // line function, to join dots\n            var linepath = d3.line()\n                .x(function(d) {return xrange(d.time);})\n                .y(function(d) {\n                    if (norm) {\n                        return yrange(d.volume_normal);\n                    } else {\n                        return yrange(d.volume);\n                    }\n                })\n                \n        \n            // add line\n            paths.append('path')\n                .attr('id', function(d) { return 'path-' + d.model.replace(/\\./g,' ').replaceAll(' ', '-')})\n                .attr('class', function(d) { \n                    return 'model-path ' + d.exp_type + ' ' +\n                            d.model.replace(/\\./g,' ').replaceAll(' ', '-') + ' ' + \n                            d.batch\n                })\n                .attr('d', function(d) {return linepath(d.pdx_json)})\n                .attr('fill', 'none')\n                .style('opacity', 0.6)\n                .attr('stroke', function (d) {\n                    if (d.exp_type === 'control') {\n                        return '#cd5686';\n                    } else {\n                        return '#5974c4';\n                    }\n                })\n                .attr('stroke-width', 2)\n                .attr('stroke-dasharray', ('3', '3'))\n\n            plotMeans(data, graph, xrange, yrange, width, height)\n            // modelToggle(graph, width, height)\n        }\n\n        // plot the mean of each experiment type (control, treatment)\n        function plotMeans(data, svg, xrange, yrange, width, height) {\n            var timeUnion = getUnionOfTimepoints(data)\n            let exp_types = []\n\n            // if there is no control\n            if (timeUnion[0].length === 0) {\n                exp_types = [\"treatment\"]\n                timeUnion.shift()\n            } else if (timeUnion[1].length === 0) { //no treatment\n                exp_types = [\"control\"]\n                timeUnion.pop()\n            } else {\n                exp_types = ['control', 'treatment']\n            }\n             \n            \n            var ypoint_arr = [] // un-yranged\n            var all_ypoint = [] // for std devs\n\n            //TODO: fix the batch, it's the first one rn\n            var batch = data[0].batch\n\n            for (var n = 0; n < exp_types.length; n++) {\n                var exp = exp_types[n]\n                var times = timeUnion[n]\n                var selection = d3.selectAll('.model-path.' + exp_types[n])._groups     \n                // for each timepoint\n                for (var i = 0; i < timeUnion[n].length; i++) {\n                    var temp_ycoord = []\n                    \n                    // for each path, get ycoord for each timepoint in union\n                    for (var j = 0; j < selection.length; j++) {\n                        var path = selection[j][0]\n                        var ycoord = findY(path, xrange(timeUnion[n][i])) \n                        temp_ycoord.push(yrange.invert(ycoord))\n                    }\n\n                    // append array to all_ypoint for std devs\n                    all_ypoint.push(temp_ycoord)\n                    // append mean to ypoint_arr\n                    ypoint_arr.push(mean(temp_ycoord))\n                }\n                // plot error bars\n                // plotErrorBars(data, exp, times, all_ypoint, ypoint_arr, svg, xrange, yrange)\n\n                // mean svg\n                var mean_svg = svg.append('g')\n                    .attr('id', 'mean_' + exp_types[n])\n\n                //tooltips\n                var tooltips = svg.selectAll('.tooltip-mean-dot' + exp)\n                    .data(ypoint_arr)\n                    .enter();\n\n                // timepoint\n                tooltips.append('text')\n                    .attr('id', function(d,i) { return 'tooltip-mean-t-' + batch + '-' + exp + i})\n                    .attr('class', 'tooltip-mean-dot' + exp)\n                    .attr('dx', width+20)\n                    .attr('dy', height/2 + 30)\n                    .attr('font-size', '14px')\n                    .style('opacity', 0)\n                    .attr('fill', 'black')\n                    .html(function(d,i) {return 'Time: ' + times[i] + ' days'})\n\n                // volume\n                tooltips.append('text')\n                    .attr('id', function(d,i) { return 'tooltip-mean-v-' + batch + '-' + exp + i})\n                    .attr('class', 'tooltip-mean-dot')\n                    .attr('dx', width+20)\n                    .attr('dy', height/2 + 45)\n                    .attr('font-size', '14px')\n                    .style('opacity', 0)\n                    .attr('fill', 'black')\n                    .html(function(d,i) {return 'Volume: ' + d3.format('.2f')(ypoint_arr[i]) + ' mm'})\n                \n                var mean_dots = mean_svg.selectAll('.mean-dot')\n                    .data(ypoint_arr)\n                    .enter()\n                mean_dots.append('circle')\n                    .attr('id', function(d,i) {\n                        return 'mean-dot-' + exp_types[n] + '-' + batch\n                    })\n                    .attr('class', 'mean-dot ' + batch)\n                    .attr('r', 4)\n                    .attr('fill',function() {\n                        if (exp_types[n] === 'control') {\n                            return '#cd5686'; \n                        } else {\n                            return '#5974c4';\n                        }\n                    })\n                    .attr('cx', function(d,i) {return xrange(timeUnion[n][i]);})\n                    .attr('cy', function(d,i) {return yrange(ypoint_arr[i]);})\n                    .on({\n                        'mouseover': function(d,i) {\n                            d3.select('#tooltip-mean-t-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 1);\n                            d3.select('#tooltip-mean-v-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 1);\n                        },\n                        'mouseout': function(d,i) {\n                            d3.select('#tooltip-mean-t-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 0);\n                            d3.select('#tooltip-mean-v-' + batch + '-' + exp + i).transition().duration(300).style('opacity', 0);\n                        },\n                    })\n\n                var mean_path = mean_svg.selectAll('.mean-path')\n                    .data(ypoint_arr)\n                    .enter();\n\n                \n                var linepath = d3.line()\n                    .x(function(d,i) {return xrange(timeUnion[n][i]);})\n                    .y(function(d,i) {return yrange(ypoint_arr[i]);})\n\n                mean_path.append('path')\n                    .attr('id', 'mean-path-' + exp_types[n] + '-' + batch)\n                    .attr('class',  'mean-path ' + batch)\n                    .attr('d', function(d) {return linepath(ypoint_arr)})\n                    .attr('fill', 'none')\n                    .style('opacity', 0.2)\n                    .attr('stroke', function() {\n                        if (exp_types[n] === 'control') {\n                            return '#cd5686'; \n                        } else {\n                            return '#5974c4';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n\n                \n\n                // reset y arrs\n                all_ypoint = []\n                ypoint_arr = []\n            }       \n        }\n\n        //toggle to show each model\n        function modelToggle(svg, width, height) {\n            var nest = d3.nest()\n                .key(function(d) {return d;})\n                .entries([''])\n            \n            nest.forEach(function(d,i) {\n                var modelToggle = svg.append('rect')\n                .attr('x', width + 21)\n                .attr('y', height/2 + 40)\n                .attr('id', 'modelToggle')\n                .attr('width', 10)\n                .attr('height', 10)\n                .attr('fill', 'black')\n                .attr('stroke', 'black')\n                .attr('stroke-width', 1)\n                .on('click', function () {\n                    var active = d.active ? false : true ,\n                    newOpacity = active ? 0 : 1,\n                    newFill = active? 'white' : 'black';\n\n                    // Hide or show the elements\n                    d3.selectAll('.model-dot').style('opacity', newOpacity);\n                    d3.selectAll('.model-path').style('opacity', newOpacity);\n                    d3.select('#modelToggle').attr('fill', newFill)\n\n                    // Update whether or not the elements are active\n                    d.active = active;\n                })\n                .on({\n                    'mouseover': function() {\n                        d3.select(this).style('cursor', 'pointer');\n                    },\n                    'mouseout': function() {\n                        d3.select(this).style('cursor', 'default');\n                    }\n                })\n\n                var modelToggleText = svg.append('text')\n                    .attr('dx', width + 35)\n                    .attr('dy', height/2 + 50)\n                    .attr('fill', 'black')\n                    .text('Show all curves')\n                    .on('click', function () {\n                        var active = d.active ? false : true ,\n                        newOpacity = active ? 0 : 1,\n                        newFill = active? 'white' : 'black';\n            \n                        // Hide or show the elements\n                        d3.selectAll('.model-dot').style('opacity', newOpacity);\n                        d3.selectAll('.model-path').style('opacity', newOpacity);\n                        d3.select('#modelToggle').attr('fill', newFill)\n            \n                        // Update whether or not the elements are active\n                        d.active = active;\n                    })\n                    .on({\n                        'mouseover': function() {\n                            d3.select(this).style('cursor', 'pointer');\n                        },\n                        'mouseout': function() {\n                            d3.select(this).style('cursor', 'default');\n                        }\n                    })\n            })\n        } \n\n\n        function mean(arr) {\n            var total = 0\n            for (var i = 0; i < arr.length; i++) {\n                total += arr[i]\n            }\n            return (total/arr.length)\n        }\n\n        // thank you stackoverflow user Wei\n        // https://stackoverflow.com/questions/15578146/get-y-coordinate-of-point-along-svg-path-with-given-an-x-coordinate\n        function findY(path, x) {\n            var pathLength = path.getTotalLength()\n            var start = 0\n            var end = pathLength\n            var target = (start + end) / 2\n        \n            // Ensure that x is within the range of the path\n            x = Math.max(x, path.getPointAtLength(0).x)\n            x = Math.min(x, path.getPointAtLength(pathLength).x)\n        \n            // Walk along the path using binary search \n            // to locate the point with the supplied x value\n            while (target >= start && target <= pathLength) {\n            var pos = path.getPointAtLength(target)\n        \n            // use a threshold instead of strict equality \n            // to handle javascript floating point precision\n            if (Math.abs(pos.x - x) < 0.001) {\n                return pos.y\n            } else if (pos.x > x) {\n                end = target\n            } else {\n                start = target\n            }\n            target = (start + end) / 2\n            }\n        }\n\n        //takes in an array of arrays and an array of means,\n        // and returns array of std devs\n        function stdDev(values, means) {\n            var stdDevs = []\n            for (var i = 0; i < values.length; i++) {\n            var temp = 0;\n            for (var j = 0; j < values[i].length; j++) {\n                temp += Math.pow(values[i][j] - means[i], 2);\n            }\n            stdDevs.push(Math.sqrt(temp)/values[i].length);\n            }\n            return stdDevs;\n        }\n\n        function plotErrorBars(data, exp, times, all_ypoint, ypoint_arr, svg, xrange, yrange) {\n            var stdDevs = stdDev(all_ypoint, ypoint_arr)\n\n            var errorBars = svg.append('g')\n                .attr('id', 'errorBars')\n\n            var errorMidBar = errorBars.selectAll('line.error')\n                .data(stdDevs);\n\n                errorMidBar.enter()\n                    .append('line')\n                    .attr('class', 'error')\n                    .attr('stroke', function() {\n                        if (exp === 'control') {\n                            return '#3b9dd6'; \n                        } else {\n                            return '#e0913c';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n                    .attr('x1', function(d,i) { return xrange(times[i]); })\n                    .attr('x2', function(d,i) { return xrange(times[i]); })\n                    .attr('y1', function(d,i) { return yrange(ypoint_arr[i] + stdDevs[i]); })\n                    .attr('y2', function(d,i) { return yrange(ypoint_arr[i] - stdDevs[i]); });\n\n            var errorTopBar = errorBars.selectAll('line.errorTop')\n                .data(stdDevs);\n\n                errorTopBar.enter()\n                    .append('line')\n                    .attr('class', 'errorTop')\n                    .attr('stroke', function() {\n                        if (exp === 'control') {\n                            return '#3b9dd6'; \n                        } else {\n                            return '#e0913c';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n                    .attr('x1', function(d,i) { return xrange(times[i]) - 3; })\n                    .attr('x2', function(d,i) { return xrange(times[i]) + 3; })\n                    .attr('y1', function(d,i) { return yrange(ypoint_arr[i] + stdDevs[i]);})\n                    .attr('y2', function(d,i) { return yrange(ypoint_arr[i] + stdDevs[i]);});\n\n            var errorBotBar = errorBars.selectAll('line.errorBot')\n                .data(stdDevs);\n\n                errorBotBar.enter()\n                    .append('line')\n                    .attr('class', 'errorBot')\n                    .attr('stroke', function() {\n                        if (exp === 'control') {\n                            return '#3b9dd6'; \n                        } else {\n                            return '#e0913c';\n                        }\n                    })\n                    .attr('stroke-width', 2)\n                    .attr('x1', function(d,i) { return xrange(times[i]) - 3; })\n                    .attr('x2', function(d,i) { return xrange(times[i]) + 3; })\n                    .attr('y1', function(d,i) { return yrange(ypoint_arr[i] - stdDevs[i]);})\n                    .attr('y2', function(d,i) { return yrange(ypoint_arr[i] - stdDevs[i]);});\n        }\n\n        //toggle to show each model\n        function volumeToggle(data, svg, xrange, yrange, yAxisAdd, yAxis, width, height, maxVolume, maxVolNorm, plotId) {\n            // var nest = d3.nest()\n            //     .key(function(d) {return d;})\n            //     .entries([''])\n\n            // nest.forEach(function(d,i) {\n                \n\n                var volRaw = svg.append(\"rect\")\n                    .attr('x', width+25)\n                    .attr(\"y\", height/2 + 50)\n                    .attr(\"width\", 70)\n                    .attr(\"height\", 20)\n                    .attr(\"fill\", \"#cd5686\")\n                    .style(\"opacity\", 0.8)\n                    .attr('id', 'volRawToggle')\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                                        .domain([0, maxVolume])\n                                        .range([height, 0])\n                                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, false)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"#cd5686\")\n                        d3.select('#volNormToggle').attr('fill', \"lightgray\")\n                        \n                    })\n\n                var volNorm = svg.append(\"rect\")\n                    .attr('x', width+25)\n                    .attr(\"y\", height/2 + 70)\n                    .attr(\"width\", 70)\n                    .attr(\"height\", 20)\n                    .style(\"opacity\", 0.8)\n                    .attr(\"fill\", \"lightgray\")\n                    .attr('id', 'volNormToggle')\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                        .domain([0, maxVolNorm])\n                        .range([height, 0])\n                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, true)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"lightgray\")\n                        d3.select('#volNormToggle').attr('fill', \"#cd5686\")\n                        \n                    })\n\n            var volRawText = svg.append(\"text\")\n                    .attr('fill','black')\n                    .style('font-size', '12px')\n                    .attr(\"id\", \"volRawText\")\n                    .attr(\"text-anchor\", \"middle\")\n                    .attr('x', width+60)\n                    .attr(\"y\", height/2 + 64)\n                    .text(\"Raw\")\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                                        .domain([0, maxVolume])\n                                        .range([height, 0])\n                                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, false)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"#cd5686\")\n                        d3.select('#volNormToggle').attr('fill', \"lightgray\")\n                       \n                    })\n\n            var volNormText = svg.append(\"text\")\n                    .attr('fill','black')\n                    .style('font-size', '12px')\n                    .attr(\"id\", \"volNormText\")\n                    .attr('x', width+29)\n                    .attr(\"y\", height/2 + 84)\n                    .text(\"Normalized\")\n                    .on('click', function () {\n                        yrange = d3.scaleLinear()\n                        .domain([0, maxVolNorm])\n                        .range([height, 0])\n                        .nice();\n\n                        yAxis = d3.axisLeft()\n                                        .scale(yrange)\n                                        .tickPadding(2);\n\n                        d3.selectAll(\"g.y.axis\").call(yAxis)\n                        svg.selectAll('.tick').select('text')\n                            .attr('fill', 'black')\n                            .attr('stroke', 'none')\n                            .attr(\"font-size\", \"14px\")\n                        d3.select(\"#curves\").remove()\n                        let graph = svg.append(\"g\")\n                                        .attr(\"id\", \"curves\")\n                        plotBatch(data, graph, xrange, yrange, width, height, true)\n                    \n                        d3.select('#volRawToggle').attr('fill', \"lightgray\")\n                        d3.select('#volNormToggle').attr('fill', \"#cd5686\")\n                        \n                    })\n            // })\n        } \n\n    }\n\n    render() {\n        return (\n            <Fragment>\n            <TopNav/>\n            <GlobalStyles/>\n            <div className=\"wrapper\" style={{margin:\"auto\", fontSize:\"16px\"}}>\n                <div className=\"curve-wrapper\" style={{marginTop:\"100px\"}}>\n                    <h1>Drug ID = <span style={{color:\"#cd5686\"}}>{this.getParams().drugid_param}</span> and Patient ID = <span style={{color:\"#cd5686\"}}>{this.getParams().patient_param}</span></h1>\n                    \n                    <svg ref = {node => this.node = node} width={1300} height={620} >\n                    </svg>\n\n                    <div className=\"no-graph\">There is no data for this graph.</div>\n                    \n                    \n                </div>\n                <div className=\"curve-wrapper\" style={{marginTop:\"20px\", padding:\"10px 0px\"}}>\n                    <Link to='/datasets'> &nbsp;&nbsp;Back to Datasets </Link>\n                </div>\n            </div>\n            </Fragment>\n        )\n    }\n}\n\n\n\nexport default TumorGrowthCurve;","import React, {Fragment} from 'react'\nimport {    CounterNav,\n            Dataset,\n            DatasetDonut,\n            Documentation,\n            DonutDrug,\n            DonutTissue,\n            DrugTable,\n            Footer,\n            HeatMapData,\n            Home,\n            Login,\n            OncoprintData,\n            SearchResult,\n            TopNav,\n            TumorGrowthCurve, } from './Components/index'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\n\n\nconst Merge = () => {\n    return (\n      <Fragment>\n        <HeatMapData/>\n        <OncoprintData/>\n        <Footer/>\n      </Fragment>\n    )\n}\n\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Fragment>\n        <Router>\n          <Switch>\n            <Route path='/' exact component={Home}></Route>\n            <Route path='/curve' exact component={TumorGrowthCurve}></Route>\n            <Route path='/datasets' exact component={DatasetDonut}></Route>\n            <Route path='/dataset/:id' exact component={Dataset}></Route>\n            <Route path='/doc' exact component={Documentation}></Route>\n            <Route path='/drugs' exact component={DonutDrug}></Route>\n            <Route path='/drug/:id' exact component={DrugTable}></Route>\n            <Route path='/home' exact component={CounterNav}></Route>\n            <Route path='/login' exact component={Login}></Route>\n            <Route path='/maps' exact component={Merge}></Route>\n            <Route path='/search' exact component={SearchResult}></Route>\n            <Route path='/tissues' exact component={DonutTissue}></Route>\n            <Route render = { () => <h1> 404 Error </h1> } />\n          </Switch>\n        </Router>\n      </Fragment>\n    )\n  }\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.1de5f71c.png\";","module.exports = __webpack_public_path__ + \"static/media/bgImg7.3eb67c7e.png\";"],"sourceRoot":""}